function authorize(e,t,n){set("authorize",'{"Username": "'+e+'", "Password":"'+t+'","UserProfile":'+n+"}")}function getUser(){return get("authorize")}function deleteUser(){remove("authorize")}function set(e,t){isIE()?setCookie(e,t,365):window.localStorage.setItem(e,t)}function get(e){return isIE()?getCookie(e):window.localStorage.getItem(e)}function remove(e){isIE()?setCookie(e,"",-365):window.localStorage.removeItem(e)}function setCookie(e,t,n){var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3);var i="expires="+r.toUTCString();document.cookie=e+"="+t+";"+i+";path=/"}function getCookie(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return""}function isIE(){return ua=navigator.userAgent,-1<ua.indexOf("MSIE ")||-1<ua.indexOf("Trident/")}function WexflowDesigner(){"use strict";hljs.initHighlightingOnLoad();var H=Common.trimEnd(Settings.Uri,"/"),n=document.getElementById("lnk-manager"),r=document.getElementById("lnk-designer"),i=document.getElementById("lnk-users"),e=getUser(),a=Common.os();if(null===e||""===e)Common.redirectToLoginPage();else{var o=JSON.parse(e);Common.get(H+"/user?username="+encodeURIComponent(o.Username),function(e){if(o.Password!==e.Password)Common.redirectToLoginPage();else if(0===e.UserProfile){n.style.display="inline",r.style.display="inline",i.style.display="inline";var t=document.getElementById("btn-logout");document.getElementById("wf-designer").style.display="block",t.onclick=function(){deleteUser(),Common.redirectToLoginPage()},t.innerHTML="Logout ("+e.Username+")",M()}else Common.redirectToLoginPage()})}var l=-1,u={},E={},U={},s=null,t=500,c=!1,d="<h3><button id='wf-xml' type='button' class='wf-action-left btn btn-dark btn-sm'>Xml</button></h3><pre><code id='wf-xml-container' class='xml'></code></pre><table class='wf-designer-table'><tbody><tr><td class='wf-title'>Id</td><td class='wf-value'><input id='wf-id' type='text'  /></td></tr><tr><td class='wf-title'>Name</td><td class='wf-value'><input id='wf-name' type='text' /></td></tr><tr><td class='wf-title'>LaunchType</td><td class='wf-value'><select id='wf-launchType'><option value=''></option><option value='startup'>Startup</option><option value='trigger'>Trigger</option><option value='periodic'>Periodic</option>><option value='cron'>Cron</option></select></td></tr><tr><td class='wf-title'>Period</td><td class='wf-value'><input id='wf-period' type='text' /></td></tr><tr><td class='wf-title'>Cron expression</td><td class='wf-value'><input id='wf-cron' type='text' /></td></tr><tr><td class='wf-title'>Enabled</td><td class='wf-value'><input id='wf-enabled' type='checkbox' checked/></td></tr><tr><td class='wf-title'>Description</td><td class='wf-value'><input id='wf-desc' type='text' /></td></tr><tr><td class='wf-title'>Path</td><td id='wf-path' class='wf-value'></td></tr><tr><td class='wf-title'>Status</td><td id='wf-status' class='wf-value'></td></tr></tbody></table><div id='wf-local-vars'><h5 class='wf-task-title'>Local variables<button id='wf-add-var' type='button' class='btn btn-dark btn-sm'>New variable</button></h5><table class='wf-designer-table wf-local-vars' style='display: none;'><tr><th>Name</th><th>Value</th><th style='width:100%'></th></tr></table></div><div id='wf-tasks'></div><button type='button' id='wf-add-task' class='btn btn-dark btn-sm'>New task</button><h3 id='wf-execution-graph-title'>Execution graph</h3><div id='wf-execution-graph'></div>";document.getElementById("wf-designer").innerHTML="<div id='wf-container'><div id='wf-search'><div id='wf-search-text-container'><input id='wf-search-text' type='text' name='fname'></div><button id='wf-search-action' type='button' class='btn btn-primary btn-sm'>Search</button></div><div id='wf-workflows'></div><div id='wf-action'><button type='button' id='wf-add-workflow' class='btn btn-dark btn-sm'>New workflow</button><button id='wf-delete' type='button' class='wf-action-right btn btn-danger btn-sm'>Delete</button><button id='wf-save' type= 'button' class='wf-action-right btn btn-secondary btn-sm'>Save</button><button id='wf-cancel' type= 'button' class='wf-action-right btn btn-secondary btn-sm'>Cancel</button></div><div id='wf-designer-right-panel' style='display: none;'><h3><button id='wf-xml' type='button' class='wf-action-left btn btn-dark btn-sm'>Xml</button></h3><pre><code id='wf-xml-container' class='xml'></code></pre><table class='wf-designer-table'><tbody><tr><td class='wf-title'>Id</td><td class='wf-value'><input id='wf-id' type='text'  /></td></tr><tr><td class='wf-title'>Name</td><td class='wf-value'><input id='wf-name' type='text' /></td></tr><tr><td class='wf-title'>LaunchType</td><td class='wf-value'><select id='wf-launchType'><option value=''></option><option value='startup'>Startup</option><option value='trigger'>Trigger</option><option value='periodic'>Periodic</option>><option value='cron'>Cron</option></select></td></tr><tr><td class='wf-title'>Period</td><td class='wf-value'><input id='wf-period' type='text' /></td></tr><tr><td class='wf-title'>Cron expression</td><td class='wf-value'><input id='wf-cron' type='text' /></td></tr><tr><td class='wf-title'>Enabled</td><td class='wf-value'><input id='wf-enabled' type='checkbox' checked/></td></tr><tr><td class='wf-title'>Description</td><td class='wf-value'><input id='wf-desc' type='text' /></td></tr><tr><td class='wf-title'>Path</td><td id='wf-path' class='wf-value'></td></tr><tr><td class='wf-title'>Status</td><td id='wf-status' class='wf-value'></td></tr></tbody></table><div id='wf-local-vars'><h5 class='wf-task-title'>Local variables<button id='wf-add-var' type='button' class='btn btn-dark btn-sm'>New variable</button></h5><table class='wf-designer-table wf-local-vars' style='display: none;'><tr><th>Name</th><th>Value</th><th style='width:100%'></th></tr></table></div><div id='wf-tasks'></div><button type='button' id='wf-add-task' class='btn btn-dark btn-sm'>New task</button><h3 id='wf-execution-graph-title'>Execution graph</h3><div id='wf-execution-graph'></div></div></div>";var h=document.getElementById("wf-search-action"),f=document.getElementById("wf-search-text");h.onclick=function(){M()},f.onkeyup=function(e){e.preventDefault(),13===e.keyCode&&M()};var _=function(e){var t=document.getElementsByClassName("wf-local-vars")[0],n=t.insertRow(-1),r=n.insertCell(0),i=n.insertCell(1),a=n.insertCell(2);r.innerHTML="<input class='wf-var-key' type='text'>",i.innerHTML="<input class='wf-var-value' type='text'>",i.className="wf-value",a.innerHTML="<button type='button' class='wf-remove-var btn btn-danger btn-sm'>Delete</button>",E[e].LocalVariables.push({Key:"",Value:""});var o=E[e].LocalVariables.length-1;t.getElementsByClassName("wf-var-key")[o].onkeyup=function(){o=C(s.parentElement.parentElement)-1,E[e].LocalVariables[o].Key=this.value};var s=t.getElementsByClassName("wf-var-value")[o];s.onkeyup=function(){o=C(s.parentElement.parentElement)-1,E[e].LocalVariables[o].Value=this.value},t.getElementsByClassName("wf-remove-var")[o].onclick=function(){o=C(s.parentElement.parentElement)-1,E[e].LocalVariables=T(E[e].LocalVariables,o),this.parentElement.parentElement.remove()}};function p(e){var o=-1,t=document.getElementsByClassName("selected");0<t.length&&(o=parseInt(t[0].getElementsByClassName("wf-id")[0].innerHTML));var n=document.getElementById("wf-id").value;if(w(n)){var s=parseInt(n);if(!0===e)Common.get(H+"/isWorkflowIdValid/"+s,function(e){if(!0===e||!0===c)if(""===document.getElementById("wf-name").value)alert("Enter a name for this workflow.");else{var t=document.getElementById("wf-launchType").value;if(""===t)alert("Select a launchType for this workflow.");else if("periodic"===t&&""===document.getElementById("wf-period").value)alert("Enter a period for this workflow.");else if("cron"===t&&""===document.getElementById("wf-cron").value)alert("Enter a cron expression for this workflow.");else{var n=function(){g(s,-1===o?s:o,function(){c=!0,E[s].IsNew=!1,document.getElementById("wf-delete").style.display="inline-block"})};if("periodic"===t&&""!==document.getElementById("wf-period").value){var r=document.getElementById("wf-period").value;Common.get(H+"/isPeriodValid/"+r,function(e){!0===e?n():alert("The period format is not valid. The valid format is: dd.hh:mm:ss")})}else if("cron"===t&&""!==document.getElementById("wf-cron").value){var i=document.getElementById("wf-cron").value,a=encodeURIComponent(i);Common.get(H+"/isCronExpressionValid?e="+a,function(e){!0===e?n():confirm("The cron expression format is not valid.\nRead the documentation?")&&v("https://github.com/aelassas/Wexflow/wiki/Cron-scheduling")})}else n()}}else alert("The workflow id is already in use. Enter another one.")});else if(""===document.getElementById("wf-name").value)alert("Enter a name for this workflow.");else{var r=document.getElementById("wf-launchType").value;if(""===r)alert("Select a launchType for this workflow.");else if("periodic"===r&&""===document.getElementById("wf-period").value)alert("Enter a period for this workflow.");else if("cron"===r&&""===document.getElementById("wf-cron").value)alert("Enter a cron expression for this workflow.");else{var i=function(){g(s,-1===o?s:o,function(){c=!0,E[s].IsNew=!1,document.getElementById("wf-delete").style.display="inline-block"})};if("periodic"===r&&""!==document.getElementById("wf-period").value){var a=document.getElementById("wf-period").value;Common.get(H+"/isPeriodValid/"+a,function(e){!0===e?i():alert("The period format is not valid. The valid format is: dd.hh:mm:ss")})}else if("cron"===r&&""!==document.getElementById("wf-cron").value){var l=document.getElementById("wf-cron").value,u=encodeURIComponent(l);Common.get(H+"/isCronExpressionValid?e="+u,function(e){!0===e?i():confirm("The cron expression format is not valid.\nRead the documentation?")&&v("https://github.com/aelassas/Wexflow/wiki/Cron-scheduling")})}else i()}}}else alert("Enter a valid workflow id.")}function v(e){var t=window.open(e,"_blank");null!=t&&t.focus()}function g(a,e,t){clearInterval(s),E[a]=E[e],U[a]=U[e];var n={Id:e,WorkflowInfo:E[a],Tasks:U[a]};Common.post(H+"/save",function(e){!0===e?(void 0!==t&&t(),setTimeout(function(){M(function(){for(var e=document.getElementById("wf-workflows-table"),t=0;t<e.rows.length;t++){var n=e.rows[t],r=n.getElementsByClassName("wf-id")[0];if(null!=r)if(parseInt(r.innerHTML)===a){var i=document.getElementsByClassName("selected");0<i.length&&(i[0].className=i[0].className.replace("selected","")),n.className+="selected",n.scrollIntoView(!0)}}Common.get(H+"/workflow/"+a,function(e){k(e)}),document.getElementById("wf-xml-container").innerHTML="",document.getElementById("wf-xml").style.display="inline",document.getElementById("wf-xml").onclick=function(){S(a)}})},700),alert("workflow "+E[a].Id+" saved and loaded with success.")):alert("An error occured while saving the workflow "+a+".")},function(){alert("An error occured while saving the workflow "+a+".")},n)}function k(e){clearInterval(s),!0===e.IsEnabled&&(s=setInterval(function(){m(e.Id,!1)},t)),m(e.Id,!0)}function m(e,r){N(e,function(e){if(!1===e.IsEnabled)y("This workflow is disabled.");else{if(!1===r&&!1===(n=u[(t=e).Id].IsRunning!==t.IsRunning||u[t.Id].IsPaused!==t.IsPaused,u[t.Id].IsRunning=t.IsRunning,u[t.Id].IsPaused=t.IsPaused,n))return;!0===e.IsRunning&&!1===e.IsPaused?y("This workflow is running..."):!0===e.IsPaused?y("This workflow is suspended."):y("This workflow is not running.")}var t,n})}function y(e){document.getElementById("wf-status").innerHTML=e}function b(){if(!0===confirm("Are you sure you want to delete this workflow?")){var e=parseInt(document.getElementById("wf-id").value);Common.post(H+"/delete/"+e,function(e){!0===e?(clearInterval(s),setTimeout(function(){M(),document.getElementById("wf-designer-right-panel").style.display="none",document.getElementById("wf-cancel").style.display="none",document.getElementById("wf-save").style.display="none",document.getElementById("wf-delete").style.display="none"},500)):alert("An error occured while deleting this workflow.")},function(){alert("An error occured while deleting this workflow.")})}}function $(a,e){var t=document.createElement("div");t.className="wf-task";var n="<h5 class='wf-task-title'><label class='wf-task-title-label'>Task</label><button type='button' class='wf-remove-task btn btn-danger btn-sm' style='display: block;'>Delete</button><button type='button' class='wf-show-doc btn btn-dark btn-sm'>Documentation</button><button type='button' class='wf-show-taskxml btn btn-dark btn-sm'>Xml</button><button type='button' class='wf-add-setting btn btn-dark btn-sm'>New setting</button></h5><table class='wf-designer-table'><tbody><tr><td class='wf-taskxml' colspan='2'><pre><code class='wf-taskxml-container'></code></pre></td></tr><tr><td class='wf-title'>Id</td><td class='wf-value'><input class='wf-task-id' type='text' /></td></tr><tr><td class='wf-title'>Name</td><td class='wf-value'><select class='wf-task-name'>";n+="<option value=''></option>";for(var r=0;r<e.length;r++){var i=e[r];n+="<option value='"+i+"'>"+i+"</option>"}n+="</select></td></tr><tr><td class='wf-title'>Description</td><td class='wf-value'><input class='wf-task-desc' type='text' /></td></tr><tr><td class='wf-title'>Enabled</td><td class='wf-value'><input class='wf-task-enabled' type='checkbox' checked /></td></tr></tbody></table><table class='wf-designer-table wf-settings'></table>",t.innerHTML=n;var o=document.getElementsByClassName("wf-task")[U[a].length-1];null!=o?o.parentNode.insertBefore(t,o.nextSibling):document.getElementById("wf-tasks").appendChild(t),U[a].push({Id:0,Name:"",Description:"",IsEnabled:!0,Settings:[]});var s=C(t),l=t.getElementsByClassName("wf-task-id")[0];l.onkeyup=function(){U[a][s].Id=l.value,this.parentElement.parentElement.parentElement.parentElement.parentElement.getElementsByClassName("wf-task-title-label")[0].innerHTML="Task "+l.value,ee()};var u=t.getElementsByClassName("wf-task-name")[0];u.onchange=function(){var i=u.parentElement.parentElement.parentElement.parentElement.parentElement.getElementsByClassName("wf-settings")[0];U[a][s].Name=u.value,""!==u.value?Common.get(H+"/settings/"+u.value,function(e){var t=u.parentElement.parentElement.parentElement.parentElement.parentElement.getElementsByClassName("wf-add-setting")[0];U[a][s].Settings=[],i.innerHTML="";for(var n=0;n<e.length;n++){var r=e[n];Z(a,t,r)}},function(){alert("An error occured while retrieving settings.")}):(U[a][s].Settings=[],i.innerHTML="")};var c=t.getElementsByClassName("wf-task-desc")[0];c.onkeyup=function(){U[a][s].Description=c.value,ee()};var d=t.getElementsByClassName("wf-task-enabled")[0];d.onchange=function(){U[a][s].IsEnabled=d.checked},t.getElementsByClassName("wf-add-setting")[0].onclick=function(){Z(a,this)},t.getElementsByClassName("wf-remove-task")[0].onclick=function(){G(a,this),ee()},t.getElementsByClassName("wf-show-taskxml")[0].onclick=function(){te(a,this)},t.getElementsByClassName("wf-show-doc")[0].onclick=function(){ne(a,this)}}function G(e,t){var n=C(t.parentElement.parentElement);U[e]=T(U[e],n),t.parentElement.parentElement.remove()}function Z(g,m,y){var e=m.parentElement.parentElement.getElementsByClassName("wf-task-name")[0].value;""===e?alert("Please select a task name."):Common.get(H+"/settings/"+e,function(e){var t=m.parentElement.parentElement.getElementsByClassName("wf-settings")[0],n=t.insertRow(-1),r=n.insertCell(0),i=n.insertCell(1),a=n.insertCell(2),o=n.insertCell(3);r.className="wf-title";var s="<select class='wf-setting-name'>";s+="<option value=''></option>";for(var l=0;l<e.length;l++){var u=e[l];s+="<option value='"+u+"'"+(y===u?"selected":"")+">"+u+"</option>"}s+="</select>",r.innerHTML=s,i.className="wf-setting-value-td",i.innerHTML="<input class='wf-setting-value' type='text' /><table class='wf-attributes'></table>",a.className="wf-add-attribute-td",a.innerHTML="<button type='button' class='wf-add-attribute btn btn-dark btn-sm'>New attribute</button>",o.colSpan="2",o.innerHTML="<button type='button' class='wf-remove-setting btn btn-danger btn-sm'>Delete</button>";var c=C(m.parentElement.parentElement),d=U[g][c];d.Settings.push({Name:void 0!==y?y:1===e.length?e[0]:"",Value:"",Attributes:[]});var h=d.Settings.length-1,f=t.getElementsByClassName("wf-setting-name")[h];if(f.onchange=function(){var e=C(f.parentElement.parentElement);d.Settings[e].Name=f.value;var t=f.parentElement.parentElement.getElementsByClassName("wf-add-attribute-td")[0];"selectFiles"===f.value||"selectAttachments"===f.value?t.style.display="block":t.style.display="none"},"selectFiles"===y||"selectAttachments"===y){var p=f.parentElement.parentElement.getElementsByClassName("wf-add-attribute-td")[0];"selectFiles"===f.value||"selectAttachments"===f.value?p.style.display="block":p.style.display="none"}var v=t.getElementsByClassName("wf-setting-value")[h];null!=v&&(v.onkeyup=function(){var e=C(v.parentElement.parentElement);d.Settings[e].Value=v.value}),t.getElementsByClassName("wf-add-attribute")[h].onclick=function(){K(g,this)},t.getElementsByClassName("wf-remove-setting")[h].onclick=function(){J(g,this)}},function(){alert("An error occured while retrieving the settings.")})}function K(e,t){var n=t.parentElement.parentElement.getElementsByClassName("wf-attributes")[0],r=n.insertRow(-1),i=r.insertCell(0),a=r.insertCell(1),o=r.insertCell(2);i.innerHTML="<input class='wf-attribute-name' type='text' />",a.innerHTML="<input class='wf-attribute-value' type='text' />",o.innerHTML="<button type='button' class='wf-remove-attribute btn btn-danger btn-sm'>Delete</button>";var s=C(t.parentElement.parentElement.parentElement.parentElement.parentElement),l=U[e][s],u=C(t.parentElement.parentElement);l.Settings[u].Attributes.push({Name:"",Value:""});var c=l.Settings[u].Attributes.length-1,d=n.getElementsByClassName("wf-attribute-name")[c];d.onkeyup=function(){var e=C(d.parentElement.parentElement);l.Settings[u].Attributes[e].Name=d.value};var h=n.getElementsByClassName("wf-attribute-value")[c];h.onkeyup=function(){var e=C(h.parentElement.parentElement);l.Settings[u].Attributes[e].Value=h.value},n.getElementsByClassName("wf-remove-attribute")[c].onclick=function(){Q(e,this)}}function Q(e,t){var n=C(t.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement),r=U[e][n],i=C(t.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement),a=C(t.parentElement.parentElement);r.Settings[i].Attributes=T(r.Settings[i].Attributes,a),t.parentElement.parentElement.remove()}function J(e,t){var n=C(t.parentElement.parentElement.parentElement.parentElement.parentElement),r=U[e][n],i=C(t.parentElement.parentElement);r.Settings=T(r.Settings,i),t.parentElement.parentElement.remove()}function C(e){for(var t=0;e=e.previousElementSibling;)t++;return t}function T(e,t){return(e=e.slice(0)).splice(t,1),e}function w(e){return/^\+?(0|[1-9]\d*)$/.test(e)}function x(e){return e.replace(/[<>&'"]/g,function(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;"}return e})}function I(e,t){return e.Id<t.Id?-1:e.Id>t.Id?1:0}function P(e){switch(e){case"startup":return 0;case"trigger":return 1;case"periodic":return 2;case"cron":return 3;default:return-1}}function N(e,t){Common.get(H+"/workflow/"+e,function(e){t(e)})}function ee(e){var a={name:"dagre"},o=[{selector:"node",style:{content:"data(name)","text-opacity":.7,"text-valign":"center","text-halign":"right","background-color":"#373737"}},{selector:"edge",style:{"curve-style":"bezier",width:4,"target-arrow-shape":"triangle","line-color":"#ffb347","target-arrow-color":"#ffb347"}}],s=document.getElementById("wf-execution-graph");if(null==e||!0===e.IsExecutionGraphEmpty){for(var t=[],n=[],r=document.getElementsByClassName("wf-task"),i=0;i<r.length;i++){var l=r[i],u=l.getElementsByClassName("wf-task-desc")[0].value,c=l.getElementsByClassName("wf-task-title-label")[0].innerHTML+": "+u;t.push({data:{id:"n"+i,name:c}})}for(var d=0;d<t.length;d++){var h=t[d].data.id;if(d+1<t.length){var f=t[d+1].data.id;n.push({data:{source:h,target:f}})}}cytoscape({container:s,boxSelectionEnabled:!1,autounselectify:!0,layout:a,style:o,elements:{nodes:t,edges:n}})}else!1===e.IsExecutionGraphEmpty&&Common.get(H+"/graph/"+e.Id,function(e){for(var t=[],n=[],r=0;r<e.length;r++){var i=e[r];t.push({data:{id:i.Id,name:i.Name}}),"n-1"!==i.ParentId&&n.push({data:{source:i.ParentId,target:i.Id}})}cytoscape({container:s,boxSelectionEnabled:!1,autounselectify:!0,layout:a,style:o,elements:{nodes:t,edges:n}})},function(){alert("An error occured while retrieving the execution graph of this workflow.")})}function S(e){var t,n;t=e,n=function(e){var t=document.getElementById("wf-xml-container");t.innerHTML=x(e),hljs.highlightBlock(t)},Common.get(H+"/xml/"+t,function(e){n(e)})}function te(e,r){var t=C(r.parentElement.parentElement),n=U[e][t];Common.post(H+"/taskToXml",function(e){var t=r.parentElement.parentElement.getElementsByClassName("wf-taskxml")[0];t.style.display="table-cell";var n=t.getElementsByClassName("wf-taskxml-container")[0];n.innerHTML=x(e),hljs.highlightBlock(n)},function(){alert("An error occured while retrieving the Xml of the task "+n.Id+".")},n)}function ne(e,t){var n=C(t.parentElement.parentElement),r=U[e][n].Name;if(""!==r){var i="https://github.com/aelassas/Wexflow/wiki/"+r;window.open(i,"_blank").focus()}}function B(W){document.getElementById("wf-cancel").style.display="block",document.getElementById("wf-save").style.display="block",document.getElementById("wf-delete").style.display="inline-block",document.getElementById("wf-xml").style.display="inline","none"===document.getElementById("wf-designer-right-panel").style.display&&(document.getElementById("wf-designer-right-panel").style.display="block"),document.getElementById("wf-xml-container").innerHTML="",document.getElementById("wf-xml").onclick=function(){S(W)},document.getElementById("wf-delete").onclick=b,N(W,function(Y){E[Y.Id]={Id:Y.Id,Name:Y.Name,LaunchType:Y.LaunchType,Period:Y.Period,CronExpression:Y.CronExpression,IsEnabled:Y.IsEnabled,Description:Y.Description,Path:Y.Path,IsNew:!1,LocalVariables:Y.LocalVariables};var e=document.getElementById("wf-id");e.value=Y.Id,e.onkeyup=function(){E[W].Id=e.value};var t=document.getElementById("wf-name");t.value=Y.Name,t.onkeyup=function(){E[W].Name=t.value};var n=function(e){switch(e){case 0:return"startup";case 1:return"trigger";case 2:return"periodic";case 3:return"cron";default:return""}}(Y.LaunchType),r=document.getElementById("wf-launchType");!function(e,t){for(var n=0;n<e.options.length;n++)if(e.options[n].value===t)return e.options[n].selected=!0}(r,n),r.onchange=function(){E[W].LaunchType=P(r.value)};var i=document.getElementById("wf-period");i.value=Y.Period,i.onkeyup=function(){E[W].Period=i.value};var a=document.getElementById("wf-cron");a.value=Y.CronExpression,a.onkeyup=function(){E[W].CronExpression=a.value};var o=document.getElementById("wf-enabled");o.checked=Y.IsEnabled,o.onchange=function(){E[W].IsEnabled=o.checked};var s,l,u=document.getElementById("wf-desc");if(u.value=Y.Description,u.onkeyup=function(){E[W].Description=u.value},document.getElementById("wf-path").innerHTML=Y.Path,k(Y),0<Y.LocalVariables.length){for(var c="<h5 class='wf-task-title'>Local variables<button id='wf-add-var' type='button' class='btn btn-dark btn-sm'>New variable</button></h5><table class='wf-designer-table wf-local-vars'><tr><th>Name</th><th>Value</th><th style='width:100%'></th></tr>",d=0;d<Y.LocalVariables.length;d++){var h=Y.LocalVariables[d];c+="<tr>",c+="<td><input class='wf-var-key' type='text' value='"+h.Key+"'></td>",c+="<td class='wf-value'><input class='wf-var-value' type='text' value='"+h.Value+"'></td>",c+="<td><button type='button' class='wf-remove-var btn btn-danger btn-sm'>Delete</button></td>",c+="</tr>"}c+="</table>",document.getElementById("wf-local-vars").innerHTML=c;for(var f=function(e){var t=document.getElementsByClassName("wf-var-key")[e];t.onkeyup=function(){E[W].LocalVariables[e].Key=t.value}},p=document.getElementsByClassName("wf-var-key"),v=0;v<p.length;v++)f(v);for(var g=function(e){var t=document.getElementsByClassName("wf-var-value")[e];t.onkeyup=function(){E[W].LocalVariables[e].Value=t.value}},m=document.getElementsByClassName("wf-var-value"),y=0;y<m.length;y++)g(y);for(var b=function(e){var t=document.getElementsByClassName("wf-remove-var")[e];t.onclick=function(){e=C(t.parentElement.parentElement)-1,E[W].LocalVariables=T(E[W].LocalVariables,e),t.parentElement.parentElement.remove()}},w=document.getElementsByClassName("wf-remove-var"),x=0;x<w.length;x++)b(x);document.getElementById("wf-add-var").onclick=function(){_(W)}}else document.getElementById("wf-local-vars").innerHTML="<h5 class='wf-task-title'>Local variables<button id='wf-add-var' type='button' class='btn btn-dark btn-sm'>New variable</button></h5><table class='wf-designer-table wf-local-vars' style='display: none;'><tr><th>Name</th><th>Value</th><th style='width:100%'></th></tr></table>",document.getElementById("wf-add-var").onclick=function(){document.getElementsByClassName("wf-local-vars")[0].style.display="table",_(W)};s=W,l=function(q){U[W]=q;var X="";Common.get(H+"/taskNames",function(e){for(var t=0;t<q.length;t++){var n=q[t];X+="<div class='wf-task'><h5 class='wf-task-title'><label class='wf-task-title-label'>Task "+n.Id+"</label><button type='button' class='wf-remove-task btn btn-danger btn-sm'>Delete</button><button type='button' class='wf-show-doc btn btn-dark btn-sm'>Documentation</button><button type='button' class='wf-show-taskxml btn btn-dark btn-sm'>Xml</button><button type='button' class='wf-add-setting btn btn-dark btn-sm'>New setting</button></h5><table class='wf-designer-table'><tbody><tr><td class='wf-taskxml' colspan='2'><pre><code class='wf-taskxml-container'></code></pre></td></tr><tr><td class='wf-title'>Id</td><td class='wf-value'><input class='wf-task-id' type='text' value='"+n.Id+"'"+(!1===Y.IsExecutionGraphEmpty?"readonly":"")+"/></td></tr><tr><td class='wf-title'>Name</td><td class='wf-value'><select class='wf-task-name'>";for(var r=0;r<e.length;r++){var i=e[r];X+="<option value='"+i+"' "+(i===n.Name?"selected":"")+">"+i+"</option>"}X+="</select></td></tr><tr><td class='wf-title'>Description</td><td class='wf-value'><input class='wf-task-desc' type='text' value='"+n.Description+"' /></td></tr><tr><td class='wf-title'>Enabled</td><td class='wf-value'><input class='wf-task-enabled' type='checkbox'   "+(n.IsEnabled?"checked":"")+" /></td></tr></tbody></table><table class='wf-designer-table wf-settings'><tbody>";for(var a=0;a<n.Settings.length;a++){var o=n.Settings[a];X+="<tr><td class='wf-setting-name-td wf-title'><input class='wf-setting-name' type='text' value='"+o.Name+"' readonly /></td><td class='wf-setting-value-td'>",X+="<input class='wf-setting-value' type='text' value='"+o.Value+"'  />",X+="<table class='wf-attributes'>";for(var s=0;s<o.Attributes.length;s++){var l=o.Attributes[s];X+="<tr><td><input class='wf-attribute-name' type='text' value='"+l.Name+"'  /></td><td><input class='wf-attribute-value' type='text' value='"+l.Value+"'  /></td><td><button type='button' class='wf-remove-attribute btn btn-danger btn-sm'>Delete</button></td></tr>"}X+="</table>",X+="</td><td class='wf-add-attribute-td'><button type='button' class='wf-add-attribute btn btn-dark btn-sm'>New attribute</button></td><td colspan='2'><button type='button' class='wf-remove-setting btn btn-danger btn-sm'>Delete</button></td></tr>"}X+="</tbody></table></div > "}if(document.getElementById("wf-tasks").innerHTML=X,!0===Y.IsExecutionGraphEmpty){document.getElementById("wf-add-task").style.display="block";for(var u=document.getElementsByClassName("wf-remove-task"),c=0;c<u.length;c++){u[c].style.display="block"}}else document.getElementById("wf-add-task").style.display="none";for(var d=document.getElementsByClassName("wf-add-attribute-td"),h=0;h<d.length;h++){var f=d[h],p=f.parentElement.getElementsByClassName("wf-setting-name")[0].value;"selectFiles"!==p&&"selectAttachments"!==p||(f.style.display="block")}for(var v=document.getElementsByClassName("wf-show-taskxml"),g=0;g<v.length;g++){v[g].onclick=function(){te(W,this)}}for(var m=document.getElementsByClassName("wf-show-doc"),y=0;y<m.length;y++){m[y].onclick=function(){ne(W,this)}}for(var b=document.getElementsByClassName("wf-add-setting"),w=0;w<b.length;w++){b[w].onclick=function(){Z(W,this)}}for(var x=document.getElementsByClassName("wf-remove-setting"),E=0;E<x.length;E++){x[E].onclick=function(){J(W,this)}}for(var _=document.getElementsByClassName("wf-add-attribute"),k=0;k<_.length;k++){_[k].onclick=function(){K(W,this)}}for(var C=document.getElementsByClassName("wf-remove-attribute"),T=0;T<C.length;T++){C[T].onclick=function(){Q(W,this)}}for(var I=document.getElementsByClassName("wf-remove-task"),P=0;P<I.length;P++){I[P].onclick=function(){G(W,this),ee()}}document.getElementById("wf-add-task").onclick=function(){$(W,e)};for(var N=function(e){var t=document.getElementsByClassName("wf-task-id")[e];t.onkeyup=function(){U[W][e].Id=t.value,this.parentElement.parentElement.parentElement.parentElement.parentElement.getElementsByClassName("wf-task-title-label")[0].innerHTML="Task "+t.value,ee(Y)}},S=function(a){var o=document.getElementsByClassName("wf-task-name")[a];o.onchange=function(){var i=o.parentElement.parentElement.parentElement.parentElement.parentElement.getElementsByClassName("wf-settings")[0];U[W][a].Name=o.value,""!==o.value?Common.get(H+"/settings/"+o.value,function(e){var t=o.parentElement.parentElement.parentElement.parentElement.parentElement.getElementsByClassName("wf-add-setting")[0];U[W][a].Settings=[],i.innerHTML="";for(var n=0;n<e.length;n++){var r=e[n];Z(W,t,r)}},function(){alert("An error occured while retrieving settings.")}):(U[W][a].Settings=[],i.innerHTML="")}},B=function(e){var t=document.getElementsByClassName("wf-task-desc")[e];t.onkeyup=function(){U[W][e].Description=t.value,ee()}},D=function(e){var t=document.getElementsByClassName("wf-task-enabled")[e];t.onchange=function(){U[W][e].IsEnabled=t.checked}},M=function(t,n){var r=document.getElementsByClassName("wf-settings")[t].getElementsByClassName("wf-setting-name")[n];r.onkeyup=function(){U[W][t].Settings[n].Name=r.value;var e=r.parentElement.parentElement.getElementsByClassName("wf-add-attribute-td")[0];"selectFiles"===r.value||"selectAttachments"===r.value?e.style.display="block":e.style.display="none"}},L=function(e,t){var n=document.getElementsByClassName("wf-settings")[e].getElementsByClassName("wf-setting-value")[t];null!=n&&(n.onkeyup=function(){U[W][e].Settings[t].Value=n.value})},A=function(e,t,n){var r=document.getElementsByClassName("wf-settings")[e].getElementsByClassName("wf-setting-value-td")[t].getElementsByClassName("wf-attribute-name")[n];null!=r&&(r.onkeyup=function(){U[W][e].Settings[t].Attributes[n].Name=r.value})},O=function(e,t,n){var r=document.getElementsByClassName("wf-settings")[e].getElementsByClassName("wf-setting-value-td")[t].getElementsByClassName("wf-attribute-value")[n];null!=r&&(r.onkeyup=function(){U[W][e].Settings[t].Attributes[n].Value=r.value})},R=0;R<q.length;R++){var z=q[R];N(R),S(R),B(R),D(R);for(var j=0;j<z.Settings.length;j++){var V=z.Settings[j];M(R,j),L(R,j);for(var F=0;F<V.Attributes.length;F++)A(R,j,F),O(R,j,F)}}ee(Y)},function(){alert("An error occured while retrieving task names.")})},Common.get(H+"/tasks/"+s,function(e){l(e)})})}function D(e){B(e)}function M(s){Common.get(H+"/search?s="+encodeURIComponent(f.value),function(e){e.sort(I);for(var t=[],n=0;n<e.length;n++){var r=e[n];u[r.Id]=r,t.push("<tr><td class='wf-id' title='"+r.Id+"'>"+r.Id+"</td><td class='wf-n' title='"+r.Name+"'>"+r.Name+"</td></tr>")}var i="<table id='wf-workflows-table' class='table table-hover'><thead class='thead-dark'><tr><th class='wf-id'>Id</th><th class='wf-n'>Name</th></tr></thead><tbody>"+t.join("")+"</tbody></table>";document.getElementById("wf-workflows").innerHTML=i,document.getElementById("wf-action").style.display="block";for(var a=document.getElementById("wf-workflows-table").getElementsByTagName("tbody")[0].getElementsByTagName("tr"),o=0;o<a.length;o++)a[o].onclick=function(){l=parseInt(this.getElementsByClassName("wf-id")[0].innerHTML);var e=document.getElementsByClassName("selected");0<e.length&&(e[0].className=e[0].className.replace("selected","")),this.className+="selected",B(l),document.getElementById("wf-cancel").onclick=function(){D(l)},document.getElementById("wf-save").onclick=function(){p(!1)}};void 0!==s&&s()},function(){alert("An error occured while retrieving workflows. Check Wexflow Web Service Uri and check that Wexflow Windows Service is running correctly.")})}document.getElementById("wf-add-workflow").onclick=function(){c=!1;var e=document.getElementById("wf-designer-right-panel");e.innerHTML=d,e.style.display="block",document.getElementById("wf-cancel").style.display="block",document.getElementById("wf-save").style.display="block",document.getElementById("wf-add-task").style.display="block",document.getElementById("wf-delete").style.display="none",document.getElementById("wf-xml").style.display="none",document.getElementById("wf-cancel").onclick=function(){if(!0===c){var e=document.getElementById("wf-id").value;if(w(e))D(parseInt(e))}};var t=document.getElementsByClassName("selected");0<t.length&&(t[0].className=t[0].className.replace("selected",""));var n=-1;document.getElementById("wf-id").onkeyup=function(){var e=parseInt(this.value);U[e]=-1===n?(E[e]={Id:e,Name:document.getElementById("wf-name").value,LaunchType:P(document.getElementById("wf-launchType").value),Period:document.getElementById("wf-period").value,CronExpression:document.getElementById("wf-cron").value,IsEnabled:document.getElementById("wf-enabled").checked,Description:document.getElementById("wf-desc").value,Path:"",IsNew:!0,LocalVariables:[]},[]):(E[e]=E[n],E[e].Id=e,U[n]),n=e},document.getElementById("wf-name").onkeyup=function(){var t=this,e=document.getElementById("wf-id").value;if(w(e)){var n=parseInt(e);E[n].Name=this.value,""!==this.value&&!1===c&&Common.get(H+"/workflowsFolder",function(e){document.getElementById("wf-path").innerHTML=(E[n].Path="Linux"===a||"UNIX"===a||"Mac/iOS"===a?Common.trimEnd(e,"/")+"/"+t.value+".xml":Common.trimEnd(e,"\\")+"\\"+t.value+".xml",E[n].Path)},function(){alert("An error occured while retrieving workflowsFolder.")})}},document.getElementById("wf-launchType").onchange=function(){var e=document.getElementById("wf-id").value;if(w(e)){var t=parseInt(e);E[t].LaunchType=P(this.value)}},document.getElementById("wf-period").onkeyup=function(){var e=document.getElementById("wf-id").value;if(w(e)){var t=parseInt(e);E[t].Period=this.value}},document.getElementById("wf-cron").onkeyup=function(){var e=document.getElementById("wf-id").value;if(w(e)){var t=parseInt(e);E[t].CronExpression=this.value}},document.getElementById("wf-enabled").onchange=function(){var e=document.getElementById("wf-id").value;if(w(e)){var t=parseInt(e);E[t].IsEnabled=this.checked}},document.getElementById("wf-desc").onkeyup=function(){var e=document.getElementById("wf-id").value;if(w(e)){var t=parseInt(e);E[t].Description=this.value}},document.getElementById("wf-delete").onclick=b,document.getElementById("wf-save").onclick=function(){p(!0)},document.getElementById("wf-add-var").onclick=function(){var e=document.getElementById("wf-id").value;if(w(e)){var t=parseInt(e);document.getElementsByClassName("wf-local-vars")[0].style.display="table",_(t)}else alert("Please enter a valid workflow id.")},Common.get(H+"/taskNames",function(t){document.getElementById("wf-add-task").onclick=function(){var e=document.getElementById("wf-id").value;w(e)?$(parseInt(e),t):alert("Please enter a valid workflow id.")}},function(){alert("An error occured while retrieving task names.")})}}Common={redirectToLoginPage:function(){window.location.replace("index.html")},trimEnd:function(e,t){for(;e.charAt(e.length-1)===t;)e=e.substring(0,e.length-1);return e},get:function(e,t,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4===this.readyState&&200===this.status&&t)if(""!==this.responseText){var e=JSON.parse(this.responseText);t(e)}else t()},r.onerror=function(){n&&n()},r.open("GET",e,!0),r.send()},post:function(e,t,n,r){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4===this.readyState&&200===this.status&&t)if(""!==this.responseText){var e=JSON.parse(this.responseText);t(e)}else t()},i.onerror=function(){n&&n()},i.open("POST",e,!0),i.send(JSON.stringify(r))},launchType:function(e){switch(e){case 0:return"Startup";case 1:return"Trigger";case 2:return"Periodic";case 3:return"Cron";default:return""}},status:function(e){switch(e){case 0:return"<img src='images/pending-small.png' /> Pending";case 1:return"<img src='images/running-small.png' /> Running";case 2:return"<img src='images/done-small.png' /> Done";case 3:return"<img src='images/failed-small.png' /> Failed";case 4:return"<img src='images/warning-small.png' /> Warning";case 5:return"<img src='images/disabled-small.png' /> Disabled";case 6:return"<img src='images/stopped-small.png' /> Stopped";default:return""}},disableButton:function(e,t){e.disabled=t},formatDate:function(e){return("0"+e.getDate()).slice(-2)+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+e.getFullYear()+" "+("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)+":"+("0"+e.getSeconds()).slice(-2)},os:function(){var e="Unknown";return-1!==window.navigator.userAgent.indexOf("Windows NT 10.0")&&(e="Windows 10"),-1!==window.navigator.userAgent.indexOf("Windows NT 6.2")&&(e="Windows 8"),-1!==window.navigator.userAgent.indexOf("Windows NT 6.1")&&(e="Windows 7"),-1!==window.navigator.userAgent.indexOf("Windows NT 6.0")&&(e="Windows Vista"),-1!==window.navigator.userAgent.indexOf("Windows NT 5.1")&&(e="Windows XP"),-1!==window.navigator.userAgent.indexOf("Windows NT 5.0")&&(e="Windows 2000"),-1!==window.navigator.userAgent.indexOf("Mac")&&(e="Mac/iOS"),-1!==window.navigator.userAgent.indexOf("X11")&&(e="UNIX"),-1!==window.navigator.userAgent.indexOf("Linux")&&(e="Linux"),e}},function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.cytoscape=t():e.cytoscape=t()}(this,function(){return function(n){function r(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}var i={};return r.m=n,r.c=i,r.i=function(e){return e},r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=117)}([function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(4),a=i?i.navigator:null,o=i?i.document:null,s=r(""),l=r({}),u=r(function(){}),c="undefined"==typeof HTMLElement?"undefined":r(HTMLElement),d=function(e){return e&&e.instanceString&&h.fn(e.instanceString)?e.instanceString():null},h={defined:function(e){return null!=e},string:function(e){return null!=e&&(void 0===e?"undefined":r(e))==s},fn:function(e){return null!=e&&(void 0===e?"undefined":r(e))===u},array:function(e){return Array.isArray?Array.isArray(e):null!=e&&e instanceof Array},plainObject:function(e){return null!=e&&(void 0===e?"undefined":r(e))===l&&!h.array(e)&&e.constructor===Object},object:function(e){return null!=e&&(void 0===e?"undefined":r(e))===l},number:function(e){return null!=e&&(void 0===e?"undefined":r(e))===r(1)&&!isNaN(e)},integer:function(e){return h.number(e)&&Math.floor(e)===e},bool:function(e){return null!=e&&(void 0===e?"undefined":r(e))===r(!0)},htmlElement:function(e){return"undefined"===c?void 0:null!=e&&e instanceof HTMLElement},elementOrCollection:function(e){return h.element(e)||h.collection(e)},element:function(e){return"collection"===d(e)&&e._private.single},collection:function(e){return"collection"===d(e)&&!e._private.single},core:function(e){return"core"===d(e)},style:function(e){return"style"===d(e)},stylesheet:function(e){return"stylesheet"===d(e)},event:function(e){return"event"===d(e)},thread:function(e){return"thread"===d(e)},fabric:function(e){return"fabric"===d(e)},emptyString:function(e){return null==e||!(""!==e&&!e.match(/^\s+$/))},nonemptyString:function(e){return!(!e||!h.string(e)||""===e||e.match(/^\s+$/))},domElement:function(e){return"undefined"!=typeof HTMLElement&&e instanceof HTMLElement},boundingBox:function(e){return h.plainObject(e)&&h.number(e.x1)&&h.number(e.x2)&&h.number(e.y1)&&h.number(e.y2)},promise:function(e){return h.object(e)&&h.fn(e.then)},touch:function(){return i&&("ontouchstart"in i||i.DocumentTouch&&o instanceof DocumentTouch)},gecko:function(){return i&&("undefined"!=typeof InstallTrigger||"MozAppearance"in o.documentElement.style)},webkit:function(){return i&&("undefined"!=typeof webkitURL||"WebkitAppearance"in o.documentElement.style)},chromium:function(){return i&&"undefined"!=typeof chrome},khtml:function(){return a&&a.vendor.match(/kde/i)},khtmlEtc:function(){return h.khtml()||h.webkit()||h.chromium()},ms:function(){return a&&a.userAgent.match(/msie|trident|edge/i)},windows:function(){return a&&a.appVersion.match(/Win/i)},mac:function(){return a&&a.appVersion.match(/Mac/i)},linux:function(){return a&&a.appVersion.match(/Linux/i)},unix:function(){return a&&a.appVersion.match(/X11/i)}};e.exports=h},function(e,t,n){"use strict";var r=n(0),i=n(2),a={MAX_INT:Number.MAX_SAFE_INTEGER||9007199254740991,trueify:function(){return!0},falsify:function(){return!1},zeroify:function(){return 0},noop:function(){},error:function(e){console.error?console.error.apply(console,arguments):console.log.apply(console,arguments),console.trace&&console.trace()},clone:function(e){return this.extend({},e)},copy:function(e){return null==e?e:r.array(e)?e.slice():r.plainObject(e)?this.clone(e):e},copyArray:function(e){return e.slice()},clonePosition:function(e){return{x:e.x,y:e.y}},uuid:function(e,t){for(t=e="";e++<36;t+=51*e&52?(15^e?8^Math.random()*(20^e?16:4):4).toString(16):"-");return t}};a.makeBoundingBox=i.makeBoundingBox.bind(i),a._staticEmptyObject={},a.staticEmptyObject=function(){return a._staticEmptyObject},a.extend=null!=Object.assign?Object.assign.bind(Object):function(e){for(var t=arguments,n=1;n<t.length;n++){var r=t[n];if(null!=r)for(var i=Object.keys(r),a=0;a<i.length;a++){var o=i[a];e[o]=r[o]}}return e},a.assign=a.extend,a.default=function(e,t){return void 0===e?t:e},a.removeFromArray=function(e,t,n){for(var r=e.length;0<=r&&(e[r]!==t||(e.splice(r,1),n));r--);},a.clearArray=function(e){e.splice(0,e.length)},a.push=function(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.push(r)}},a.getPrefixedProperty=function(e,t,n){return n&&(t=this.prependCamel(n,t)),e[t]},a.setPrefixedProperty=function(e,t,n,r){n&&(t=this.prependCamel(n,t)),e[t]=r},[n(131),n(132),{memoize:n(19)},n(133),n(135),n(136),n(134)].forEach(function(e){a.extend(a,e)}),e.exports=a},function(e,t,n){"use strict";var w={arePositionsSame:function(e,t){return e.x===t.x&&e.y===t.y},copyPosition:function(e){return{x:e.x,y:e.y}},modelToRenderedPosition:function(e,t,n){return{x:e.x*t+n.x,y:e.y*t+n.y}},renderedToModelPosition:function(e,t,n){return{x:(e.x-n.x)/t,y:(e.y-n.y)/t}},array2point:function(e){return{x:e[0],y:e[1]}},deg2rad:function(e){return Math.PI*e/180},getAngleFromDisp:function(e,t){return Math.atan2(t,e)-Math.PI/2}};w.log2=Math.log2||function(e){return Math.log(e)/Math.log(2)},w.signum=function(e){return 0<e?1:e<0?-1:0},w.dist=function(e,t){return Math.sqrt(w.sqdist(e,t))},w.sqdist=function(e,t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r},w.qbezierAt=function(e,t,n,r){return(1-r)*(1-r)*e+2*(1-r)*r*t+r*r*n},w.qbezierPtAt=function(e,t,n,r){return{x:w.qbezierAt(e.x,t.x,n.x,r),y:w.qbezierAt(e.y,t.y,n.y,r)}},w.lineAt=function(e,t,n,r){var i=t.x-e.x,a=t.y-e.y,o=w.dist(e,t),s=i/o,l=a/o;return n=null==n?0:n,r=null!=r?r:n*o,{x:e.x+s*r,y:e.y+l*r}},w.lineAtDist=function(e,t,n){return w.lineAt(e,t,void 0,n)},w.triangleAngle=function(e,t,n){var r=w.dist(t,n),i=w.dist(e,n),a=w.dist(e,t);return Math.acos((r*r+i*i-a*a)/(2*r*i))},w.bound=function(e,t,n){return Math.max(e,Math.min(n,t))},w.makeBoundingBox=function(e){if(null==e)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=e.x1&&null!=e.y1){if(null!=e.x2&&null!=e.y2&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(null!=e.w&&null!=e.h&&0<=e.w&&0<=e.h)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},w.updateBoundingBox=function(e,t){e.x1=Math.min(e.x1,t.x1),e.x2=Math.max(e.x2,t.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,t.y1),e.y2=Math.max(e.y2,t.y2),e.h=e.y2-e.y1},w.expandBoundingBoxByPoint=function(e,t,n){e.x1=Math.min(e.x1,t),e.x2=Math.max(e.x2,t),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},w.expandBoundingBox=function(e,t){return e.x1-=t,e.x2+=t,e.y1-=t,e.y2+=t,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},w.boundingBoxesIntersect=function(e,t){return!(e.x1>t.x2||t.x1>e.x2||e.x2<t.x1||t.x2<e.x1||e.y2<t.y1||t.y2<e.y1||e.y1>t.y2||t.y1>e.y2)},w.inBoundingBox=function(e,t,n){return e.x1<=t&&t<=e.x2&&e.y1<=n&&n<=e.y2},w.pointInBoundingBox=function(e,t){return this.inBoundingBox(e,t.x,t.y)},w.boundingBoxInBoundingBox=function(e,t){return w.inBoundingBox(e,t.x1,t.y1)&&w.inBoundingBox(e,t.x2,t.y2)},w.roundRectangleIntersectLine=function(e,t,n,r,i,a,o){var s=this.getRoundRectangleRadius(i,a),l=i/2,u=a/2,c=void 0,d=n-l+s-o,h=r-u-o,f=n+l-s+o,p=h;if(0<(c=this.finiteLinesIntersect(e,t,n,r,d,h,f,p,!1)).length)return c;var v=n+l+o,g=r-u+s-o,m=v,y=r+u-s+o;if(0<(c=this.finiteLinesIntersect(e,t,n,r,v,g,m,y,!1)).length)return c;var b=n-l+s-o,w=r+u+o,x=n+l-s+o,E=w;if(0<(c=this.finiteLinesIntersect(e,t,n,r,b,w,x,E,!1)).length)return c;var _=n-l-o,k=r-u+s-o,C=_,T=r+u-s+o;if(0<(c=this.finiteLinesIntersect(e,t,n,r,_,k,C,T,!1)).length)return c;var I=void 0,P=n-l+s,N=r-u+s;if(0<(I=this.intersectLineCircle(e,t,n,r,P,N,s+o)).length&&I[0]<=P&&I[1]<=N)return[I[0],I[1]];var S=n+l-s,B=r-u+s;if(0<(I=this.intersectLineCircle(e,t,n,r,S,B,s+o)).length&&I[0]>=S&&I[1]<=B)return[I[0],I[1]];var D=n+l-s,M=r+u-s;if(0<(I=this.intersectLineCircle(e,t,n,r,D,M,s+o)).length&&I[0]>=D&&I[1]>=M)return[I[0],I[1]];var L=n-l+s,A=r+u-s;return 0<(I=this.intersectLineCircle(e,t,n,r,L,A,s+o)).length&&I[0]<=L&&I[1]>=A?[I[0],I[1]]:[]},w.inLineVicinity=function(e,t,n,r,i,a,o){var s=o,l=Math.min(n,i),u=Math.max(n,i),c=Math.min(r,a),d=Math.max(r,a);return l-s<=e&&e<=u+s&&c-s<=t&&t<=d+s},w.inBezierVicinity=function(e,t,n,r,i,a,o,s,l){var u=Math.min(n,o,i)-l,c=Math.max(n,o,i)+l,d=Math.min(r,s,a)-l,h=Math.max(r,s,a)+l;return!(e<u||c<e||t<d||h<t)},w.solveQuadratic=function(e,t,n,r){var i=t*t-4*e*(n-=r);if(i<0)return[];var a=Math.sqrt(i),o=2*e;return[(-t+a)/o,(-t-a)/o]},w.solveCubic=function(e,t,n,r,i){var a,o=void 0,s=void 0,l=void 0,u=void 0,c=void 0,d=void 0,h=void 0;return s=-27*(r/=e)+(t/=e)*(9*(n/=e)-t*t*2),a=(o=(3*n-t*t)/9)*o*o+(s/=54)*s,d=t/3,(i[1]=0)<a?(u=(u=s+Math.sqrt(a))<0?-Math.pow(-u,1/3):Math.pow(u,1/3),c=(c=s-Math.sqrt(a))<0?-Math.pow(-c,1/3):Math.pow(c,1/3),i[0]=-d+u+c,d+=(u+c)/2,i[4]=i[2]=-d,d=Math.sqrt(3)*(-c+u)/2,i[3]=d,void(i[5]=-d)):(i[5]=i[3]=0,0===a?(h=s<0?-Math.pow(-s,1/3):Math.pow(s,1/3),i[0]=2*h-d,void(i[4]=i[2]=-(h+d))):(l=(o=-o)*o*o,l=Math.acos(s/Math.sqrt(l)),h=2*Math.sqrt(o),i[0]=-d+h*Math.cos(l/3),i[2]=-d+h*Math.cos((l+2*Math.PI)/3),void(i[4]=-d+h*Math.cos((l+4*Math.PI)/3))))},w.sqdistToQuadraticBezier=function(e,t,n,r,i,a,o,s){var l=1*n*n-4*n*i+2*n*o+4*i*i-4*i*o+o*o+r*r-4*r*a+2*r*s+4*a*a-4*a*s+s*s,u=9*n*i-3*n*n-3*n*o-6*i*i+3*i*o+9*r*a-3*r*r-3*r*s-6*a*a+3*a*s,c=3*n*n-6*n*i+n*o-n*e+2*i*i+2*i*e-o*e+3*r*r-6*r*a+r*s-r*t+2*a*a+2*a*t-s*t,d=1*n*i-n*n+n*e-i*e+r*a-r*r+r*t-a*t,h=[];this.solveCubic(l,u,c,d,h);for(var f=[],p=0;p<6;p+=2)Math.abs(h[p+1])<1e-7&&0<=h[p]&&h[p]<=1&&f.push(h[p]);f.push(1),f.push(0);for(var v=-1,g=void 0,m=void 0,y=void 0,b=0;b<f.length;b++)g=Math.pow(1-f[b],2)*n+2*(1-f[b])*f[b]*i+f[b]*f[b]*o,m=Math.pow(1-f[b],2)*r+2*(1-f[b])*f[b]*a+f[b]*f[b]*s,y=Math.pow(g-e,2)+Math.pow(m-t,2),0<=v?y<v&&(v=y):v=y;return v},w.sqdistToFiniteLine=function(e,t,n,r,i,a){var o=[e-n,t-r],s=[i-n,a-r],l=s[0]*s[0]+s[1]*s[1],u=o[0]*o[0]+o[1]*o[1],c=o[0]*s[0]+o[1]*s[1],d=c*c/l;return c<0?u:l<d?(e-i)*(e-i)+(t-a)*(t-a):u-d},w.pointInsidePolygonPoints=function(e,t,n){for(var r=void 0,i=void 0,a=void 0,o=void 0,s=0,l=0;l<n.length/2;l++)if(r=n[2*l],i=n[2*l+1],o=l+1<n.length/2?(a=n[2*(l+1)],n[2*(l+1)+1]):(a=n[2*(l+1-n.length/2)],n[2*(l+1-n.length/2)+1]),r==e&&a==e);else{if(!(e<=r&&a<=e||r<=e&&e<=a))continue;t<(e-r)/(a-r)*(o-i)+i&&s++}return s%2!=0},w.pointInsidePolygon=function(e,t,n,r,i,a,o,s,l){var u=new Array(n.length),c=void 0;null!=s[0]?(c=Math.atan(s[1]/s[0]),s[0]<0?c+=Math.PI/2:c=-c-Math.PI/2):c=s;for(var d=Math.cos(-c),h=Math.sin(-c),f=0;f<u.length/2;f++)u[2*f]=a/2*(n[2*f]*d-n[2*f+1]*h),u[2*f+1]=o/2*(n[2*f+1]*d+n[2*f]*h),u[2*f]+=r,u[2*f+1]+=i;var p=void 0;if(0<l){var v=this.expandPolygon(u,-l);p=this.joinLines(v)}else p=u;return w.pointInsidePolygonPoints(e,t,p)},w.joinLines=function(e){for(var t=new Array(e.length/2),n=void 0,r=void 0,i=void 0,a=void 0,o=void 0,s=void 0,l=void 0,u=void 0,c=0;c<e.length/4;c++){n=e[4*c],r=e[4*c+1],i=e[4*c+2],a=e[4*c+3],u=c<e.length/4-1?(o=e[4*(c+1)],s=e[4*(c+1)+1],l=e[4*(c+1)+2],e[4*(c+1)+3]):(o=e[0],s=e[1],l=e[2],e[3]);var d=this.finiteLinesIntersect(n,r,i,a,o,s,l,u,!0);t[2*c]=d[0],t[2*c+1]=d[1]}return t},w.expandPolygon=function(e,t){for(var n=new Array(2*e.length),r=void 0,i=void 0,a=void 0,o=void 0,s=0;s<e.length/2;s++){r=e[2*s],i=e[2*s+1];var l=(o=s<e.length/2-1?(a=e[2*(s+1)],e[2*(s+1)+1]):(a=e[0],e[1]))-i,u=-(a-r),c=Math.sqrt(l*l+u*u),d=l/c,h=u/c;n[4*s]=r+d*t,n[4*s+1]=i+h*t,n[4*s+2]=a+d*t,n[4*s+3]=o+h*t}return n},w.intersectLineEllipse=function(e,t,n,r,i,a){var o=n-e,s=r-t;o/=i,s/=a;var l=Math.sqrt(o*o+s*s),u=l-1;if(u<0)return[];var c=u/l;return[(n-e)*c+e,(r-t)*c+t]},w.checkInEllipse=function(e,t,n,r,i,a,o){return e-=a,t-=o,(e/=r/2+n)*e+(t/=i/2+n)*t<=1},w.intersectLineCircle=function(e,t,n,r,i,a,o){var s=[n-e,r-t],l=[e-i,t-a],u=s[0]*s[0]+s[1]*s[1],c=2*(l[0]*s[0]+l[1]*s[1]),d=c*c-4*u*(l[0]*l[0]+l[1]*l[1]-o*o);if(d<0)return[];var h=(-c+Math.sqrt(d))/(2*u),f=(-c-Math.sqrt(d))/(2*u),p=Math.min(h,f),v=Math.max(h,f),g=[];if(0<=p&&p<=1&&g.push(p),0<=v&&v<=1&&g.push(v),0===g.length)return[];var m=g[0]*s[0]+e,y=g[0]*s[1]+t;return 1<g.length?g[0]==g[1]?[m,y]:[m,y,g[1]*s[0]+e,g[1]*s[1]+t]:[m,y]},w.findCircleNearPoint=function(e,t,n,r,i){var a=r-e,o=i-t,s=Math.sqrt(a*a+o*o);return[e+a/s*n,t+o/s*n]},w.findMaxSqDistanceToOrigin=function(e){for(var t=1e-6,n=void 0,r=0;r<e.length/2;r++)(n=e[2*r]*e[2*r]+e[2*r+1]*e[2*r+1])>t&&(t=n);return t},w.midOfThree=function(e,t,n){return t<=e&&e<=n||n<=e&&e<=t?e:e<=t&&t<=n||n<=t&&t<=e?t:n},w.finiteLinesIntersect=function(e,t,n,r,i,a,o,s,l){var u=e-i,c=n-e,d=o-i,h=t-a,f=r-t,p=s-a,v=d*h-p*u,g=c*h-f*u,m=p*c-d*f;if(0===m)return 0===v||0===g?this.midOfThree(e,n,o)===o?[o,s]:this.midOfThree(e,n,i)===i?[i,a]:this.midOfThree(i,o,n)===n?[n,r]:[]:[];var y=v/m,b=g/m;return-.001<=y&&y<=1.001&&-.001<=b&&b<=1.001?[e+y*c,t+y*f]:l?[e+y*c,t+y*f]:[]},w.polygonIntersectLine=function(e,t,n,r,i,a,o,s){var l=[],u=void 0,c=new Array(n.length),d=!0;5===arguments.length&&(d=!1);var h=void 0;if(d){for(var f=0;f<c.length/2;f++)c[2*f]=n[2*f]*a+r,c[2*f+1]=n[2*f+1]*o+i;if(0<s){var p=w.expandPolygon(c,-s);h=w.joinLines(p)}else h=c}else h=n;for(var v=void 0,g=void 0,m=void 0,y=void 0,b=0;b<h.length/2;b++)v=h[2*b],g=h[2*b+1],y=b<h.length/2-1?(m=h[2*(b+1)],h[2*(b+1)+1]):(m=h[0],h[1]),0!==(u=this.finiteLinesIntersect(e,t,r,i,v,g,m,y)).length&&l.push(u[0],u[1]);return l},w.shortenIntersection=function(e,t,n){var r=[e[0]-t[0],e[1]-t[1]],i=Math.sqrt(r[0]*r[0]+r[1]*r[1]),a=(i-n)/i;return a<0&&(a=1e-5),[t[0]+a*r[0],t[1]+a*r[1]]},w.generateUnitNgonPointsFitToSquare=function(e,t){var n=w.generateUnitNgonPoints(e,t);return w.fitPolygonToSquare(n)},w.fitPolygonToSquare=function(e){for(var t=void 0,n=void 0,r=e.length/2,i=1/0,a=1/0,o=-1/0,s=-1/0,l=0;l<r;l++)t=e[2*l],n=e[2*l+1],i=Math.min(i,t),o=Math.max(o,t),a=Math.min(a,n),s=Math.max(s,n);for(var u=2/(o-i),c=2/(s-a),d=0;d<r;d++)t=e[2*d]=e[2*d]*u,n=e[2*d+1]=e[2*d+1]*c,i=Math.min(i,t),o=Math.max(o,t),a=Math.min(a,n),s=Math.max(s,n);if(a<-1)for(var h=0;h<r;h++)n=e[2*h+1]=e[2*h+1]+(-1-a);return e},w.generateUnitNgonPoints=function(e,t){var n=1/e*2*Math.PI,r=e%2==0?Math.PI/2+n/2:Math.PI/2;r+=t;for(var i=new Array(2*e),a=void 0,o=0;o<e;o++)a=o*n+r,i[2*o]=Math.cos(a),i[2*o+1]=Math.sin(-a);return i},w.getRoundRectangleRadius=function(e,t){return Math.min(e/4,t/4,8)},w.getCutRectangleCornerLength=function(){return 8},w.bezierPtsToQuadCoeff=function(e,t,n){return[e-2*t+n,2*(t-e),e]},w.getBarrelCurveConstants=function(e,t){return{heightOffset:Math.min(15,.05*t),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}},e.exports=w},function(e,t,n){"use strict";var r=n(1),i={};[n(73),n(74),n(75)].forEach(function(e){r.assign(i,e)}),e.exports=i},function(e,t,n){"use strict";e.exports="undefined"==typeof window?null:window},function(e,t,n){"use strict";(function(a){var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function e(t){return this instanceof e?(this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},void("function"==typeof t&&t.call(this,this.fulfill.bind(this),this.reject.bind(this)))):new e(t)};r.prototype={fulfill:function(e){return t(this,1,"fulfillValue",e)},reject:function(e){return t(this,2,"rejectReason",e)},then:function(e,t){var n=new r;return this.onFulfilled.push(s(e,n,"fulfill")),this.onRejected.push(s(t,n,"reject")),i(this),n.proxy}};var t=function(e,t,n,r){return 0===e.state&&(e.state=t,e[n]=r,i(e)),e},i=function(e){1===e.state?n(e,"onFulfilled",e.fulfillValue):2===e.state&&n(e,"onRejected",e.rejectReason)},n=function(e,t,n){if(0!==e[t].length){var r=e[t];e[t]=[];var i=function(){for(var e=0;e<r.length;e++)r[e](n)};"function"==typeof a?a(i):setTimeout(i,0)}},s=function(n,r,i){return function(e){if("function"!=typeof n)r[i].call(r,e);else{var t;try{t=n(e)}catch(e){return void r.reject(e)}l(r,t)}}},l=function t(n,r){if(n!==r&&n.proxy!==r){var e;if("object"===(void 0===r?"undefined":o(r))&&null!==r||"function"==typeof r)try{e=r.then}catch(t){return void n.reject(t)}if("function"!=typeof e)n.fulfill(r);else{var i=!1;try{e.call(r,function(e){i||(i=!0,e===r?n.reject(new TypeError("circular thenable chain")):t(n,e))},function(e){i||(i=!0,n.reject(e))})}catch(t){i||n.reject(t)}}}else n.reject(new TypeError("cannot resolve promise with itself"))};r.all=function(s){return new r(function(n,r){for(var i=new Array(s.length),a=0,o=function(e,t){i[e]=t,++a===s.length&&n(i)},e=0;e<s.length;e++)!function(t){var e=s[t];null!=e&&null!=e.then?e.then(function(e){o(t,e)},function(e){r(e)}):o(t,e)}(e)})},r.resolve=function(n){return new r(function(e,t){e(n)})},r.reject=function(n){return new r(function(e,t){t(n)})},e.exports="undefined"!=typeof Promise?Promise:r}).call(t,n(142).setImmediate)},function(e,t,n){"use strict";var r=n(0),i=n(1),a=n(11),o=function(e){var t=this;if(t._private={selectorText:e,invalid:!0},null==e||r.string(e)&&e.match(/^\s*$/))t.length=0;else if("*"===e||"edge"===e||"node"===e)t[0]=a(),t[0].group="*"===e?e:e+"s",t[0].groupOnly=!0,t[0].length=1,t._private.invalid=!1,t.length=1;else if(r.elementOrCollection(e)){var n=e.collection();t[0]=a(),t[0].collection=n,t[0].length=1,t.length=1}else if(r.fn(e))t[0]=a(),t[0].filter=e,t[0].length=1,t.length=1;else{if(!r.string(e))return void i.error("A selector must be created from a string; found ",e);if(!t.parse(e))return}t._private.invalid=!1},s=o.prototype;s.valid=function(){return!this._private.invalid},s.invalid=function(){return this._private.invalid},s.text=function(){return this._private.selectorText},s.size=function(){return this.length},s.eq=function(e){return this[e]},s.sameText=function(e){return this.text()===e.text()},s.toString=s.selector=function(){if(null!=this._private.toStringCache)return this._private.toStringCache;var l=void 0,e="",u=function(e){return null==e?"":e},c=function(e){return r.string(e)?'"'+e+'"':u(e)},d=function(e){return" "+e+" "};for(l=0;l<this.length;l++){e+=function e(t){var n="",r=void 0;t.subject===t&&(n+="$");var i=u(t.group);for(n+=i.substring(0,i.length-1),r=0;r<t.data.length;r++){var a=t.data[r];n+=a.value?"["+a.field+d(u(a.operator))+c(a.value)+"]":"["+u(a.operator)+a.field+"]"}for(r=0;r<t.meta.length;r++){var o=t.meta[r];n+="[["+o.field+d(u(o.operator))+c(o.value)+"]]"}for(r=0;r<t.colonSelectors.length;r++)n+=t.colonSelectors[l];for(r=0;r<t.ids.length;r++)n+="#"+t.ids[l];for(r=0;r<t.classes.length;r++)n+="."+t.classes[r];if(null!=t.source&&null!=t.target&&(n=e(t.source)+" -> "+e(t.target)),null!=t.connectedNodes){var s=t.connectedNodes;n=e(s[0])+" <-> "+e(s[1])}return null!=t.parent&&(n=e(t.parent)+" > "+n),null!=t.ancestor&&(n=e(t.ancestor)+" "+n),null!=t.child&&(n+=" > "+e(t.child)),null!=t.descendant&&(n+=" "+e(t.descendant)),n}(this[l]),1<this.length&&l<this.length-1&&(e+=", ")}return this._private.toStringCache=e},[n(121),n(120)].forEach(function(e){return i.assign(s,e)}),e.exports=o},function(e,t,n){"use strict";var A=n(1),O=n(0),R=n(118),g=n(9),m=n(13),z=function(e,t,n){for(var r=null!=n?n:A.uuid();e.hasElementWithId(r);)r=A.uuid();return r},j=function(e,t,n){if(void 0!==e&&O.core(e)){var r=new R,i=!1;if(t){if(0<t.length&&O.plainObject(t[0])&&!O.element(t[0])){i=!0;for(var a=[],o=new g,s=0,l=t.length;s<l;s++){var u=t[s];null==u.data&&(u.data={});var c=u.data;if(null==c.id)c.id=z(e,u);else if(e.hasElementWithId(c.id)||o.has(c.id))continue;var d=new m(e,u,!1);a.push(d),o.add(c.id)}t=a}}else t=[];for(var h=this.length=0,f=t.length;h<f;h++){var p=t[h];if(null!=p){var v=p._private.data.id;(null==n||n.unique&&!r.has(v))&&(r.set(v,{index:this.length,ele:p}),this[this.length]=p,this.length++)}}this._private={cy:e,map:r},i&&this.restore()}else A.error("A collection must have a reference to the core")},r=m.prototype=j.prototype;r.instanceString=function(){return"collection"},r.spawn=function(e,t,n){return O.core(e)||(n=t,t=e,e=this.cy()),new j(e,t,n)},r.spawnSelf=function(){return this.spawn(this)},r.cy=function(){return this._private.cy},r.renderer=function(){return this._private.cy.renderer()},r.element=function(){return this[0]},r.collection=function(){return O.collection(this)?this:new j(this._private.cy,[this])},r.unique=function(){return new j(this._private.cy,this,{unique:!0})},r.hasElementWithId=function(e){return this._private.map.has(e)},r.getElementById=function(e){var t=this._private.cy,n=this._private.map.get(e);return n?n.ele:new j(t)},r.$id=r.getElementById,r.poolIndex=function(){var e=this._private.cy._private.elements,t=this._private.data.id;return e._private.map.get(t).index},r.json=function(i){var a=this.element(),e=this.cy();if(null==a&&i)return this;if(null!=a){var o=a._private;if(O.plainObject(i)){e.startBatch(),i.data&&a.data(i.data),i.position&&a.position(i.position);var t=function(e,t,n){var r=i[e];null!=r&&r!==o[e]&&(r?a[t]():a[n]())};return t("removed","remove","restore"),t("selected","select","unselect"),t("selectable","selectify","unselectify"),t("locked","lock","unlock"),t("grabbable","grabify","ungrabify"),null!=i.classes&&a.classes(i.classes),e.endBatch(),this}if(void 0===i){var n={data:A.copy(o.data),position:A.copy(o.position),group:o.group,removed:o.removed,selected:o.selected,selectable:o.selectable,locked:o.locked,grabbable:o.grabbable,classes:null};n.classes="";var r=0;return o.classes.forEach(function(e){return n.classes+=0==r++?e:" "+e}),n}}},r.jsons=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t].json();e.push(n)}return e},r.clone=function(){for(var e=this.cy(),t=[],n=0;n<this.length;n++){var r=this[n].json(),i=new m(e,r,!1);t.push(i)}return new j(e,t)},r.copy=r.clone,r.restore=function(e){var t=this.cy(),n=t._private;void 0===e&&(e=!0);for(var r=[],i=[],a=void 0,o=0,s=this.length;o<s;o++){var l=this[o];l.removed()&&(l.isNode()?r.push(l):i.push(l))}a=r.concat(i);var u=void 0,c=function(){a.splice(u,1),u--};for(u=0;u<a.length;u++){var d=a[u],h=d._private,f=h.data;if(d.clearTraversalCache(),void 0===f.id)f.id=z(t,d);else if(O.number(f.id))f.id=""+f.id;else{if(O.emptyString(f.id)||!O.string(f.id)){A.error("Can not create element with invalid string ID `"+f.id+"`"),c();continue}if(t.hasElementWithId(f.id)){A.error("Can not create second element with ID `"+f.id+"`"),c();continue}}var p=f.id;if(d.isNode()){var v=h.position;null==v.x&&(v.x=0),null==v.y&&(v.y=0)}if(d.isEdge()){for(var g=d,m=["source","target"],y=m.length,b=!1,w=0;w<y;w++){var x=m[w],E=f[x];O.number(E)&&(E=f[x]=""+f[x]),null==E||""===E?(A.error("Can not create edge `"+p+"` with unspecified "+x),b=!0):t.hasElementWithId(E)||(A.error("Can not create edge `"+p+"` with nonexistant "+x+" `"+E+"`"),b=!0)}if(b){c();continue}var _=t.getElementById(f.source),k=t.getElementById(f.target);_._private.edges.push(g),k._private.edges.push(g),g._private.source=_,g._private.target=k}h.map=new R,h.map.set(p,{ele:d,index:0}),h.removed=!1,t.addToPool(d)}for(var C=0;C<r.length;C++){var T=r[C],I=T._private.data;O.number(I.parent)&&(I.parent=""+I.parent);var P=I.parent;if(null!=P){var N=t.getElementById(P);if(N.empty())I.parent=void 0;else{for(var S=!1,B=N;!B.empty();){if(T.same(B)){S=!0,I.parent=void 0;break}B=B.parent()}S||(N[0]._private.children.push(T),T._private.parent=N[0],n.hasCompoundNodes=!0)}}}if(0<a.length){for(var D=new j(t,a),M=0;M<D.length;M++){var L=D[M];L.isNode()||(L.parallelEdges().clearTraversalCache(),L.source().clearTraversalCache(),L.target().clearTraversalCache())}(n.hasCompoundNodes?t.collection().merge(D).merge(D.connectedNodes()).merge(D.parent()):D).dirtyCompoundBoundsCache().updateStyle(e),e?D.emitAndNotify("add"):D.emit("add")}return this},r.removed=function(){var e=this[0];return e&&e._private.removed},r.inside=function(){var e=this[0];return e&&!e._private.removed},r.remove=function(e){function r(e){a[e.id()]||(a[e.id()]=!0,e.isNode()?(i.push(e),function(e){for(var t=e._private.edges,n=0;n<t.length;n++)r(t[n])}(e),function(e){for(var t=e._private.children,n=0;n<t.length;n++)r(t[n])}(e)):i.unshift(e))}function t(e,t){var n=e._private.edges;A.removeFromArray(n,t),e.clearTraversalCache()}var n=[],i=[],a={},o=this._private.cy;void 0===e&&(e=!0);for(var s=0,l=this.length;s<l;s++)r(this[s]);var u=[];u.ids={},this.dirtyCompoundBoundsCache(),o.removeFromPool(i);for(var c=0;c<i.length;c++){var d=i[c];if(d._private.removed=!0,n.push(d),d.isEdge()){var h=d.source()[0],f=d.target()[0];t(h,d),t(f,d),d.parallelEdges().clearTraversalCache()}else{var p=d.parent();0!==p.length&&function(e,t){t=t[0];var n=(e=e[0])._private.children,r=e.id();A.removeFromArray(n,t),u.ids[r]||(u.ids[r]=!0,u.push(e))}(p,d)}}var v=o._private.elements;o._private.hasCompoundNodes=!1;for(var g=0;g<v.length;g++)if(v[g].isParent()){o._private.hasCompoundNodes=!0;break}var m=new j(this.cy(),n);0<m.size()&&(e&&this.cy().notify({type:"remove",eles:m}),m.emit("remove"));for(var y=0;y<u.length;y++){var b=u[y];b.removed()||b.updateStyle()}return new j(o,n)},r.move=function(e){var t=this._private.cy;if(void 0!==e.source||void 0!==e.target){var n=e.source,r=e.target,i=t.hasElementWithId(n),a=t.hasElementWithId(r);if(i||a){var o=this.jsons();this.remove();for(var s=0;s<o.length;s++){var l=o[s],u=this[s];"edges"===l.group&&(i&&(l.data.source=n),a&&(l.data.target=r),l.scratch=u._private.scratch)}return t.add(o)}}else if(void 0!==e.parent){var c=e.parent;if(null===c||t.hasElementWithId(c)){var d=this.jsons(),h=this.descendants(),f=h.union(h.union(this).connectedEdges()).jsons();this.remove();for(var p=0;p<d.length;p++){var v=d[p],g=this[p];"nodes"===v.group&&(v.data.parent=null===c?void 0:c,v.scratch=g._private.scratch)}return t.add(d.concat(f))}}return this},[n(33),n(37),n(38),n(39),n(40),n(41),n(42),n(45),n(48),n(49),n(50),n(7),n(51),n(52),n(53),n(54),n(55)].forEach(function(e){A.extend(r,e)}),e.exports=j},function(e,t,n){"use strict";e.exports=n(137)},function(e,t,n){"use strict";var i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),r=("function"==typeof Symbol&&Symbol.iterator,function(){function r(e){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this._obj=Object.create(null),null!=e){var t;t=null!=e.instanceString&&e.instanceString()===this.instanceString()?e.toArray():e;for(var n=0;n<t.length;n++)this.add(t[n])}}return i(r,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(e){this._obj[e]=1}},{key:"delete",value:function(e){this._obj[e]=0}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(e){return 1===this._obj[e]}},{key:"toArray",value:function(){var t=this;return Object.keys(this._obj).filter(function(e){return t.has(e)})}},{key:"forEach",value:function(e,t){return this.toArray().forEach(e,t)}},{key:"size",get:function(){return this.toArray().length}}]),r}());e.exports=r},function(e,t,n){"use strict";function r(e){d.assign(this,a,e),this.listeners=[],this.emitting=0}var d=n(1),h=n(0),i=n(15),f=/(\w+)(\.(?:\w+|\*))?/,a={qualifierCompare:function(e,t){return e===t},eventMatches:function(){return!0},eventFields:function(){return{}},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:void 0},o=r.prototype,u=function(e,t,n,r,i,a,o){h.fn(r)&&(i=r,r=null),o&&(a=null==a?o:d.assign({},a,o));for(var s=n.split(/\s+/),l=0;l<s.length;l++){var u=s[l];if(!h.emptyString(u)){var c=u.match(f);if(c&&!1===t(e,u,c[1],c[2]?c[2]:null,r,i,a))break}}},c=function(e,t){return new i(t.type,d.assign(t,e.eventFields(e.context)))};o.on=o.addListener=function(e,t,n,r,i){return u(this,function(e,t,n,r,i,a,o){h.fn(a)&&e.listeners.push({event:t,callback:a,type:n,namespace:r,qualifier:i,conf:o})},e,t,n,r,i),this},o.one=function(e,t,n,r){return this.on(e,t,n,r,{one:!0})},o.removeListener=o.off=function(e,t,n,r){var i=this;0!==this.emitting&&(this.listeners=d.copyArray(this.listeners));for(var l=this.listeners,a=l.length-1;0<=a;a--)!function(o){var s=l[o];u(i,function(e,t,n,r,i,a){if(s.type===n&&(!r||s.namespace===r)&&(!i||e.qualifierCompare(s.qualifier,i))&&(!a||s.callback===a))return l.splice(o,1),!1},e,t,n,r)}(a);return this},o.emit=o.trigger=function(e,l,t){var u=this.listeners,n=u.length;return this.emitting++,h.array(l)||(l=[l]),function(e,t,n){if(h.event(n))t(e,n);else if(h.plainObject(n))t(e,c(e,n));else for(var r=n.split(/\s+/),i=0;i<r.length;i++){var a=r[i];if(!h.emptyString(a)){var o=a.match(f);if(o){var s=o[1],l=o[2]?o[2]:null;t(e,c(e,{type:s,namespace:l,target:e.context}))}}}}(this,function(a,o){null!=t&&(u=[{event:o.event,type:o.type,namespace:o.namespace,callback:t}],n=u.length);for(var s=0;s<n;s++)!function(e){var t=u[s];if(t.type===o.type&&(!t.namespace||t.namespace===o.namespace||".*"===t.namespace)&&a.eventMatches(a.context,t,o)){var n=[o];null!=l&&d.push(n,l),a.beforeEmit(a.context,t,o),t.conf&&t.conf.one&&(a.listeners=a.listeners.filter(function(e){return e!==t}));var r=a.callbackContext(a.context,t,o),i=t.callback.apply(r,n);a.afterEmit(a.context,t,o),!1===i&&(o.stopPropagation(),o.preventDefault())}}();a.bubble(a.context)&&!o.isPropagationStopped()&&a.parent(a.context).emit(o,l)},e),this.emitting--,this},e.exports=r},function(e,t,n){"use strict";e.exports=function(){return{classes:[],colonSelectors:[],data:[],group:null,ids:[],meta:[],collection:null,filter:null,parent:null,ancestor:null,subject:null,child:null,descendant:null}}},function(e,t,n){"use strict";var h=n(4),p=n(1),f=n(7),v=n(0),g=n(5),r=n(3),i=function(e){var a=this,t=(e=p.extend({},e)).container;t&&!v.htmlElement(t)&&v.htmlElement(t[0])&&(t=t[0]);var r=t?t._cyreg:null;(r=r||{})&&r.cy&&(r.cy.destroy(),r={});var i=r.readies=r.readies||[];t&&(t._cyreg=r),r.cy=a;var n=void 0!==h&&void 0!==t&&!e.headless,o=e;o.layout=p.extend({name:n?"grid":"null"},o.layout),o.renderer=p.extend({name:n?"canvas":"null"},o.renderer);var s=function(e,t,n){return void 0!==t?t:void 0!==n?n:e},l=this._private={container:t,ready:!1,options:o,elements:new f(this),listeners:[],aniEles:new f(this),scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:s(!0,o.zoomingEnabled),userZoomingEnabled:s(!0,o.userZoomingEnabled),panningEnabled:s(!0,o.panningEnabled),userPanningEnabled:s(!0,o.userPanningEnabled),boxSelectionEnabled:s(!0,o.boxSelectionEnabled),autolock:s(!1,o.autolock,o.autolockNodes),autoungrabify:s(!1,o.autoungrabify,o.autoungrabifyNodes),autounselectify:s(!1,o.autounselectify),styleEnabled:void 0===o.styleEnabled?n:o.styleEnabled,zoom:v.number(o.zoom)?o.zoom:1,pan:{x:v.plainObject(o.pan)&&v.number(o.pan.x)?o.pan.x:0,y:v.plainObject(o.pan)&&v.number(o.pan.y)?o.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1};this.createEmitter();var u=o.selectionType;l.selectionType=void 0===u||"additive"!==u&&"single"!==u?"single":u,v.number(o.minZoom)&&v.number(o.maxZoom)&&o.minZoom<o.maxZoom?(l.minZoom=o.minZoom,l.maxZoom=o.maxZoom):v.number(o.minZoom)&&void 0===o.maxZoom?l.minZoom=o.minZoom:v.number(o.maxZoom)&&void 0===o.minZoom&&(l.maxZoom=o.maxZoom),l.styleEnabled&&a.setStyle([]),a.initRenderer(p.extend({hideEdgesOnViewport:o.hideEdgesOnViewport,textureOnViewport:o.textureOnViewport,wheelSensitivity:v.number(o.wheelSensitivity)&&0<o.wheelSensitivity?o.wheelSensitivity:1,motionBlur:void 0!==o.motionBlur&&o.motionBlur,motionBlurOpacity:void 0===o.motionBlurOpacity?.05:o.motionBlurOpacity,pixelRatio:v.number(o.pixelRatio)&&0<o.pixelRatio?o.pixelRatio:void 0,desktopTapThreshold:void 0===o.desktopTapThreshold?4:o.desktopTapThreshold,touchTapThreshold:void 0===o.touchTapThreshold?8:o.touchTapThreshold},o.renderer));var c,d;c=[o.style,o.elements],d=function(e){var t=e[0],n=e[1];l.styleEnabled&&a.style().append(t),function(e,t,n){a.notifications(!1);var r=a.mutableElements();0<r.length&&r.remove(),null!=e&&(v.plainObject(e)||v.array(e))&&a.add(e),a.one("layoutready",function(e){a.notifications(!0),a.emit(e),a.notify({type:"load",eles:a.mutableElements()}),a.one("load",t),a.emit("load")}).one("layoutstop",function(){a.one("done",n),a.emit("done")});var i=p.extend({},a._private.options.layout);i.eles=a.elements(),a.layout(i).run()}(n,function(){a.startAnimationLoop(),l.ready=!0,v.fn(o.ready)&&a.on("ready",o.ready);for(var e=0;e<i.length;e++){var t=i[e];a.on("ready",t)}r&&(r.readies=[]),a.emit("ready")},o.done)},c.some(v.promise)?g.all(c).then(d):d(c)},a=i.prototype;p.extend(a,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},isDestroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.isDestroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},selectionType:function(){return this._private.selectionType},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return"null"===this._private.options.renderer.name},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container},options:function(){return p.copy(this._private.options)},json:function(e){var o=this,t=o._private,n=o.mutableElements();if(v.plainObject(e)){if(o.startBatch(),e.elements){var s={},r=function(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=r.data.id,a=o.getElementById(i);s[i]=!0,0!==a.length?a.json(r):t?o.add(p.extend({group:t},r)):o.add(r)}};if(v.array(e.elements))r(e.elements);else for(var i=["nodes","edges"],a=0;a<i.length;a++){var l=i[a],u=e.elements[l];v.array(u)&&r(u,l)}n.stdFilter(function(e){return!s[e.id()]}).remove()}e.style&&o.style(e.style),null!=e.zoom&&e.zoom!==t.zoom&&o.zoom(e.zoom),e.pan&&(e.pan.x===t.pan.x&&e.pan.y===t.pan.y||o.pan(e.pan));for(var c=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify"],d=0;d<c.length;d++){var h=c[d];null!=e[h]&&o[h](e[h])}return o.endBatch(),this}if(void 0===e){var f={elements:{}};return n.forEach(function(e){var t=e.group();f.elements[t]||(f.elements[t]=[]),f.elements[t].push(e.json())}),this._private.styleEnabled&&(f.style=o.style().json()),f.zoomingEnabled=o._private.zoomingEnabled,f.userZoomingEnabled=o._private.userZoomingEnabled,f.zoom=o._private.zoom,f.minZoom=o._private.minZoom,f.maxZoom=o._private.maxZoom,f.panningEnabled=o._private.panningEnabled,f.userPanningEnabled=o._private.userPanningEnabled,f.pan=p.copy(o._private.pan),f.boxSelectionEnabled=o._private.boxSelectionEnabled,f.renderer=p.copy(o._private.options.renderer),f.hideEdgesOnViewport=o._private.options.hideEdgesOnViewport,f.textureOnViewport=o._private.options.textureOnViewport,f.wheelSensitivity=o._private.options.wheelSensitivity,f.motionBlur=o._private.options.motionBlur,f}},scratch:r.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0}),removeScratch:r.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0})}),a.$id=a.getElementById,[n(56),n(60),n(65),n(66),n(67),n(68),n(69),n(70),n(71),n(72)].forEach(function(e){p.extend(a,e)}),e.exports=i},function(e,t,n){"use strict";var h=n(1),f=n(0),p=n(9);e.exports=function(e,t,n){if(n=!(void 0!==n&&!n),void 0!==e&&void 0!==t&&f.core(e)){var r=t.group;if(null==r&&(r=t.data&&null!=t.data.source&&null!=t.data.target?"edges":"nodes"),"nodes"===r||"edges"===r){this.length=1;var i=(this[0]=this)._private={cy:e,single:!0,data:t.data||{},position:t.position||{},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:r,style:{},rstyle:{},styleCxts:[],removed:!0,selected:!!t.selected,selectable:void 0===t.selectable||!!t.selectable,locked:!!t.locked,grabbed:!1,grabbable:void 0===t.grabbable||!!t.grabbable,active:!1,classes:new p,animation:{current:[],queue:[]},rscratch:{},scratch:t.scratch||{},edges:[],children:[],parent:null,traversalCache:{}};if(t.renderedPosition){var a=t.renderedPosition,o=e.pan(),s=e.zoom();i.position={x:(a.x-o.x)/s,y:(a.y-o.y)/s}}if(f.string(t.classes))for(var l=t.classes.split(/\s+/),u=0,c=l.length;u<c;u++){var d=l[u];d&&""!==d&&i.classes.add(d)}(t.style||t.css)&&e.style().applyBypass(this,t.style||t.css),this.createEmitter(),(void 0===n||n)&&this.restore()}else h.error("An element must be of type `nodes` or `edges`; you specified `"+r+"`")}else h.error("An element must have a core reference and parameters set")}},function(e,t,n){"use strict";var l=n(1);e.exports=function(e,t){function n(e){var t=e.pstyle("z-compound-depth");return"auto"===t.value?i?e.zDepth():0:"bottom"===t.value?-1:"top"===t.value?l.MAX_INT:0}function r(e){return"auto"===e.pstyle("z-index-compare").value&&e.isNode()?1:0}var i=e.cy().hasCompoundNodes(),a=n(e)-n(t);if(0!==a)return a;var o=r(e)-r(t);if(0!==o)return o;var s=e.pstyle("z-index").value-t.pstyle("z-index").value;return 0!==s?s:e.poolIndex()-t.poolIndex()}},function(e,t,n){"use strict";function a(){return!1}function o(){return!0}var r=function(e,t){this.recycle(e,t)};r.prototype={instanceString:function(){return"event"},recycle:function(e,t){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=a,null!=e&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?o:a):null!=e&&e.type?t=e:this.type=e,null!=t&&(this.originalEvent=t.originalEvent,this.type=null!=t.type?t.type:this.type,this.cy=t.cy,this.target=t.target,this.position=t.position,this.renderedPosition=t.renderedPosition,this.namespace=t.namespace,this.layout=t.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var n=this.position,r=this.cy.zoom(),i=this.cy.pan();this.renderedPosition={x:n.x*r+i.x,y:n.y*r+i.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=o;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=o;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=o,this.stopPropagation()},isDefaultPrevented:a,isPropagationStopped:a,isImmediatePropagationStopped:a},e.exports=r},function(e,t,n){"use strict";var y=n(1);e.exports={setupDequeueing:function(m){return function(){var p=this,v=this.renderer;if(!p.dequeueingSetup){p.dequeueingSetup=!0;var g=y.debounce(function(){v.redrawHint("eles",!0),v.redrawHint("drag",!0),v.redraw()},m.deqRedrawThreshold),e=m.priority||y.noop;v.beforeRender(function(e,t){for(var n=y.performanceNow(),r=v.averageRedrawTime,i=v.lastRedrawTime,a=[],o=v.cy.extent(),s=v.getPixelRatio();;){var l=y.performanceNow(),u=l-n,c=l-t;if(i<1e3/60){var d=1e3/60-(e?r:0);if(c>=m.deqFastCost*d)break}else if(e){if(u>=m.deqCost*i||u>=m.deqAvgCost*r)break}else if(c>=m.deqNoDrawCost*(1e3/60))break;var h=m.deq(p,s,o);if(!(0<h.length))break;for(var f=0;f<h.length;f++)a.push(h[f])}0<a.length&&(m.onDeqd(p,a),!e&&m.shouldRedraw(p,a,s,o)&&g())},e(p))}}}}},function(e,t,n){"use strict";var r=n(1),i=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(e,t){return r.sort.descending(e.selector,t.selector)}),a="("+i.map(function(e){return e.selector}).join("|")+")";e.exports={stateSelectors:i,stateSelectorMatches:function e(t,n){return(e.lookup=e.lookup||function(){for(var e={},t=void 0,n=0;n<i.length;n++)e[(t=i[n]).selector]=t.matches;return e}())[t](n)},stateSelectorRegex:a}},function(e,t,n){"use strict";var r=n(0),a=n(1),i=n(6),o=function e(t){return this instanceof e?r.core(t)?(this._private={cy:t,coreStyle:{}},this.length=0,void this.resetToDefault()):void a.error("A style must have a core reference"):new e(t)},s=o.prototype;s.instanceString=function(){return"style"},s.clear=function(){for(var e=0;e<this.length;e++)this[e]=void 0;return this.length=0,this._private.newStyle=!0,this},s.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},s.core=function(){return this._private.coreStyle},s.selector=function(e){var t="core"===e?null:new i(e),n=this.length++;return this[n]={selector:t,properties:[],mappedProperties:[],index:n},this},s.css=function(){var e=arguments;switch(e.length){case 1:for(var t=e[0],n=0;n<this.properties.length;n++){var r=this.properties[n],i=t[r.name];void 0===i&&(i=t[a.dash2camel(r.name)]),void 0!==i&&this.cssRule(r.name,i)}break;case 2:this.cssRule(e[0],e[1])}return this},s.style=s.css,s.cssRule=function(e,t){var n=this.parse(e,t);if(n){var r=this.length-1;this[r].properties.push(n),(this[r].properties[n.name]=n).name.match(/pie-(\d+)-background-size/)&&n.value&&(this._private.hasPie=!0),n.mapped&&this[r].mappedProperties.push(n),!this[r].selector&&(this._private.coreStyle[n.name]=n)}return this},s.append=function(e){return r.stylesheet(e)?e.appendToStyle(this):r.array(e)?this.appendFromJson(e):r.string(e)&&this.appendFromString(e),this},o.fromJson=function(e,t){var n=new o(e);return n.fromJson(t),n},o.fromString=function(e,t){return new o(e).fromString(t)},[n(123),n(124),n(125),n(126),n(127),n(130),n(129),n(128)].forEach(function(e){a.extend(s,e)}),o.types=s.types,o.properties=s.properties,e.exports=o},function(e,t,n){"use strict";e.exports=function(a,o){o||(o=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);return e.join("$")});var e=function e(){var t=arguments,n=void 0,r=o.apply(this,t),i=e.cache;return(n=i[r])||(n=i[r]=a.apply(this,t)),n};return e.cache={},e}},function(Bt,Ct){var Dt;Dt=function(){return this}();try{Dt=Dt||Function("return this")()||eval("this")}catch(Bt){"object"==typeof window&&(Dt=window)}Bt.exports=Dt},function(e,t,n){"use strict";function r(t,n,r){var e=r,i=function(e){E.error("Can not register `"+n+"` for `"+t+"` since `"+e+"` already exists in the prototype and can not be overridden")};if("core"===t){if(C.prototype[n])return i(n);C.prototype[n]=r}else if("collection"===t){if(k.prototype[n])return i(n);k.prototype[n]=r}else if("layout"===t){for(var a=function(e){this.options=e,r.call(this,e),T.plainObject(this._private)||(this._private={}),this._private.cy=e.cy,this._private.listeners=[],this.createEmitter()},o=a.prototype=Object.create(r.prototype),s=[],l=0;l<s.length;l++){var u=s[l];o[u]=o[u]||function(){return this}}o.start&&!o.run?o.run=function(){return this.start(),this}:!o.start&&o.run&&(o.start=function(){return this.run(),this});var c=r.prototype.stop;o.stop=function(){var e=this.options;if(e&&e.animate){var t=this.animations;if(t)for(var n=0;n<t.length;n++)t[n].stop()}return c?c.call(this):this.emit("layoutstop"),this},o.destroy||(o.destroy=function(){return this}),o.cy=function(){return this._private.cy};var d=function(e){return e._private.cy};E.assign(o,{createEmitter:function(){return this._private.emitter=new I({eventFields:function(e){return{layout:e,cy:d(e),target:e}},bubble:function(){return!0},parent:function(e){return d(e)},context:this}),this},emitter:function(){return this._private.emitter},on:function(e,t){return this.emitter().on(e,t),this},one:function(e,t){return this.emitter().one(e,t),this},once:function(e,t){return this.emitter().one(e,t),this},removeListener:function(e,t){return this.emitter().removeListener(e,t),this},emit:function(e,t){return this.emitter().emit(e,t),this}}),_.eventAliasesOn(o),e=a}else if("renderer"===t&&"null"!==n&&"base"!==n){var h=x("renderer","base"),f=h.prototype,p=r,v=r.prototype,g=function(){h.apply(this,arguments),p.apply(this,arguments)},m=g.prototype;for(var y in f){var b=f[y];if(null!=v[y])return i(y);m[y]=b}for(var w in v)m[w]=v[w];f.clientFunctions.forEach(function(e){m[e]=m[e]||function(){E.error("Renderer does not implement `renderer."+e+"()` on its prototype")}}),e=g}return E.setMap({map:P,keys:[t,n],value:e})}function x(e,t){return E.getMap({map:P,keys:[e,t]})}var E=n(1),_=n(3),k=n(7),C=n(12),i=n(76),T=n(0),I=n(10),P={},a={},o=function(){return 2===arguments.length?x.apply(null,arguments):3===arguments.length?r.apply(null,arguments):4===arguments.length?function(e,t,n,r){return E.getMap({map:a,keys:[e,t,n,r]})}.apply(null,arguments):5===arguments.length?function(e,t,n,r,i){return E.setMap({map:a,keys:[e,t,n,r],value:i})}.apply(null,arguments):void E.error("Invalid extension access syntax")};C.prototype.extension=o,i.forEach(function(t){t.extensions.forEach(function(e){r(t.type,e.name,e.impl)})}),e.exports=o},function(e,t,n){"use strict";var u=n(0),c=n(1),d=n(18),r=function e(){return this instanceof e?void(this.length=0):new e},i=r.prototype;i.instanceString=function(){return"stylesheet"},i.selector=function(e){return this[this.length++]={selector:e,properties:[]},this},i.css=function(e,t){var n=this.length-1;if(u.string(e))this[n].properties.push({name:e,value:t});else if(u.plainObject(e))for(var r=e,i=0;i<d.properties.length;i++){var a=d.properties[i],o=r[a.name];if(void 0===o&&(o=r[c.dash2camel(a.name)]),void 0!==o){var s=a.name,l=o;this[n].properties.push({name:s,value:l})}}return this},i.style=i.css,i.generateStyle=function(e){var t=new d(e);return this.appendToStyle(t)},i.appendToStyle=function(e){for(var t=0;t<this.length;t++){var n=this[t],r=n.selector,i=n.properties;e.selector(r);for(var a=0;a<i.length;a++){var o=i[a];e.css(o.name,o.value)}}return e},e.exports=r},function(e,t,n){"use strict";e.exports="3.2.4"},function(e,t,n){"use strict";var i=n(1),a=n(0),r=n(5),o=function(e,t,n){var r=this._private=i.extend({duration:1e3},t,n);r.target=e,r.style=r.style||r.css,r.started=!1,r.playing=!1,r.hooked=!1,r.applying=!1,r.progress=0,r.completes=[],r.frames=[],r.complete&&a.fn(r.complete)&&r.completes.push(r.complete),this.length=1,this[0]=this},s=o.prototype;i.extend(s,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var t=e.target._private.animation;(e.queue?t.queue:t.current).push(this),a.elementOrCollection(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return 1===e.progress&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var t=this._private;return void 0===e?t.progress*t.duration:this.progress(e/t.duration)},progress:function(e){var t=this._private,n=t.playing;return void 0===e?t.progress:(n&&this.pause(),t.progress=e,t.started=!1,n&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var r=this._private,e=r.playing;e&&this.pause(),r.progress=1-r.progress,r.started=!1;var t=function(e,t){var n=r[e];null!=n&&(r[e]=r[t],r[t]=n)};if(t("zoom","startZoom"),t("pan","startPan"),t("position","startPosition"),r.style)for(var n=0;n<r.style.length;n++){var i=r.style[n],a=i.name,o=r.startStyle[a];r.startStyle[a]=i,r.style[n]=o}return e&&this.play(),this},promise:function(e){var t=this._private,n=void 0;switch(e){case"frame":n=t.frames;break;default:case"complete":case"completed":n=t.completes}return new r(function(e,t){n.push(function(){e()})})}}),s.complete=s.completed,e.exports=o},function(e,t,n){"use strict";var P=n(0),r={aStar:function(e){e=e||{};var s=this._private.cy;if(null!=e&&null!=e.root){var t=P.string(e.root)?this.filter(e.root)[0]:e.root[0];if(null!=e.goal){var n=P.string(e.goal)?this.filter(e.goal)[0]:e.goal[0];if(null!=e.heuristic&&P.fn(e.heuristic))var r=e.heuristic;else r=function(){return 0};if(null!=e.weight&&P.fn(e.weight))var i=e.weight;else i=function(e){return 1};if(null!=e.directed)var a=e.directed;else a=!1;var o=t.id(),l=n.id(),u=[],c=[o],d={},h={},f={},p={};f[o]=0,p[o]=r(t);for(var v=0;0<c.length;){var g=function(e,t){if(0!==e.length){for(var n=0,r=t[e[0]],i=1;i<e.length;i++){var a=t[e[i]];a<r&&(r=a,n=i)}return n}}(c,p),m=s.getElementById(c[g]),y=m.id();if(v++,y==l){var b=function e(t,n,r,i){if(t==n)return i.unshift(s.getElementById(n)),i;if(n in r){var a=r[n],o=h[n];return i.unshift(s.getElementById(o)),i.unshift(s.getElementById(n)),e(t,a,r,i)}}(o,l,d,[]);return{found:!0,distance:f[y],path:this.spawn(b),steps:v}}u.push(y),c.splice(g,1);for(var w=m._private.edges,x=0;x<w.length;x++){var E=w[x];if(this.hasElementWithId(E.id())&&(!a||E.data("source")===y)){var _=E.source(),k=E.target(),C=_.id()!==y?_:k,T=C.id();if(this.hasElementWithId(T)&&-1==u.indexOf(T)){var I=f[y]+i(E);-1!=c.indexOf(T)?I<f[T]&&(f[T]=I,p[T]=I+r(C),d[T]=y):(f[T]=I,p[T]=I+r(C),c.push(T),d[T]=y,h[T]=E.id())}}}}return{found:!1,distance:void 0,path:void 0,steps:v}}}}};e.exports=r},function(e,t,n){"use strict";var x=n(0),E=n(1),r={bellmanFord:function(e){var r=this;if(null!=(e=e||{}).weight&&x.fn(e.weight))var t=e.weight;else t=function(e){return 1};if(null!=e.directed)var n=e.directed;else n=!1;if(null!=e.root){if(x.string(e.root))var i=this.filter(e.root)[0];else i=e.root[0];for(var s=this._private.cy,a=this.edges().stdFilter(function(e){return!e.isLoop()}),o=this.nodes(),l=o.length,u={},c=0;c<l;c++)u[o[c].id()]=c;var d=[],h=[],f=[];for(c=0;c<l;c++)o[c].id()===i.id()?d[c]=0:d[c]=1/0,h[c]=void 0;var p=!1;for(c=1;c<l;c++){p=!1;for(var v=0;v<a.length;v++){var g,m=u[a[v].source().id()],y=u[a[v].target().id()],b=t(a[v]);if((g=d[m]+b)<d[y]&&(d[y]=g,h[y]=m,f[y]=a[v],p=!0),!n)(g=d[y]+b)<d[m]&&(d[m]=g,h[m]=y,f[m]=a[v],p=!0)}if(!p)break}if(p)for(v=0;v<a.length;v++){m=u[a[v].source().id()],y=u[a[v].target().id()],b=t(a[v]);if(d[m]+b<d[y])return E.error("Graph contains a negative weight cycle for Bellman-Ford"),{pathTo:void 0,distanceTo:void 0,hasNegativeWeightCycle:!0}}var w=[];for(c=0;c<l;c++)w.push(o[c].id());return{distanceTo:function(e){if(x.string(e))var t=s.filter(e)[0].id();else t=e.id();return d[u[t]]},pathTo:function(e){if(x.string(e))var t=s.filter(e)[0].id();else t=e.id();var n=function(e,t,n,r,i,a){for(;;){if(i.push(s.getElementById(r[n])),i.push(a[n]),t===n)return i;var o=e[n];if(void 0===o)return;n=o}}(h,u[i.id()],u[t],w,[],f);return null!=n&&n.reverse(),r.spawn(n)},hasNegativeWeightCycle:!1}}}};e.exports=r},function(e,t,n){"use strict";var I=n(0),P=n(8),r={betweennessCentrality:function(e){var t,n;e=e||{},t=!!I.fn(e.weight)&&(n=e.weight,!0);for(var r=null!=e.directed&&e.directed,i=this._private.cy,a=this.nodes(),o={},s={},l=0,u=function(e,t){s[e]=t,l<t&&(l=t)},c=function(e){return s[e]},d=0;d<a.length;d++){o[b=(w=a[d]).id()]=r?w.outgoers().nodes():w.openNeighborhood().nodes(),u(b,0)}for(var h=0;h<a.length;h++){var f=a[h].id(),p=[],v={},g={},m={},y=new P(function(e,t){return m[e]-m[t]});for(d=0;d<a.length;d++){var b;v[b=a[d].id()]=[],g[b]=0,m[b]=1/0}for(g[f]=1,m[f]=0,y.push(f);!y.empty();){var w=y.pop();if(p.push(w),t)for(var x=0;x<o[w].length;x++){var E=o[w][x],_=i.getElementById(w),k=n(0<_.edgesTo(E).length?_.edgesTo(E)[0]:E.edgesTo(_)[0]);E=E.id(),m[E]>m[w]+k&&(m[E]=m[w]+k,y.nodes.indexOf(E)<0?y.push(E):y.updateItem(E),g[E]=0,v[E]=[]),m[E]==m[w]+k&&(g[E]=g[E]+g[w],v[E].push(w))}else for(x=0;x<o[w].length;x++){E=o[w][x].id();m[E]==1/0&&(y.push(E),m[E]=m[w]+1),m[E]==m[w]+1&&(g[E]=g[E]+g[w],v[E].push(w))}}var C={};for(d=0;d<a.length;d++)C[a[d].id()]=0;for(;0<p.length;)for(E=p.pop(),x=0;x<v[E].length;x++){C[w=v[E][x]]=C[w]+g[w]/g[E]*(1+C[E]),E!=a[h].id()&&u(E,c(E)+C[E])}}var T={betweenness:function(e){if(I.string(e))e=i.filter(e).id();else e=e.id();return c(e)},betweennessNormalized:function(e){if(0==l)return 0;if(I.string(e))e=i.filter(e).id();else e=e.id();return c(e)/l}};return T.betweennessNormalised=T.betweennessNormalized,T}};r.bc=r.betweennessCentrality,e.exports=r},function(e,t,n){"use strict";var I=n(0),r=function(T){return T={bfs:T.bfs||!T.dfs,dfs:T.dfs||!T.bfs},function(e,t,n){var r;I.plainObject(e)&&!I.elementOrCollection(e)&&(e=(r=e).roots||r.root,t=r.visit,n=r.directed),n=2!==arguments.length||I.fn(t)?n:t,t=I.fn(t)?t:function(){};for(var i,a=this._private.cy,o=e=I.string(e)?this.filter(e):e,s=[],l=[],u={},c={},d={},h=0,f=this.nodes(),p=this.edges(),v=0;v<o.length;v++)o[v].isNode()&&(s.unshift(o[v]),T.bfs&&(d[o[v].id()]=!0,l.push(o[v])),c[o[v].id()]=0);for(;0!==s.length;){o=T.bfs?s.shift():s.pop();if(T.dfs){if(d[o.id()])continue;d[o.id()]=!0,l.push(o)}var g,m=c[o.id()],y=u[o.id()],b=null==y?void 0:y.connectedNodes().not(o)[0];if(!0===(g=t(o,y,b,h++,m))){i=o;break}if(!1===g)break;var w=o.connectedEdges(n?function(e){return e.data("source")===o.id()}:void 0).intersect(p);for(v=0;v<w.length;v++){var x=w[v],E=x.connectedNodes(function(e){return e.id()!==o.id()}).intersect(f);0===E.length||d[E.id()]||(E=E[0],s.push(E),T.bfs&&(d[E.id()]=!0,l.push(E)),u[E.id()]=x,c[E.id()]=c[o.id()]+1)}}var _=[];for(v=0;v<l.length;v++){var k=l[v],C=u[k.id()];C&&_.push(C),_.push(k)}return{path:a.collection(_,{unique:!0}),found:a.collection(i)}}},i={breadthFirstSearch:r({bfs:!0}),depthFirstSearch:r({dfs:!0})};i.bfs=i.breadthFirstSearch,i.dfs=i.depthFirstSearch,e.exports=i},function(e,t,n){"use strict";var d=n(0),r={closenessCentralityNormalized:function(e){e=e||{};var t=this.cy(),n=e.harmonic;void 0===n&&(n=!0);for(var r={},i=0,a=this.nodes(),o=this.floydWarshall({weight:e.weight,directed:e.directed}),s=0;s<a.length;s++){for(var l=0,u=0;u<a.length;u++)if(s!=u){var c=o.distance(a[s],a[u]);l+=n?1/c:c}n||(l=1/l),i<l&&(i=l),r[a[s].id()]=l}return{closeness:function(e){if(0==i)return 0;if(d.string(e))e=t.filter(e)[0].id();else e=e.id();return r[e]/i}}},closenessCentrality:function(e){if(null!=(e=e||{}).root){if(d.string(e.root))var t=this.filter(e.root)[0];else t=e.root[0];if(null!=e.weight&&d.fn(e.weight))var n=e.weight;else n=function(){return 1};if(null!=e.directed&&d.bool(e.directed))var r=e.directed;else r=!1;var i=e.harmonic;void 0===i&&(i=!0);for(var a=this.dijkstra({root:t,weight:n,directed:r}),o=0,s=this.nodes(),l=0;l<s.length;l++)if(s[l].id()!=t.id()){var u=a.distanceTo(s[l]);o+=i?1/u:u}return i?o:1/o}}};r.cc=r.closenessCentrality,r.ccn=r.closenessCentralityNormalised=r.closenessCentralityNormalized,e.exports=r},function(e,t,n){"use strict";var v=n(0),p=n(1),r={degreeCentralityNormalized:function(e){e=e||{};var t=this.cy();if(null!=e.directed)var n=e.directed;else n=!1;var r=this.nodes(),i=r.length;if(n){for(var a={},o={},s=0,l=0,u=0;u<i;u++){var c=r[u],d=this.degreeCentrality(p.extend({},e,{root:c}));s<d.indegree&&(s=d.indegree),l<d.outdegree&&(l=d.outdegree),a[c.id()]=d.indegree,o[c.id()]=d.outdegree}return{indegree:function(e){if(0==s)return 0;if(v.string(e))e=t.filter(e)[0].id();else e=e.id();return a[e]/s},outdegree:function(e){if(0==l)return 0;if(v.string(e))e=t.filter(e)[0].id();else e=e.id();return o[e]/l}}}var h={},f=0;for(u=0;u<i;u++){c=r[u],d=this.degreeCentrality(p.extend({},e,{root:c}));f<d.degree&&(f=d.degree),h[c.id()]=d.degree}return{degree:function(e){if(0==f)return 0;if(v.string(e))e=t.filter(e)[0].id();else e=e.id();return h[e]/f}}},degreeCentrality:function(e){if(null!=(e=e||{})&&null!=e.root){var t=v.string(e.root)?this.filter(e.root)[0]:e.root[0];if(null!=e.weight&&v.fn(e.weight))var n=e.weight;else n=function(e){return 1};if(null!=e.directed)var r=e.directed;else r=!1;if(null!=e.alpha&&v.number(e.alpha))var i=e.alpha;else i=0;if(r){for(var a=t.connectedEdges('edge[target = "'+t.id()+'"]').intersection(this),o=t.connectedEdges('edge[source = "'+t.id()+'"]').intersection(this),s=a.length,l=o.length,u=0,c=0,d=0;d<a.length;d++){u+=n(a[d])}for(d=0;d<o.length;d++){c+=n(o[d])}return{indegree:Math.pow(s,1-i)*Math.pow(u,i),outdegree:Math.pow(l,1-i)*Math.pow(c,i)}}var h=t.connectedEdges().intersection(this),f=h.length,p=0;for(d=0;d<h.length;d++){p+=n(h[d])}return{degree:Math.pow(f,1-i)*Math.pow(p,i)}}}};r.dc=r.degreeCentrality,r.dcn=r.degreeCentralityNormalised=r.degreeCentralityNormalized,e.exports=r},function(e,t,n){"use strict";var C=n(0),T=n(8),r={dijkstra:function(e,l,u){var t;C.plainObject(e)&&!C.elementOrCollection(e)&&(e=(t=e).root,l=t.weight,u=t.directed);var n,r,a=this._private.cy;l=C.fn(l)?l:function(){return 1};for(var i=C.string(e)?this.filter(e)[0]:e[0],o={},s={},c={},d=this.edges().filter(function(e){return!e.isLoop()}),h=this.nodes(),f=function(e){return o[e.id()]},p=new T(function(e,t){return f(e)-f(t)}),v=0;v<h.length;v++){var g=h[v];o[g.id()]=g.same(i)?0:1/0,p.push(g)}for(;0<p.size();){var m=p.pop(),y=f(m),b=m.id();if((c[b]=y)!==1/0){var w=m.neighborhood().intersect(h);for(v=0;v<w.length;v++){var x=w[v],E=x.id(),_=function(e,t){for(var n,r=(u?e.edgesTo(t):e.edgesWith(t)).intersect(d),i=1/0,a=0;a<r.length;a++){var o=r[a],s=l(o);(s<i||!n)&&(i=s,n=o)}return{edge:n,dist:i}}(m,x),k=y+_.dist;k<f(x)&&(r=k,o[(n=x).id()]=r,p.updateItem(n),s[E]={node:m,edge:_.edge})}}}return{distanceTo:function(e){var t=C.string(e)?h.filter(e)[0]:e[0];return c[t.id()]},pathTo:function(e){var t=C.string(e)?h.filter(e)[0]:e[0],n=[],r=t;if(0<t.length)for(n.unshift(t);s[r.id()];){var i=s[r.id()];n.unshift(i.edge),n.unshift(i.node),r=i.node}return a.collection(n)}}}};e.exports=r},function(e,t,n){"use strict";var w=n(0),r={floydWarshall:function(e){e=e||{};var l=this.cy();if(null!=e.weight&&w.fn(e.weight))var t=e.weight;else t=function(e){return 1};if(null!=e.directed)var n=e.directed;else n=!1;for(var r=this.edges().stdFilter(function(e){return!e.isLoop()}),i=this.nodes(),a=i.length,o={},s=0;s<a;s++)o[i[s].id()]=s;var u=[];for(s=0;s<a;s++){for(var c=new Array(a),d=0;d<a;d++)c[d]=s==d?0:1/0;u.push(c)}var h=[],f=[],p=function(e){for(var t=0;t<a;t++){for(var n=new Array(a),r=0;r<a;r++)n[r]=void 0;e.push(n)}};p(h),p(f);for(s=0;s<r.length;s++){var v=o[r[s].source().id()],g=o[r[s].target().id()],m=t(r[s]);u[v][g]>m&&(u[v][g]=m,h[v][g]=g,f[v][g]=r[s])}if(!n)for(s=0;s<r.length;s++){v=o[r[s].target().id()],g=o[r[s].source().id()],m=t(r[s]);u[v][g]>m&&(u[v][g]=m,h[v][g]=g,f[v][g]=r[s])}for(var y=0;y<a;y++)for(s=0;s<a;s++)for(d=0;d<a;d++)u[s][y]+u[y][d]<u[s][d]&&(u[s][d]=u[s][y]+u[y][d],h[s][d]=h[s][y]);var b=[];for(s=0;s<a;s++)b.push(i[s].id());return{distance:function(e,t){if(w.string(e))var n=l.filter(e)[0].id();else n=e.id();if(w.string(t))var r=l.filter(t)[0].id();else r=t.id();return u[o[n]][o[r]]},path:function(e,t){if(w.string(e))var n=l.filter(e)[0].id();else n=e.id();if(w.string(t))var r=l.filter(t)[0].id();else r=t.id();var i=function(e,t,n,r,i){if(e===t)return l.getElementById(r[e]);if(void 0!==n[e][t]){for(var a=[l.getElementById(r[e])],o=e;e!==t;){e=n[o=e][t];var s=i[o][e];a.push(s),a.push(l.getElementById(r[e]))}return a}}(o[n],o[r],h,b,f);return l.collection(i)}}}};e.exports=r},function(e,t,n){"use strict";var r=n(1),i={};[n(28),n(31),n(35),n(25),n(32),n(26),n(34),n(36),n(30),n(29),n(27)].forEach(function(e){r.extend(i,e)}),e.exports=i},function(e,t,n){"use strict";var T=n(1),r={kargerStein:function(e){e=e||{};var t=function e(t,n,r,i){return r<=i?n:e(t,function(e,t,n){for(var r=n[e],i=r[1],a=r[2],o=t[i],s=t[a],l=n.filter(function(e){return!(t[e[1]]===o&&t[e[2]]===s||t[e[1]]===s&&t[e[2]]===o)}),u=0;u<l.length;u++){var c=l[u];c[1]===s?(l[u]=c.slice(0),l[u][1]=o):c[2]===s&&(l[u]=c.slice(0),l[u][2]=o)}for(u=0;u<t.length;u++)t[u]===s&&(t[u]=o);return l}(Math.floor(Math.random()*n.length),t,n),r-1,i)},n=this._private.cy,r=this.edges().stdFilter(function(e){return!e.isLoop()}),i=this.nodes(),a=i.length,o=r.length,s=Math.ceil(Math.pow(Math.log(a)/Math.LN2,2)),l=Math.floor(a/Math.sqrt(2));if(!(a<2)){for(var u={},c=0;c<a;c++)u[i[c].id()]=c;var d=[];for(c=0;c<o;c++){var h=r[c];d.push([c,u[h.source().id()],u[h.target().id()]])}var f,p=1/0,v=[];for(c=0;c<a;c++)v.push(c);for(var g=0;g<=s;g++){var m=v.slice(0),y=t(m,d,a,l),b=m.slice(0),w=t(m,y,l,2),x=t(b,y,l,2);w.length<=x.length&&w.length<p?(p=w.length,f=[w,m]):x.length<=w.length&&x.length<p&&(p=x.length,f=[x,b])}var E=f[0].map(function(e){return r[e[0]]}),_=[],k=[],C=f[1][0];for(c=0;c<f[1].length;c++)f[1][c]===C?_.push(i[c]):k.push(i[c]);return{cut:this.spawn(n,E),partition1:this.spawn(_),partition2:this.spawn(k)}}T.error("At least 2 nodes are required for Karger-Stein algorithm")}};e.exports=r},function(e,t,n){"use strict";var f=n(0),r={kruskal:function(n){function e(e){for(var t=0;t<i.length;t++){var n=i[t];if(n.anySame(e))return{eles:n,index:t}}}var t=this.cy();n=f.fn(n)?n:function(){return 1};for(var r=t.collection(t,[]),i=[],a=this.nodes(),o=0;o<a.length;o++)i.push(a[o].collection());var s=this.edges().toArray().sort(function(e,t){return n(e)-n(t)});for(o=0;o<s.length;o++){var l=s[o],u=l.source()[0],c=l.target()[0],d=e(u),h=e(c);d.index!==h.index&&(r=r.add(l),i[d.index]=d.eles.add(h.eles),i.splice(h.index,1))}return a.add(r)}};e.exports=r},function(e,t,n){"use strict";var P=n(0),r={pageRank:function(e){if(null!=(e=e||{})&&null!=e.dampingFactor)var t=e.dampingFactor;else t=.8;if(null!=e&&null!=e.precision)var n=e.precision;else n=1e-6;if(null!=e&&null!=e.iterations)var r=e.iterations;else r=200;if(null!=e&&null!=e.weight&&P.fn(e.weight))var i=e.weight;else i=function(e){return 1};for(var a=this._private.cy,o=this.edges().stdFilter(function(e){return!e.isLoop()}),s=this.nodes(),l=s.length,u=o.length,c={},d=0;d<l;d++)c[s[d].id()]=d;var h=[],f=[],p=(1-t)/l;for(d=0;d<l;d++){for(var v=[],g=0;g<l;g++)v.push(0);h.push(v),f.push(0)}for(d=0;d<u;d++){var m=o[d],y=c[m.source().id()],b=c[m.target().id()],w=i(m);h[b][y]+=w,f[y]+=w}var x=1/l+p;for(g=0;g<l;g++)if(0===f[g])for(d=0;d<l;d++)h[d][g]=x;else for(d=0;d<l;d++)h[d][g]=h[d][g]/f[g]+p;var E,_=[],k=[];for(d=0;d<l;d++)_.push(1),k.push(0);for(var C=0;C<r;C++){var T=k.slice(0);for(d=0;d<l;d++)for(g=0;g<l;g++)T[d]+=h[d][g]*_[g];!function(e){for(var t=e.length,n=0,r=0;r<t;r++)n+=e[r];for(r=0;r<t;r++)e[r]=e[r]/n}(T),E=_,_=T;var I=0;for(d=0;d<l;d++)I+=Math.pow(E[d]-_[d],2);if(I<n)break}return{rank:function(e){if(P.string(e))var t=a.filter(e)[0].id();else t=e.id();return _[c[t]]}}}};e.exports=r},function(e,t,n){"use strict";var r=n(3),i={animate:r.animate(),animation:r.animation(),animated:r.animated(),clearQueue:r.clearQueue(),delay:r.delay(),delayAnimation:r.delayAnimation(),stop:r.stop()};e.exports=i},function(e,t,n){"use strict";var u=n(9),r={classes:function(e){e=(e||"").match(/\S+/g)||[];for(var a=this,o=[],s=new u(e),l=0;l<a.length;l++)!function(e){var t=a[l],n=t._private,r=n.classes,i=!1;s.forEach(function(e){r.has(e)||(i=!0)}),i||r.forEach(function(e){s.has(e)||(i=!0)}),i&&(n.classes=new u(s),o.push(t))}();return 0<o.length&&this.spawn(o).updateStyle().emit("class"),a},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var t=this[0];return null!=t&&t._private.classes.has(e)},toggleClass:function(e,t){for(var n=e.match(/\S+/g)||[],r=[],i=0,a=this.length;i<a;i++)for(var o=this[i],s=!1,l=0;l<n.length;l++){var u=n[l],c=o._private.classes,d=c.has(u);t||void 0===t&&!d?(c.add(u),d||s||(r.push(o),s=!0)):(c.delete(u),d&&!s&&(r.push(o),s=!0))}return 0<r.length&&this.spawn(r).updateStyle().emit("class"),this},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,t){var n=this;if(null==t)t=250;else if(0===t)return n;return n.addClass(e),setTimeout(function(){n.removeClass(e)},t),n}};e.exports=r},function(e,t,n){"use strict";var r=(n(0),n(6)),i={allAre:function(e){var t=new r(e);return this.every(function(e){return t.matches(e)})},is:function(e){var t=new r(e);return this.some(function(e){return t.matches(e)})},some:function(e,t){for(var n=0;n<this.length;n++)if(t?e.apply(t,[this[n],n,this]):e(this[n],n,this))return!0;return!1},every:function(e,t){for(var n=0;n<this.length;n++)if(!(t?e.apply(t,[this[n],n,this]):e(this[n],n,this)))return!1;return!0},same:function(t){return t=this.cy().collection(t),this.length===t.length&&this.every(function(e){return t.hasElementWithId(e.id())})},anySame:function(t){return t=this.cy().collection(t),this.some(function(e){return t.hasElementWithId(e.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var t=this.neighborhood();return e.every(function(e){return t.hasElementWithId(e.id())})},contains:function(e){e=this.cy().collection(e);var t=this;return e.every(function(e){return t.hasElementWithId(e.id())})}};i.allAreNeighbours=i.allAreNeighbors,i.has=i.contains,e.exports=i},function(e,t,n){"use strict";function r(e,t,n,r){for(var i=[],a=new c,o=e.cy().hasCompoundNodes(),s=0;s<e.length;s++){var l=e[s];n?i.push(l):o&&r(i,a,l)}for(;0<i.length;){var u=i.shift();t(u),a.add(u.id()),o&&r(i,a,u)}return e}function i(e,t,n){if(n.isParent())for(var r=n._private.children,i=0;i<r.length;i++){var a=r[i];t.has(a.id())||e.push(a)}}function a(e,t,n){if(n.isChild()){var r=n._private.parent;t.has(r.id())||e.push(r)}}function o(e,t,n){a(e,t,n),i(e,t,n)}var c=n(9),s={parent:function(e){var t=[];if(1===this.length){var n=this[0]._private.parent;if(n)return n}for(var r=0;r<this.length;r++){var i=this[r]._private.parent;i&&t.push(i)}return this.spawn(t,{unique:!0}).filter(e)},parents:function(e){for(var t=[],n=this.parent();n.nonempty();){for(var r=0;r<n.length;r++){var i=n[r];t.push(i)}n=n.parent()}return this.spawn(t,{unique:!0}).filter(e)},commonAncestors:function(e){for(var t=void 0,n=0;n<this.length;n++){var r=this[n].parents();t=(t=t||r).intersect(r)}return t.filter(e)},orphans:function(e){return this.stdFilter(function(e){return e.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(e){return e.isChild()}).filter(e)},children:function(e){for(var t=[],n=0;n<this.length;n++){var r=this[n];t=t.concat(r._private.children)}return this.spawn(t,{unique:!0}).filter(e)},siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&0!==e._private.children.length},isChildless:function(){var e=this[0];if(e)return e.isNode()&&0===e._private.children.length},isChild:function(){var e=this[0];if(e)return e.isNode()&&null!=e._private.parent},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&null==e._private.parent},descendants:function(e){var i=[];return function e(t){for(var n=0;n<t.length;n++){var r=t[n];i.push(r),r.children().nonempty()&&e(r.children())}}(this.children()),this.spawn(i,{unique:!0}).filter(e)},forEachDown:function(e){return r(this,e,!(1<arguments.length&&void 0!==arguments[1])||arguments[1],i)},forEachUp:function(e){return r(this,e,!(1<arguments.length&&void 0!==arguments[1])||arguments[1],a)},forEachUpAndDown:function(e){return r(this,e,!(1<arguments.length&&void 0!==arguments[1])||arguments[1],o)}};s.ancestors=s.parents,e.exports=s},function(e,t,n){"use strict";var r,i=n(3),a=void 0;(a=r={data:i.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:i.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:i.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:i.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:i.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:i.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}}).attr=a.data,a.removeAttr=a.removeData,e.exports=r},function(e,t,n){"use strict";function r(o){return function(e){if(void 0===e&&(e=!0),0!==this.length&&this.isNode()&&!this.removed()){for(var t=0,n=this[0],r=n._private.edges,i=0;i<r.length;i++){var a=r[i];!e&&a.isLoop()||(t+=o(n,a))}return t}}}function i(a,o){return function(e){for(var t=void 0,n=this.nodes(),r=0;r<n.length;r++){var i=n[r][a](e);void 0===i||void 0!==t&&!o(i,t)||(t=i)}return t}}var a=n(1),o={};a.extend(o,{degree:r(function(e,t){return t.source().same(t.target())?2:1}),indegree:r(function(e,t){return t.target().same(e)?1:0}),outdegree:r(function(e,t){return t.source().same(e)?1:0})}),a.extend(o,{minDegree:i("degree",function(e,t){return e<t}),maxDegree:i("degree",function(e,t){return t<e}),minIndegree:i("indegree",function(e,t){return e<t}),maxIndegree:i("indegree",function(e,t){return t<e}),minOutdegree:i("outdegree",function(e,t){return e<t}),maxOutdegree:i("outdegree",function(e,t){return t<e})}),a.extend(o,{totalDegree:function(e){for(var t=0,n=this.nodes(),r=0;r<n.length;r++)t+=n[r].degree(e);return t}}),e.exports=o},function(e,t,n){"use strict";function d(e){return{includeNodes:h.default(e.includeNodes,v.includeNodes),includeEdges:h.default(e.includeEdges,v.includeEdges),includeLabels:h.default(e.includeLabels,v.includeLabels),includeOverlays:h.default(e.includeOverlays,v.includeOverlays),useCache:h.default(e.useCache,v.useCache)}}var p=n(0),h=n(1),A=n(2),r=void 0,i=void 0;r=i={},i.renderedBoundingBox=function(e){var t=this.boundingBox(e),n=this.cy(),r=n.zoom(),i=n.pan(),a=t.x1*r+i.x,o=t.x2*r+i.x,s=t.y1*r+i.y,l=t.y2*r+i.y;return{x1:a,x2:o,y1:s,y2:l,w:o-a,h:l-s}},i.dirtyCompoundBoundsCache=function(){var e=this.cy();return e.styleEnabled()&&e.hasCompoundNodes()&&this.forEachUp(function(e){e._private.compoundBoundsClean=!1,e.isParent()&&e.emit("bounds")}),this},i.updateCompoundBounds=function(){var e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(e.batching())return this;for(var y=[],t=0;t<this.length;t++){var n=this[t],r=n._private;r.compoundBoundsClean||(function(e){function t(e,t,n){var r=0,i=0,a=t+n;return 0<e&&0<a&&(r=t/a*e,i=n/a*e),{biasDiff:r,biasComplementDiff:i}}if(e.isParent()){var n=e._private,r=e.children(),i="include"===e.pstyle("compound-sizing-wrt-labels").value,a={width:{val:e.pstyle("min-width").pfValue,left:e.pstyle("min-width-bias-left"),right:e.pstyle("min-width-bias-right")},height:{val:e.pstyle("min-height").pfValue,top:e.pstyle("min-height-bias-top"),bottom:e.pstyle("min-height-bias-bottom")}},o=r.boundingBox({includeLabels:i,includeOverlays:!1,useCache:!1}),s=n.position;0!==o.w&&0!==o.h||((o={w:e.pstyle("width").pfValue,h:e.pstyle("height").pfValue}).x1=s.x-o.w/2,o.x2=s.x+o.w/2,o.y1=s.y-o.h/2,o.y2=s.y+o.h/2);var l=a.width.left.value;"px"===a.width.left.units&&0<a.width.val&&(l=100*l/a.width.val);var u=a.width.right.value;"px"===a.width.right.units&&0<a.width.val&&(u=100*u/a.width.val);var c=a.height.top.value;"px"===a.height.top.units&&0<a.height.val&&(c=100*c/a.height.val);var d=a.height.bottom.value;"px"===a.height.bottom.units&&0<a.height.val&&(d=100*d/a.height.val);var h=t(a.width.val-o.w,l,u),f=h.biasDiff,p=h.biasComplementDiff,v=t(a.height.val-o.h,c,d),g=v.biasDiff,m=v.biasComplementDiff;n.autoPadding=function(e,t,n,r){if("%"!==n.units)return"px"===n.units?n.pfValue:0;switch(r){case"width":return 0<e?n.pfValue*e:0;case"height":return 0<t?n.pfValue*t:0;case"average":return 0<e&&0<t?n.pfValue*(e+t)/2:0;case"min":return 0<e&&0<t?t<e?n.pfValue*t:n.pfValue*e:0;case"max":return 0<e&&0<t?t<e?n.pfValue*e:n.pfValue*t:0;default:return 0}}(o.w,o.h,e.pstyle("padding"),e.pstyle("padding-relative-to").value),n.autoWidth=Math.max(o.w,a.width.val),s.x=(-f+o.x1+o.x2+p)/2,n.autoHeight=Math.max(o.h,a.height.val),s.y=(-g+o.y1+o.y2+m)/2,y.push(e)}}(n),e._private.batchingStyle||(r.compoundBoundsClean=!0))}return this};var O=function(e){return e===1/0||e===-1/0?0:e},R=function(e,t,n,r,i){r-t!=0&&i-n!=0&&null!=t&&null!=n&&null!=r&&null!=i&&(e.x1=t<e.x1?t:e.x1,e.x2=r>e.x2?r:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=i>e.y2?i:e.y2)},z=function(e,t,n){return h.getPrefixedProperty(e,t,n)},j=function(e,t,n){if(!t.cy().headless()){var r=t._private.rstyle,i=r.arrowWidth/2,a=void 0,o=void 0;"none"!==t.pstyle(n+"-arrow-shape").value&&(o="source"===n?(a=r.srcX,r.srcY):"target"===n?(a=r.tgtX,r.tgtY):(a=r.midX,r.midY),R(e,a-i,o-i,a+i,o+i))}},V=function(e,t,n){if(!t.cy().headless()){var r;r=n?n+"-":"";var i=t._private,a=i.rstyle;if(t.pstyle(r+"label").strValue){var o=t.pstyle("text-halign"),s=t.pstyle("text-valign"),l=z(a,"labelWidth",n),u=z(a,"labelHeight",n),c=z(a,"labelX",n),d=z(a,"labelY",n),h=t.pstyle(r+"text-margin-x").pfValue,f=t.pstyle(r+"text-margin-y").pfValue,p=t.isEdge(),v=t.pstyle(r+"text-rotation"),g=t.pstyle("text-outline-width").pfValue,m=t.pstyle("text-border-width").pfValue/2,y=t.pstyle("text-background-padding").pfValue,b=u+2*y,w=l+2*y,x=w/2,E=b/2,_=void 0,k=void 0,C=void 0,T=void 0;if(p)_=c-x,k=c+x,C=d-E,T=d+E;else{switch(o.value){case"left":_=c-w,k=c;break;case"center":_=c-x,k=c+x;break;case"right":k=(_=c)+w}switch(s.value){case"top":C=d-b,T=d;break;case"center":C=d-E,T=d+E;break;case"bottom":T=(C=d)+b}}var I=p&&"autorotate"===v.strValue,P=null!=v.pfValue&&0!==v.pfValue;if(I||P){var N=I?z(i.rstyle,"labelAngle",n):v.pfValue,S=Math.cos(N),B=Math.sin(N),D=function(e,t){return{x:(e-=c)*S-(t-=d)*B+c,y:e*B+t*S+d}},M=D(_,C),L=D(_,T),A=D(k,C),O=D(k,T);_=Math.min(M.x,L.x,A.x,O.x),k=Math.max(M.x,L.x,A.x,O.x),C=Math.min(M.y,L.y,A.y,O.y),T=Math.max(M.y,L.y,A.y,O.y)}_+=h-Math.max(g,m),k+=h+Math.max(g,m),C+=f-Math.max(g,m),T+=f+Math.max(g,m),R(e,_,C,k,T)}return e}},a=function(e){return e?"t":"f"},o=function(e){var t="";return t+=a(e.incudeNodes),t+=a(e.includeEdges),(t+=a(e.includeLabels))+a(e.includeOverlays)},f=function(e,t){var n=e._private,r=void 0,i=e.cy().headless(),a=t===v?s:o(t);return t.useCache&&!i&&n.bbCache&&n.bbCache[a]?r=n.bbCache[a]:(r=function(e,t){var n=e._private.cy,r=n.styleEnabled(),i=n.headless(),a={x1:1/0,y1:1/0,x2:-1/0,y2:-1/0},o=e._private,s=r?e.pstyle("display").value:"element",l=e.isNode(),u=e.isEdge(),c=void 0,d=void 0,h=void 0,f=void 0,p=void 0,v=void 0,g="none"!==s;if(g){var m=0;r&&t.includeOverlays&&0!==e.pstyle("overlay-opacity").value&&(m=e.pstyle("overlay-padding").value);var y=0;if(r&&(y=e.pstyle("width").pfValue/2),l&&t.includeNodes){var b=e.position();p=b.x,v=b.y;var w=e.outerWidth()/2,x=e.outerHeight()/2;R(a,c=p-w-m,h=v-x-m,d=p+w+m,f=v+x+m)}else if(u&&t.includeEdges){var E=o.rstyle||{};if(r&&!i&&(c=Math.min(E.srcX,E.midX,E.tgtX),d=Math.max(E.srcX,E.midX,E.tgtX),h=Math.min(E.srcY,E.midY,E.tgtY),f=Math.max(E.srcY,E.midY,E.tgtY),R(a,c-=y,h-=y,d+=y,f+=y)),r&&!i&&"haystack"===e.pstyle("curve-style").strValue){var _=E.haystackPts||[];if(c=_[0].x,h=_[0].y,(d=_[1].x)<c){var k=c;c=d,d=k}if((f=_[1].y)<h){var C=h;h=f,f=C}R(a,c-y,h-y,d+y,f+y)}else{for(var T=E.bezierPts||E.linePts||[],I=0;I<T.length;I++){var P=T[I];c=P.x-y,d=P.x+y,h=P.y-y,f=P.y+y,R(a,c,h,d,f)}if(0===T.length){var N=e.source().position(),S=e.target().position();if(c=N.x,d=S.x,h=N.y,d<c){var B=c;c=d,d=B}if((f=S.y)<h){var D=h;h=f,f=D}R(a,c-=y,h-=y,d+=y,f+=y)}}}if(r&&t.includeEdges&&u&&(j(a,e,"mid-source"),j(a,e,"mid-target"),j(a,e,"source"),j(a,e,"target")),r&&"yes"===e.pstyle("ghost").value){var M=e.pstyle("ghost-offset-x").pfValue,L=e.pstyle("ghost-offset-y").pfValue;R(a,a.x1+M,a.y1+L,a.x2+M,a.y2+L)}r&&(c=a.x1,d=a.x2,h=a.y1,f=a.y2,R(a,c-m,h-m,d+m,f+m)),r&&t.includeLabels&&(V(a,e,null),u&&(V(a,e,"source"),V(a,e,"target")))}return a.x1=O(a.x1),a.y1=O(a.y1),a.x2=O(a.x2),a.y2=O(a.y2),a.w=O(a.x2-a.x1),a.h=O(a.y2-a.y1),0<a.w&&0<a.h&&g&&A.expandBoundingBox(a,1),a}(e,t),i||(n.bbCache=n.bbCache||{},n.bbCache[a]=r)),r},v={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeOverlays:!0,useCache:!0},s=o(v);i.boundingBox=function(e){if(1===this.length&&this[0]._private.bbCache&&(void 0===e||void 0===e.useCache||!0===e.useCache))return e=void 0===e?v:d(e),f(this[0],e);var t,n,r={x1:1/0,y1:1/0,x2:-1/0,y2:-1/0},i=d(e=e||h.staticEmptyObject()),a=this.cy().styleEnabled();a&&this.recalculateRenderedStyle(i.useCache),this.updateCompoundBounds();for(var o={},s=0;s<this.length;s++){var l=this[s];if(a&&l.isEdge()&&"bezier"===l.pstyle("curve-style").strValue&&!o[l.id()]){for(var u=l.parallelEdges(),c=0;c<u.length;c++)o[u[c].id()]=!0;u.recalculateRenderedStyle(i.useCache)}t=r,n=f(l,i),R(t,n.x1,n.y1,n.x2,n.y2)}return r.x1=O(r.x1),r.y1=O(r.y1),r.x2=O(r.x2),r.y2=O(r.y2),r.w=O(r.x2-r.x1),r.h=O(r.y2-r.y1),r},i.boundingBoxAt=function(e){var t=this.nodes();if(p.plainObject(e)){var n=e;e=function(){return n}}for(var r=0;r<t.length;r++){var i=t[r],a=i._private,o=a.position,s=e.call(i,i,r);a.bbAtOldPos={x:o.x,y:o.y},s&&(o.x=s.x,o.y=s.y)}this.emit("dirty"),t.dirtyCompoundBoundsCache().updateCompoundBounds();for(var l=this.boundingBox({useCache:!1}),u=0;u<t.length;u++){var c=t[u],d=c._private,h=c._private.position,f=d.bbAtOldPos;h.x=f.x,h.y=f.y}return t.dirtyCompoundBoundsCache(),this.emit("dirty"),l},r.boundingbox=r.boundingBox,r.renderedBoundingbox=r.renderedBoundingBox,e.exports=i},function(e,t,n){"use strict";var r=function(e,t){if(e.isEdge())return t(e.renderer())};e.exports={controlPoints:function(){var t=this;return r(this,function(e){return e.getControlPoints(t)})},segmentPoints:function(){var t=this;return r(this,function(e){return e.getSegmentPoints(t)})},sourceEndpoint:function(){var t=this;return r(this,function(e){return e.getSourceEndpoint(t)})},targetEndpoint:function(){var t=this;return r(this,function(e){return e.getTargetEndpoint(t)})},midpoint:function(){var t=this;return r(this,function(e){return e.getEdgeMidpoint(t)})}}},function(e,t,n){"use strict";var r=n(1),i=n(46),a=n(43),o=n(47),s=n(44);e.exports=r.assign({},i,a,o,s)},function(e,t,n){"use strict";var r,i=n(3),y=n(0),d=n(2),a=void 0,o=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.isParent()&&!r.locked()){var i=r._private.position,a={x:t.x-i.x,y:t.y-i.y};e.children().shift(a)}}};(a=r={position:i.data({field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:o,onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}}),silentPosition:i.data({field:"position",bindingEvent:"position",allowBinding:!1,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!1,triggerFnName:"trigger",allowGetting:!1,validKeys:["x","y"],beforeSet:o,onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}}),positions:function(e,t){if(y.plainObject(e))t?this.silentPosition(e):this.position(e);else if(y.fn(e)){var n=e,r=this.cy();r.startBatch();for(var i=0;i<this.length;i++){var a,o=this[i];(a=n(o,i))&&(t?o.silentPosition(a):o.position(a))}r.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,t){var n=void 0;if(y.plainObject(e)?n=e:y.string(e)&&y.number(t)&&((n={x:0,y:0})[e]=t),null!=n)for(var r=0;r<this.length;r++){var i=this[r],a=i.position();i.position({x:a.x+n.x,y:a.y+n.y})}return this},renderedPosition:function(e,t){var n=this[0],r=this.cy(),i=r.zoom(),a=r.pan(),o=y.plainObject(e)?e:void 0,s=void 0!==o||void 0!==t&&y.string(e);if(n&&n.isNode()){if(!s){var l=n.position();return o=d.modelToRenderedPosition(l,i,a),void 0===e?o:o[e]}for(var u=0;u<this.length;u++){var c=this[u];void 0!==t?c.position(e,(t-a[e])/i):void 0!==o&&c.position(d.renderedToModelPosition(o,i,a))}}else if(!s)return;return this},relativePosition:function(e,t){var n=this[0],r=this.cy(),i=y.plainObject(e)?e:void 0,a=void 0!==i||void 0!==t&&y.string(e),o=r.hasCompoundNodes();if(n&&n.isNode()){if(!a){var s=n.position(),l=o?n.parent():null,u=l&&0<l.length,c=u;u&&(l=l[0]);var d=c?l.position():{x:0,y:0};return i={x:s.x-d.x,y:s.y-d.y},void 0===e?i:i[e]}for(var h=0;h<this.length;h++){var f=this[h],p=o?f.parent():null,v=p&&0<p.length,g=v;v&&(p=p[0]);var m=g?p.position():{x:0,y:0};void 0!==t?f.position(e,t+m[e]):void 0!==i&&f.position({x:i.x+m.x,y:i.y+m.y})}}else if(!a)return;return this}}).modelPosition=a.point=a.position,a.modelPositions=a.points=a.positions,a.renderedPoint=a.renderedPosition,a.relativePoint=a.relativePosition,e.exports=r},function(e,t,n){"use strict";var r=n(1),a=void 0,i=void 0;a=i={};var o=function(i){i.uppercaseName=r.capitalize(i.name),i.autoName="auto"+i.uppercaseName,i.labelName="label"+i.uppercaseName,i.outerName="outer"+i.uppercaseName,i.uppercaseOuterName=r.capitalize(i.outerName),a[i.name]=function(){var e=this[0],t=e._private,n=t.cy._private.styleEnabled;if(e){if(!n)return 1;if(e.isParent())return e.updateCompoundBounds(),t[i.autoName]||0;var r=e.pstyle(i.name);switch(r.strValue){case"label":return e.recalculateRenderedStyle(),t.rstyle[i.labelName]||0;default:return r.pfValue}}},a["outer"+i.uppercaseName]=function(){var e=this[0],t=e._private.cy._private.styleEnabled;if(e)return t?e[i.name]()+e.pstyle("border-width").pfValue+2*e.padding():1},a["rendered"+i.uppercaseName]=function(){var e=this[0];if(e)return e[i.name]()*this.cy().zoom()},a["rendered"+i.uppercaseOuterName]=function(){var e=this[0];if(e)return e[i.outerName]()*this.cy().zoom()}};o({name:"width"}),o({name:"height"}),i.padding=function(){var e=this[0],t=e._private;return e.isParent()?(e.updateCompoundBounds(),void 0!==t.autoPadding?t.autoPadding:e.pstyle("padding").pfValue):e.pstyle("padding").pfValue},e.exports=i},function(e,t,n){"use strict";var r=n(10),i=n(3),a=n(0),o=n(1),s=n(6),l={qualifierCompare:function(e,t){return null==e||null==t?null==e&&null==t:e.sameText(t)},eventMatches:function(e,t,n){var r=t.qualifier;return null==r||e!==n.target&&a.element(n.target)&&r.matches(n.target)},eventFields:function(e){return{cy:e.cy(),target:e}},callbackContext:function(e,t,n){return null!=t.qualifier?n.target:e},beforeEmit:function(e,t){t.conf&&t.conf.once&&t.conf.onceCollection.removeListener(t.event,t.qualifier,t.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},u=function(e){return a.string(e)?new s(e):e},c={createEmitter:function(){for(var e=0;e<this.length;e++){var t=this[e],n=t._private;n.emitter||(n.emitter=new r(o.assign({context:t},l)))}return this},emitter:function(){return this._private.emitter},on:function(e,t,n){for(var r=0;r<this.length;r++)this[r].emitter().on(e,u(t),n);return this},removeListener:function(e,t,n){for(var r=0;r<this.length;r++)this[r].emitter().removeListener(e,u(t),n);return this},one:function(e,t,n){for(var r=0;r<this.length;r++)this[r].emitter().one(e,u(t),n);return this},once:function(e,t,n){for(var r=0;r<this.length;r++)this[r].emitter().on(e,u(t),n,{once:!0,onceCollection:this})},emit:function(e,t){for(var n=0;n<this.length;n++)this[n].emitter().emit(e,t);return this},emitAndNotify:function(e,t){if(0!==this.length)return this.cy().notify({type:e,eles:this}),this.emit(e,t),this}};i.eventAliasesOn(c),e.exports=c},function(e,t,n){"use strict";var c=n(0),a=n(6),r={nodes:function(e){return this.filter(function(e){return e.isNode()}).filter(e)},edges:function(e){return this.filter(function(e){return e.isEdge()}).filter(e)},filter:function(e,t){if(void 0===e)return this;if(c.string(e)||c.elementOrCollection(e))return new a(e).filter(this);if(c.fn(e)){for(var n=this.spawn(),r=0;r<this.length;r++){var i=this[r];(t?e.apply(t,[i,r,this]):e(i,r,this))&&n.merge(i)}return n}return this.spawn()},not:function(e){if(e){c.string(e)&&(e=this.filter(e));for(var t=[],n=e._private.map,r=0;r<this.length;r++){var i=this[r];n.has(i.id())||t.push(i)}return this.spawn(t)}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(e){if(c.string(e)){var t=e;return this.filter(t)}for(var n=[],r=e,i=this.length<e.length,a=i?r._private.map:this._private.map,o=i?this:r,s=0;s<o.length;s++){var l=o[s]._private.data.id,u=a.get(l);u&&n.push(u.ele)}return this.spawn(n)},xor:function(e){var t=this._private.cy;c.string(e)&&(e=t.$(e));var a=[],n=e,r=function(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=r._private.data.id;t.hasElementWithId(i)||a.push(r)}};return r(this,n),r(n,this),this.spawn(a)},diff:function(e){var t=this._private.cy;c.string(e)&&(e=t.$(e));var n=[],r=[],o=[],i=e,a=function(e,t,n){for(var r=0;r<e.length;r++){var i=e[r],a=i._private.data.id;t.hasElementWithId(a)?o.push(i):n.push(i)}};return a(this,i,n),a(i,this,r),{left:this.spawn(n,{unique:!0}),right:this.spawn(r,{unique:!0}),both:this.spawn(o,{unique:!0})}},add:function(e){var t=this._private.cy;if(!e)return this;if(c.string(e)){var n=e;e=t.mutableElements().filter(n)}for(var r=[],i=0;i<this.length;i++)r.push(this[i]);for(var a=this._private.map,o=0;o<e.length;o++)!a.has(e[o].id())&&r.push(e[o]);return this.spawn(r)},merge:function(e){var t=this._private,n=t.cy;if(!e)return this;if(e&&c.string(e)){var r=e;e=n.mutableElements().filter(r)}for(var i=t.map,a=0;a<e.length;a++){var o=e[a],s=o._private.data.id;if(i.has(s)){var l=i.get(s).index;this[l]=o,i.set(s,{ele:o,index:l})}else{var u=this.length++;this[u]=o,i.set(s,{ele:o,index:u})}}return this},unmergeOne:function(e){e=e[0];var t=this._private,n=e._private.data.id,r=t.map,i=r.get(n);if(!i)return this;var a=i.index;this[a]=void 0,r.delete(n);var o=a===this.length-1;if(1<this.length&&!o){var s=this.length-1,l=this[s],u=l._private.data.id;this[s]=void 0,this[a]=l,r.set(u,{ele:l,index:a})}return this.length--,this},unmerge:function(e){var t=this._private.cy;if(!e)return this;if(e&&c.string(e)){var n=e;e=t.mutableElements().filter(n)}for(var r=0;r<e.length;r++)this.unmergeOne(e[r]);return this},map:function(e,t){for(var n=[],r=0;r<this.length;r++){var i=this[r],a=t?e.apply(t,[i,r,this]):e(i,r,this);n.push(a)}return n},reduce:function(e,t){for(var n=t,r=0;r<this.length;r++)n=e(n,this[r],r,this);return n},max:function(e,t){for(var n=-1/0,r=void 0,i=0;i<this.length;i++){var a=this[i],o=t?e.apply(t,[a,i,this]):e(a,i,this);n<o&&(n=o,r=a)}return{value:n,ele:r}},min:function(e,t){for(var n=1/0,r=void 0,i=0;i<this.length;i++){var a=this[i],o=t?e.apply(t,[a,i,this]):e(a,i,this);o<n&&(n=o,r=a)}return{value:n,ele:r}}},i=r;i.u=i["|"]=i["+"]=i.union=i.or=i.add,i["\\"]=i["!"]=i["-"]=i.difference=i.relativeComplement=i.subtract=i.not,i.n=i["&"]=i["."]=i.and=i.intersection=i.intersect,i["^"]=i["(+)"]=i["(-)"]=i.symmetricDifference=i.symdiff=i.xor,i.fnFilter=i.filterFn=i.stdFilter=i.filter,i.complement=i.abscomp=i.absoluteComplement,e.exports=r},function(e,t,n){"use strict";e.exports={isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source().id()===this.target().id()},isSimple:function(){return this.isEdge()&&this.source().id()!==this.target().id()},group:function(){var e=this[0];if(e)return e._private.group}}},function(e,t,n){"use strict";var i=n(0),r=n(14),s=n(1),a={forEach:function(e,t){if(i.fn(e))for(var n=0;n<this.length;n++){var r=this[n];if(!1===(t?e.apply(t,[r,n,this]):e(r,n,this)))break}return this},toArray:function(){for(var e=[],t=0;t<this.length;t++)e.push(this[t]);return e},slice:function(e,t){var n=[],r=this.length;null==t&&(t=r),null==e&&(e=0),e<0&&(e=r+e),t<0&&(t=r+t);for(var i=e;0<=i&&i<t&&i<r;i++)n.push(this[i]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(e){if(!i.fn(e))return this;var t=this.toArray().sort(e);return this.spawn(t)},sortByZIndex:function(){return this.sort(r)},zDepth:function(){var e=this[0];if(e){var t=e._private;if("nodes"===t.group){var n=t.data.parent?e.parents().size():0;return e.isParent()?n:s.MAX_INT-1}var r=t.source,i=t.target,a=r.zDepth(),o=i.zDepth();return Math.max(a,o,0)}}};a.each=a.forEach,e.exports=a},function(e,t,n){"use strict";var m=n(0),y=n(1),b=n(5),w=n(2),r={layoutDimensions:function(e){if((e=y.assign({nodeDimensionsIncludeLabels:!0},e)).nodeDimensionsIncludeLabels){var t=this.boundingBox();return{w:t.w,h:t.h}}return{w:this.outerWidth(),h:this.outerHeight()}},layoutPositions:function(e,c,t){var i=this.nodes(),n=this.cy(),r=c.eles,a=function(e,t){return e.id()+"$"+t},d=y.memoize(t,a);e.emit({type:"layoutstart",layout:e}),e.animations=[];var h=c.spacingFactor&&1!==c.spacingFactor,f=function(){if(!h)return null;for(var e=w.makeBoundingBox(),t=0;t<i.length;t++){var n=i[t],r=d(n,t);w.expandBoundingBoxByPoint(e,r.x,r.y)}return e}(),o=y.memoize(function(e,t){var n,r,i,a,o,s=d(e,t),l=e.position();if(m.number(l.x)&&m.number(l.y)||e.silentPosition({x:0,y:0}),h){var u=Math.abs(c.spacingFactor);n=u,i=s,a=(r=f).x1+r.w/2,o=r.y1+r.h/2,s={x:a+(i.x-a)*n,y:o+(i.y-o)*n}}return null!=c.transform&&(s=c.transform(e,s)),s},a);if(c.animate){for(var s=0;s<i.length;s++){var l=i[s],u=o(l,s);if(null==c.animateFilter||c.animateFilter(l,s)){var p=l.animation({position:u,duration:c.animationDuration,easing:c.animationEasing});e.animations.push(p),p.play()}else l.position(u)}if(c.fit){var v=n.animation({fit:{boundingBox:r.boundingBoxAt(o),padding:c.padding},duration:c.animationDuration,easing:c.animationEasing});e.animations.push(v),v.play()}else if(void 0!==c.zoom&&void 0!==c.pan){var g=n.animation({zoom:c.zoom,pan:c.pan,duration:c.animationDuration,easing:c.animationEasing});e.animations.push(g),g.play()}e.one("layoutready",c.ready),e.emit({type:"layoutready",layout:e}),b.all(e.animations.map(function(e){return e.promise()})).then(function(){e.one("layoutstop",c.stop),e.emit({type:"layoutstop",layout:e})})}else i.positions(o),c.fit&&n.fit(c.eles,c.padding),null!=c.zoom&&n.zoom(c.zoom),c.pan&&n.pan(c.pan),e.one("layoutready",c.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",c.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){return this.cy().makeLayout(y.extend({},e,{eles:this}))}};r.createLayout=r.makeLayout=r.layout,e.exports=r},function(e,t,n){"use strict";function i(e,t,n){var r,i=n._private,a=i.styleCache=i.styleCache||{};return null!=(r=a[e])?r:r=a[e]=t(n)}function r(t,n){return function(e){return i(t,n,e)}}function a(t,n){var r=function(e){return n.call(e)};return function(){var e=this[0];if(e)return i(t,r,e)}}function u(e,t){var n=e._private.data.parent?e.parents():null;if(n)for(var r=0;r<n.length;r++){if(!t(n[r]))return!1}return!0}function o(e){var o=e.ok,s=e.edgeOkViaNode||e.ok,l=e.parentOk||e.ok;return function(){var e=this.cy();if(!e.styleEnabled())return!0;var t=this[0],n=e.hasCompoundNodes();if(t){var r=t._private;if(!o(t))return!1;if(t.isNode())return!n||u(t,l);var i=r.source,a=r.target;return s(i)&&(!n||u(i,s))&&(i===a||s(a)&&(!n||u(a,s)))}}}var s=n(0),l={recalculateRenderedStyle:function(e){var t=this.cy(),n=t.renderer(),r=t.styleEnabled();return n&&r&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e=this.cy(),t=function(e){return e._private.styleCache={}};if(e.hasCompoundNodes()){var n=void 0;(n=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(n.connectedEdges()),n.forEach(t)}else this.forEach(function(e){t(e),e.connectedEdges().forEach(t)});return this},updateStyle:function(e){var t=this._private.cy;if(!t.styleEnabled())return this;if(t._private.batchingStyle)return t._private.batchStyleEles.merge(this),this;var n=t.hasCompoundNodes(),r=t.style(),i=this;e=!(!e&&void 0!==e),n&&(i=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var a=r.apply(i);return a.dirtyStyleCache(),a.dirtyCompoundBoundsCache(),e?a.emitAndNotify("style"):a.emit("style"),this},updateMappers:function(e){var t=this._private.cy,n=t.style();if(e=!(!e&&void 0!==e),!t.styleEnabled())return this;var r=n.updateMappers(this);return r.dirtyStyleCache(),r.dirtyCompoundBoundsCache(),e?r.emitAndNotify("style"):r.emit("style"),this},parsedStyle:function(e){var t=this[0],n=t.cy();if(n.styleEnabled())return t?t._private.style[e]||n.style().getDefaultProperty(e):void 0},numericStyle:function(e){var t=this[0];if(t.cy().styleEnabled()&&t){var n=t.pstyle(e);return void 0!==n.pfValue?n.pfValue:n.value}},numericStyleUnits:function(e){var t=this[0];if(t.cy().styleEnabled())return t?t.pstyle(e).units:void 0},renderedStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var n=this[0];return n?t.style().getRenderedStyle(n,e):void 0},style:function(e,t){var n=this.cy();if(!n.styleEnabled())return this;var r=n.style();if(s.plainObject(e)){var i=e;r.applyBypass(this,i,!1),this.dirtyStyleCache(),this.dirtyCompoundBoundsCache(),this.emitAndNotify("style")}else if(s.string(e)){if(void 0===t){var a=this[0];return a?r.getStylePropertyValue(a,e):void 0}r.applyBypass(this,e,t,!1),this.dirtyStyleCache(),this.dirtyCompoundBoundsCache(),this.emitAndNotify("style")}else if(void 0===e){var o=this[0];return o?r.getRawStyle(o):void 0}return this},removeStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var n=t.style();if(void 0===e)for(var r=0;r<this.length;r++){var i=this[r];n.removeAllBypasses(i,!1)}else{e=e.split(/\s+/);for(var a=0;a<this.length;a++){var o=this[a];n.removeBypasses(o,e,!1)}}return this.dirtyStyleCache(),this.dirtyCompoundBoundsCache(),this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var t=e.hasCompoundNodes(),n=this[0];if(n){var r=n._private,i=n.pstyle("opacity").value;if(!t)return i;var a=r.data.parent?n.parents():null;if(a)for(var o=0;o<a.length;o++){i*=a[o].pstyle("opacity").value}return i}},transparent:function(){if(!this.cy().styleEnabled())return!1;var e=this[0],t=e.cy().hasCompoundNodes();return e?t?0===e.effectiveOpacity():0===e.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}},c=r("eleTakesUpSpace",function(e){return"element"===e.pstyle("display").value&&0!==e.width()&&(!e.isNode()||0!==e.height())});l.takesUpSpace=a("takesUpSpace",o({ok:c}));var d=r("eleInteractive",function(e){return"yes"===e.pstyle("events").value&&"visible"===e.pstyle("visibility").value&&c(e)}),h=r("parentInteractive",function(e){return"visible"===e.pstyle("visibility").value&&c(e)});l.interactive=a("interactive",o({ok:d,parentOk:h,edgeOkViaNode:c})),l.noninteractive=function(){var e=this[0];if(e)return!e.interactive()};var f=r("eleVisible",function(e){return"visible"===e.pstyle("visibility").value&&0!==e.pstyle("opacity").pfValue&&c(e)}),p=c;l.visible=a("visible",o({ok:f,edgeOkViaNode:p})),l.hidden=function(){var e=this[0];if(e)return!e.visible()},l.bypass=l.css=l.style,l.renderedCss=l.renderedStyle,l.removeBypass=l.removeCss=l.removeStyle,l.pstyle=l.parsedStyle,e.exports=l},function(e,t,n){"use strict";function r(d){return function(){var e=arguments,t=[];if(2===e.length){var n=e[0],r=e[1];this.on(d.event,n,r)}else if(1===e.length){var i=e[0];this.on(d.event,i)}else if(0===e.length){for(var a=0;a<this.length;a++){var o=this[a],s=!d.ableField||o._private[d.ableField],l=o._private[d.field]!=d.value;if(d.overrideAble){var u=d.overrideAble(o);if(void 0!==u&&!(s=u))return this}s&&(o._private[d.field]=d.value,l&&t.push(o))}var c=this.spawn(t);c.updateStyle(),c.emit(d.event)}return this}}function i(n){a[n.field]=function(){var e=this[0];if(e){if(n.overrideField){var t=n.overrideField(e);if(void 0!==t)return t}return e._private[n.field]}},a[n.on]=r({event:n.on,field:n.field,ableField:n.ableField,overrideAble:n.overrideAble,value:!0}),a[n.off]=r({event:n.off,field:n.field,ableField:n.ableField,overrideAble:n.overrideAble,value:!1})}var a={};i({field:"locked",overrideField:function(e){return!!e.cy().autolock()||void 0},on:"lock",off:"unlock"}),i({field:"grabbable",overrideField:function(e){return!e.cy().autoungrabify()&&void 0},on:"grabify",off:"ungrabify"}),i({field:"selected",ableField:"selectable",overrideAble:function(e){return!e.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),i({field:"selectable",overrideField:function(e){return!e.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),a.deselect=a.unselect,a.grabbed=function(){var e=this[0];if(e)return e._private.grabbed},i({field:"active",on:"activate",off:"unactivate"}),a.inactive=function(){var e=this[0];if(e)return!e._private.active},e.exports=a},function(e,t,n){"use strict";function r(i){return function(e){for(var t=[],n=0;n<this.length;n++){var r=this[n]._private[i.attr];r&&t.push(r)}return this.spawn(t,{unique:!0}).filter(e)}}function i(d){return function(e){var t=[],n=this._private.cy,r=d||{};h.string(e)&&(e=n.$(e));for(var i=0;i<e.length;i++)for(var a=e[i]._private.edges,o=0;o<a.length;o++){var s=a[o],l=s._private.data,u=this.hasElementWithId(l.source)&&e.hasElementWithId(l.target),c=e.hasElementWithId(l.source)&&this.hasElementWithId(l.target);if(u||c){if(r.thisIsSrc||r.thisIsTgt){if(r.thisIsSrc&&!u)continue;if(r.thisIsTgt&&!c)continue}t.push(s)}}return this.spawn(t,{unique:!0})}}function a(m){return m=o.extend({},{codirected:!1},m),function(e){for(var t=[],n=this.edges(),r=m,i=0;i<n.length;i++)for(var a=n[i]._private,o=a.source,s=o._private.data.id,l=a.data.target,u=o._private.edges,c=0;c<u.length;c++){var d=u[c],h=d._private.data,f=h.target,p=h.source,v=f===l&&p===s,g=s===f&&l===p;(r.codirected&&v||!r.codirected&&(v||g))&&t.push(d)}return this.spawn(t,{unique:!0}).filter(e)}}var o=n(1),h=n(0),s={},l=function(u,c){return function(e,t,n,r){var i=e,a=void 0;if(null==i?a="null":h.elementOrCollection(i)&&1===i.length&&(a="#"+i.id()),1===this.length&&a){var o=this[0]._private,s=o.traversalCache=o.traversalCache||{},l=s[c]=s[c]||{};return l[a]||(l[a]=u.call(this,e,t,n,r))}return u.call(this,e,t,n,r)}},u=function(c){return function(e){for(var t=[],n=0;n<this.length;n++){var r=this[n];if(r.isNode()){for(var i=!1,a=r.connectedEdges(),o=0;o<a.length;o++){var s=a[o],l=s.source(),u=s.target();if(c.noIncomingEdges&&u===r&&l!==r||c.noOutgoingEdges&&l===r&&u!==r){i=!0;break}}i||t.push(r)}}return this.spawn(t,{unique:!0}).filter(e)}},c=function(u){return function(e){for(var t=[],n=0;n<this.length;n++){var r=this[n];if(r.isNode())for(var i=r.connectedEdges(),a=0;a<i.length;a++){var o=i[a],s=o.source(),l=o.target();u.outgoing&&s===r?(t.push(o),t.push(l)):u.incoming&&l===r&&(t.push(o),t.push(s))}}return this.spawn(t,{unique:!0}).filter(e)}},d=function(u){return function(e){for(var t=this,n=[],r={};;){var i=u.outgoing?t.outgoers():t.incomers();if(0===i.length)break;for(var a=!1,o=0;o<i.length;o++){var s=i[o],l=s.id();r[l]||(r[l]=!0,n.push(s),a=!0)}if(!a)break;t=i}return this.spawn(n,{unique:!0}).filter(e)}};s.clearTraversalCache=function(){for(var e=0;e<this.length;e++)this[e]._private.traversalCache=null},o.extend(s,{roots:u({noIncomingEdges:!0}),leaves:u({noOutgoingEdges:!0}),outgoers:l(c({outgoing:!0}),"outgoers"),successors:d({outgoing:!0}),incomers:l(c({incoming:!0}),"incomers"),predecessors:d({incoming:!0})}),o.extend(s,{neighborhood:l(function(e){for(var t=[],n=this.nodes(),r=0;r<n.length;r++)for(var i=n[r],a=i.connectedEdges(),o=0;o<a.length;o++){var s=a[o],l=s.source(),u=s.target(),c=i===l?u:l;0<c.length&&t.push(c[0]),t.push(s[0])}return this.spawn(t,{unique:!0}).filter(e)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}}),s.neighbourhood=s.neighborhood,s.closedNeighbourhood=s.closedNeighborhood,s.openNeighbourhood=s.openNeighborhood,o.extend(s,{source:l(function(e){var t=this[0],n=void 0;return t&&(n=t._private.source||t.cy().collection()),n&&e?n.filter(e):n},"source"),target:l(function(e){var t=this[0],n=void 0;return t&&(n=t._private.target||t.cy().collection()),n&&e?n.filter(e):n},"target"),sources:r({attr:"source"}),targets:r({attr:"target"})}),o.extend(s,{edgesWith:l(i(),"edgesWith"),edgesTo:l(i({thisIsSrc:!0}),"edgesTo")}),o.extend(s,{connectedEdges:l(function(e){for(var t=[],n=0;n<this.length;n++){var r=this[n];if(r.isNode())for(var i=r._private.edges,a=0;a<i.length;a++){var o=i[a];t.push(o)}}return this.spawn(t,{unique:!0}).filter(e)},"connectedEdges"),connectedNodes:l(function(e){for(var t=[],n=0;n<this.length;n++){var r=this[n];r.isEdge()&&(t.push(r.source()[0]),t.push(r.target()[0]))}return this.spawn(t,{unique:!0}).filter(e)},"connectedNodes"),parallelEdges:l(a(),"parallelEdges"),codirectedEdges:l(a({codirected:!0}),"codirectedEdges")}),o.extend(s,{components:function(){var t=this,n=t.cy(),r=t.spawn(),i=t.nodes().spawnSelf(),o=[],s=function(e,t){r.merge(e),i.unmerge(e),t.merge(e)};if(i.empty())return t.spawn();for(;function(){var a=n.collection();o.push(a);var e=i[0];s(e,a),t.bfs({directed:!1,roots:e,visit:function(e,t,n,r,i){s(e,a)}})}(),0<i.length;);return o.map(function(t){var e=t.connectedEdges().stdFilter(function(e){return t.anySame(e.source())&&t.anySame(e.target())});return t.union(e)})}}),e.exports=s},function(e,t,n){"use strict";var m=n(0),y=n(1),b=n(7),w=n(13),r={add:function(e){var t=void 0,n=this;if(m.elementOrCollection(e)){var r=e;if(r._private.cy===n)t=r.restore();else{for(var i=[],a=0;a<r.length;a++){var o=r[a];i.push(o.json())}t=new b(n,i)}}else if(m.array(e)){t=new b(n,e)}else if(m.plainObject(e)&&(m.array(e.nodes)||m.array(e.edges))){for(var s=e,l=[],u=["nodes","edges"],c=0,d=u.length;c<d;c++){var h=u[c],f=s[h];if(m.array(f))for(var p=0,v=f.length;p<v;p++){var g=y.extend({group:h},f[p]);l.push(g)}}t=new b(n,l)}else{t=new w(n,e).collection()}return t},remove:function(e){if(m.elementOrCollection(e));else if(m.string(e)){var t=e;e=this.$(t)}return e.remove()}};e.exports=r},function(e,t,n){"use strict";e.exports=function(o,t,s,n){function r(e,t){return 1-3*t+3*e}function i(e,t){return 3*t-6*e}function a(e){return 3*e}function l(e,t,n){return((r(t,n)*e+i(t,n))*e+a(t))*e}function u(e,t,n){return 3*r(t,n)*e*e+2*i(t,n)*e+a(t)}function c(e){for(var t=0,n=1,r=v-1;n!==r&&y[n]<=e;++n)t+=g;var i=t+(e-y[--n])/(y[n+1]-y[n])*g,a=u(i,o,s);return.001<=a?function(e,t){for(var n=0;n<h;++n){var r=u(t,o,s);if(0===r)return t;t-=(l(t,o,s)-e)/r}return t}(e,i):0===a?i:function(e,t,n){for(var r=void 0,i=void 0,a=0;0<(r=l(i=t+(n-t)/2,o,s)-e)?n=i:t=i,Math.abs(r)>f&&++a<p;);return i}(e,t,t+g)}function d(){b=!0,o===t&&s===n||function(){for(var e=0;e<v;++e)y[e]=l(e*g,o,s)}()}var h=4,f=1e-7,p=10,v=11,g=1/(v-1),e="undefined"!=typeof Float32Array;if(4!==arguments.length)return!1;for(var m=0;m<4;++m)if("number"!=typeof arguments[m]||isNaN(arguments[m])||!isFinite(arguments[m]))return!1;o=Math.min(o,1),s=Math.min(s,1),o=Math.max(o,0),s=Math.max(s,0);var y=e?new Float32Array(v):new Array(v),b=!1,w=function(e){return b||d(),o===t&&s===n?e:0===e?0:1===e?1:l(c(e),t,n)};w.getControlPoints=function(){return[{x:o,y:t},{x:s,y:n}]};var x="generateBezier("+[o,t,s,n]+")";return w.toString=function(){return x},w}},function(e,t,n){"use strict";function f(e,t,n,r,i){if(1===r)return n;var a=i(t,n,r);return null==e||((e.roundValue||e.color)&&(a=Math.round(a)),void 0!==e.min&&(a=Math.max(a,e.min)),void 0!==e.max&&(a=Math.min(a,e.max))),a}var p=n(0);e.exports=function(e,t,n,r,i){var a,o,s=null!=i?i.type:null;if(n<0?n=0:1<n&&(n=1),a=null!=e.pfValue||null!=e.value?null!=e.pfValue?e.pfValue:e.value:e,o=null!=t.pfValue||null!=t.value?null!=t.pfValue?t.pfValue:t.value:t,p.number(a)&&p.number(o))return f(s,a,o,n,r);if(p.array(a)&&p.array(o)){for(var l=[],u=0;u<o.length;u++){var c=a[u],d=o[u];if(null!=c&&null!=d){var h=f(s,c,d,n,r);l.push(h)}else l.push(d)}return l}}},function(e,t,n){"use strict";var a=n(57),i=n(61),r=function(e,t,n,r){var i=a(e,t,n,r);return function(e,t,n){return e+(t-e)*i(n)}},o={linear:function(e,t,n){return e+(t-e)*n},ease:r(.25,.1,.25,1),"ease-in":r(.42,0,1,1),"ease-out":r(0,0,.58,1),"ease-in-out":r(.42,0,.58,1),"ease-in-sine":r(.47,0,.745,.715),"ease-out-sine":r(.39,.575,.565,1),"ease-in-out-sine":r(.445,.05,.55,.95),"ease-in-quad":r(.55,.085,.68,.53),"ease-out-quad":r(.25,.46,.45,.94),"ease-in-out-quad":r(.455,.03,.515,.955),"ease-in-cubic":r(.55,.055,.675,.19),"ease-out-cubic":r(.215,.61,.355,1),"ease-in-out-cubic":r(.645,.045,.355,1),"ease-in-quart":r(.895,.03,.685,.22),"ease-out-quart":r(.165,.84,.44,1),"ease-in-out-quart":r(.77,0,.175,1),"ease-in-quint":r(.755,.05,.855,.06),"ease-out-quint":r(.23,1,.32,1),"ease-in-out-quint":r(.86,0,.07,1),"ease-in-expo":r(.95,.05,.795,.035),"ease-out-expo":r(.19,1,.22,1),"ease-in-out-expo":r(1,0,0,1),"ease-in-circ":r(.6,.04,.98,.335),"ease-out-circ":r(.075,.82,.165,1),"ease-in-out-circ":r(.785,.135,.15,.86),spring:function(e,t,n){if(0===n)return o.linear;var r=i(e,t,n);return function(e,t,n){return e+(t-e)*r(n)}},"cubic-bezier":r};e.exports=o},function(e,t,n){"use strict";var r=n(3),i=n(1),a=n(63),o={animate:r.animate(),animation:r.animation(),animated:r.animated(),clearQueue:r.clearQueue(),delay:r.delay(),delayAnimation:r.delayAnimation(),stop:r.stop(),addToAnimationPool:function(e){this.styleEnabled()&&this._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var n=this;if(n._private.animationsRunning=!0,n.styleEnabled()){var e=n.renderer();e&&e.beforeRender?e.beforeRender(function(e,t){a(t,n)},e.beforeRenderPriorities.animations):function t(){n._private.animationsRunning&&i.requestAnimationFrame(function(e){a(e,n),t()})}()}}};e.exports=o},function(e,t,n){"use strict";var r=function(){function y(e){return-e.tension*e.x-e.friction*e.v}function b(e,t,n){var r={x:e.x+n.dx*t,v:e.v+n.dv*t,tension:e.tension,friction:e.friction};return{dx:r.v,dv:y(r)}}return function e(t,n,r){var i,a,o,s,l,u,c,d,h,f={x:-1,v:0,tension:null,friction:null},p=[0],v=0,g=void 0,m=void 0;for(t=parseFloat(t)||500,n=parseFloat(n)||20,r=r||null,f.tension=t,f.friction=n,g=(i=null!==r)?(v=e(t,n))/r*.016:.016;o=g,void 0,s={dx:(a=m||f).v,dv:y(a)},l=b(a,.5*o,s),u=b(a,.5*o,l),c=b(a,o,u),d=1/6*(s.dx+2*(l.dx+u.dx)+c.dx),h=1/6*(s.dv+2*(l.dv+u.dv)+c.dv),a.x=a.x+d*o,a.v=a.v+h*o,m=a,p.push(1+m.x),v+=16,1e-4<Math.abs(m.x)&&1e-4<Math.abs(m.v););return i?function(e){return p[e*(p.length-1)|0]}:v}}();e.exports=r},function(e,t,n){"use strict";e.exports=function(e,t,n,r){var i=!r,a=e,o=t._private,s=r?e:e.cy(),l=s.style();if(i){var u=a.position();o.startPosition=o.startPosition||{x:u.x,y:u.y},o.startStyle=o.startStyle||l.getAnimationStartStyle(a,o.style)}if(r){var c=s._private.pan;o.startPan=o.startPan||{x:c.x,y:c.y},o.startZoom=null!=o.startZoom?o.startZoom:s._private.zoom}o.started=!0,o.startTime=n-o.progress*o.duration}},function(e,t,n){"use strict";var p=n(64),v=n(62);e.exports=function(h,e){function t(e,t){var n=e._private,r=n.animation.current,i=n.animation.queue,a=!1;if(!t&&"none"===e.pstyle("display").value){r=r.splice(0,r.length).concat(i.splice(0,i.length));for(var o=0;o<r.length;o++)r[o].stop()}if(0===r.length){var s=i.shift();s&&r.push(s)}for(var l=function(e){for(var t=e.length-1;0<=t;t--)(0,e[t])();e.splice(0,e.length)},u=r.length-1;0<=u;u--){var c=r[u],d=c._private;d.stopped?(r.splice(u,1),d.hooked=!1,d.playing=!1,d.started=!1,l(d.frames)):(d.playing||d.applying)&&(d.playing&&d.applying&&(d.applying=!1),d.started||v(e,c,h,t),p(e,c,h,t),d.applying&&(d.applying=!1),l(d.frames),c.completed()&&(r.splice(u,1),d.hooked=!1,d.playing=!1,d.started=!1,l(d.completes)),a=!0)}return t||0!==r.length||0!==i.length||f.push(e),a}for(var n=e._private.aniEles,f=[],r=!1,i=0;i<n.length;i++){var a=t(n[i]);r=r||a}var o=t(e,!0);(r||o)&&(0<n.length?(n.dirtyCompoundBoundsCache(),e.notify({type:"draw",eles:n})):e.notify({type:"draw"})),n.unmerge(f),e.emit("step")}},function(e,t,n){"use strict";function M(e,t){return!(null==e||null==t||!(O.number(e)&&O.number(t)||e&&t))}var L=n(59),A=n(58),O=n(0);e.exports=function(e,t,n,r){var i=!r,a=e._private,o=t._private,s=o.easing,l=o.startTime,u=(r?e:e.cy()).style();if(!o.easingImpl)if(null==s)o.easingImpl=L.linear;else{var c=void 0;c=O.string(s)?u.parse("transition-timing-function",s).value:s;var d=void 0,h=void 0;0<(h=O.string(c)?(d=c,[]):(d=c[1],c.slice(2).map(function(e){return+e}))).length?("spring"===d&&h.push(o.duration),o.easingImpl=L[d].apply(null,h)):o.easingImpl=L[d]}var f=o.easingImpl,p=void 0;if(p=0===o.duration?1:(n-l)/o.duration,o.applying&&(p=o.progress),p<0?p=0:1<p&&(p=1),null==o.delay){var v=o.startPosition,g=o.position;if(g&&i&&!e.locked()){var m=e.position();M(v.x,g.x)&&(m.x=A(v.x,g.x,p,f)),M(v.y,g.y)&&(m.y=A(v.y,g.y,p,f)),e.emit("position")}var y=o.startPan,b=o.pan,w=a.pan,x=null!=b&&r;x&&(M(y.x,b.x)&&(w.x=A(y.x,b.x,p,f)),M(y.y,b.y)&&(w.y=A(y.y,b.y,p,f)),e.emit("pan"));var E=o.startZoom,_=o.zoom,k=null!=_&&r;k&&(M(E,_)&&(a.zoom=A(E,_,p,f)),e.emit("zoom")),(x||k)&&e.emit("viewport");var C=o.style;if(C&&0<C.length&&i){for(var T=0;T<C.length;T++){var I=C[T],P=I.name,N=I,S=o.startStyle[P],B=u.properties[S.name],D=A(S,N,p,f,B);u.overrideBypass(e,P,D)}e.emit("style")}}return o.progress=p}},function(e,t,n){"use strict";var r=n(10),i=n(3),a=n(0),o=n(1),s=n(6),l={qualifierCompare:function(e,t){return null==e||null==t?null==e&&null==t:e.sameText(t)},eventMatches:function(e,t,n){var r=t.qualifier;return null==r||e!==n.target&&a.element(n.target)&&r.matches(n.target)},eventFields:function(e){return{cy:e,target:e}},callbackContext:function(e,t,n){return null!=t.qualifier?n.target:e}},u=function(e){return a.string(e)?new s(e):e},c={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new r(o.assign({context:this},l))),this},emitter:function(){return this._private.emitter},on:function(e,t,n){return this.emitter().on(e,u(t),n),this},removeListener:function(e,t,n){return this.emitter().removeListener(e,u(t),n),this},one:function(e,t,n){return this.emitter().one(e,u(t),n),this},once:function(e,t,n){return this.emitter().one(e,u(t),n),this},emit:function(e,t){return this.emitter().emit(e,t),this}};i.eventAliasesOn(c),e.exports=c},function(e,t,n){"use strict";var r={png:function(e){return e=e||{},this._private.renderer.png(e)},jpg:function(e){var t=this._private.renderer;return(e=e||{}).bg=e.bg||"#fff",t.jpg(e)}};r.jpeg=r.jpg,e.exports=r},function(e,t,n){"use strict";var i=n(1),a=n(0),r={layout:function(e){if(null!=e)if(null!=e.name){var t=e.name,n=this.extension("layout",t);if(null!=n){var r;return r=a.string(e.eles)?this.$(e.eles):null!=e.eles?e.eles:this.$(),new n(i.extend({},e,{cy:this,eles:r}))}i.error("Can not apply layout: No such layout `"+t+"` found; did you include its JS file?")}else i.error("A `name` must be specified to make a layout");else i.error("Layout options must be specified to make a layout")}};r.createLayout=r.makeLayout=r.layout,e.exports=r},function(e,t,n){"use strict";var r={notify:function(e){var t=this._private;if(t.batchingNotify){var n=t.batchNotifyEles,r=t.batchNotifyTypes;return e.eles&&n.merge(e.eles),void(r.ids[e.type]||(r.push(e.type),r.ids[e.type]=!0))}if(t.notificationsEnabled){var i=this.renderer();!this.isDestroyed()&&i&&i.notify(e)}},notifications:function(e){var t=this._private;return void 0===e?t.notificationsEnabled:void(t.notificationsEnabled=!!e)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return 0<this._private.batchCount},startBatch:function(){var e=this._private;return null==e.batchCount&&(e.batchCount=0),0===e.batchCount&&(e.batchingStyle=e.batchingNotify=!0,e.batchStyleEles=this.collection(),e.batchNotifyEles=this.collection(),e.batchNotifyTypes=[],e.batchNotifyTypes.ids={}),e.batchCount++,this},endBatch:function(){var e=this._private;return e.batchCount--,0===e.batchCount&&(e.batchingStyle=!1,e.batchStyleEles.updateStyle(),e.batchingNotify=!1,this.notify({type:e.batchNotifyTypes,eles:e.batchNotifyEles})),this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(i){var a=this;return this.batch(function(){for(var e=Object.keys(i),t=0;t<e.length;t++){var n=e[t],r=i[n];a.getElementById(n).data(r)}})}};e.exports=r},function(e,t,n){"use strict";var r=n(1),i={renderTo:function(e,t,n,r){return this._private.renderer.renderTo(e,t,n,r),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify({type:"draw"}),this},resize:function(){return this.invalidateSize(),this.notify({type:"resize"}),this.emit("resize"),this},initRenderer:function(e){var t=this.extension("renderer",e.name);return null==t?void r.error("Can not initialise: No such renderer `%s` found; did you include its JS file?",e.name):(this._private.renderer=new t(r.extend({},e,{cy:this})),void this.notify({type:"init"}))},destroyRenderer:function(){this.notify({type:"destroy"});var e=this.container();if(e)for(e._cyreg=null;0<e.childNodes.length;)e.removeChild(e.childNodes[0]);this._private.renderer=null},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};i.invalidateDimensions=i.resize,e.exports=i},function(e,t,n){"use strict";var r=n(0),i=n(7),a={collection:function(e,t){return r.string(e)?this.$(e):r.elementOrCollection(e)?e.collection():r.array(e)?new i(this,e,t):new i(this)},nodes:function(e){var t=this.$(function(e){return e.isNode()});return e?t.filter(e):t},edges:function(e){var t=this.$(function(e){return e.isEdge()});return e?t.filter(e):t},$:function(e){var t=this._private.elements;return e?t.filter(e):t.spawnSelf()},mutableElements:function(){return this._private.elements}};a.elements=a.filter=a.$,e.exports=a},function(e,t,n){"use strict";var r=n(0),i=n(18),a={style:function(e){return e&&this.setStyle(e).update(),this._private.style},setStyle:function(e){var t=this._private;return r.stylesheet(e)?t.style=e.generateStyle(this):r.array(e)?t.style=i.fromJson(this,e):r.string(e)?t.style=i.fromString(this,e):t.style=i(this),t.style}};e.exports=a},function(e,t,n){"use strict";var c=n(0),i=n(4),d=n(2),r={autolock:function(e){return void 0===e?this._private.autolock:(this._private.autolock=!!e,this)},autoungrabify:function(e){return void 0===e?this._private.autoungrabify:(this._private.autoungrabify=!!e,this)},autounselectify:function(e){return void 0===e?this._private.autounselectify:(this._private.autounselectify=!!e,this)},panningEnabled:function(e){return void 0===e?this._private.panningEnabled:(this._private.panningEnabled=!!e,this)},userPanningEnabled:function(e){return void 0===e?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!e,this)},zoomingEnabled:function(e){return void 0===e?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!e,this)},userZoomingEnabled:function(e){return void 0===e?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!e,this)},boxSelectionEnabled:function(e){return void 0===e?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!e,this)},pan:function(){var e=arguments,t=this._private.pan,n=void 0,r=void 0,i=void 0,a=void 0,o=void 0;switch(e.length){case 0:return t;case 1:if(c.string(e[0]))return t[n=e[0]];if(c.plainObject(e[0])){if(!this._private.panningEnabled)return this;a=(i=e[0]).x,o=i.y,c.number(a)&&(t.x=a),c.number(o)&&(t.y=o),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;n=e[0],r=e[1],"x"!==n&&"y"!==n||!c.number(r)||(t[n]=r),this.emit("pan viewport")}return this.notify({type:"viewport"}),this},panBy:function(e,t){var n=arguments,r=this._private.pan,i=void 0,a=void 0,o=void 0,s=void 0,l=void 0;if(!this._private.panningEnabled)return this;switch(n.length){case 1:c.plainObject(e)&&(s=(o=n[0]).x,l=o.y,c.number(s)&&(r.x+=s),c.number(l)&&(r.y+=l),this.emit("pan viewport"));break;case 2:a=t,"x"!==(i=e)&&"y"!==i||!c.number(a)||(r[i]+=a),this.emit("pan viewport")}return this.notify({type:"viewport"}),this},fit:function(e,t){var n=this.getFitViewport(e,t);if(n){var r=this._private;r.zoom=n.zoom,r.pan=n.pan,this.emit("pan zoom viewport"),this.notify({type:"viewport"})}return this},getFitViewport:function(e,t){if(c.number(e)&&void 0===t&&(t=e,e=void 0),this._private.panningEnabled&&this._private.zoomingEnabled){var n=void 0;if(c.string(e)){var r=e;e=this.$(r)}else if(c.boundingBox(e)){var i=e;(n={x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2}).w=n.x2-n.x1,n.h=n.y2-n.y1}else c.elementOrCollection(e)||(e=this.mutableElements());if(!c.elementOrCollection(e)||!e.empty()){n=n||e.boundingBox();var a=this.width(),o=this.height(),s=void 0;if(t=c.number(t)?t:0,!isNaN(a)&&!isNaN(o)&&0<a&&0<o&&!isNaN(n.w)&&!isNaN(n.h)&&0<n.w&&0<n.h)return{zoom:s=(s=(s=Math.min((a-2*t)/n.w,(o-2*t)/n.h))>this._private.maxZoom?this._private.maxZoom:s)<this._private.minZoom?this._private.minZoom:s,pan:{x:(a-s*(n.x1+n.x2))/2,y:(o-s*(n.y1+n.y2))/2}}}}},minZoom:function(e){return void 0===e?this._private.minZoom:(c.number(e)&&(this._private.minZoom=e),this)},maxZoom:function(e){return void 0===e?this._private.maxZoom:(c.number(e)&&(this._private.maxZoom=e),this)},getZoomedViewport:function(e){var t=this._private,n=t.pan,r=t.zoom,i=void 0,a=void 0,o=!1;if(t.zoomingEnabled||(o=!0),c.number(e)?a=e:c.plainObject(e)&&(a=e.level,null!=e.position?i=d.modelToRenderedPosition(e.position,r,n):null!=e.renderedPosition&&(i=e.renderedPosition),null==i||t.panningEnabled||(o=!0)),a=(a=a>t.maxZoom?t.maxZoom:a)<t.minZoom?t.minZoom:a,o||!c.number(a)||a===r||null!=i&&(!c.number(i.x)||!c.number(i.y)))return null;if(null==i)return{zoomed:!0,panned:!1,zoom:a,pan:n};var s=n,l=r,u=a;return{zoomed:!0,panned:!0,zoom:u,pan:{x:-u/l*(i.x-s.x)+i.x,y:-u/l*(i.y-s.y)+i.y}}},zoom:function(e){if(void 0===e)return this._private.zoom;var t=this.getZoomedViewport(e),n=this._private;return null!=t&&t.zoomed&&(n.zoom=t.zoom,t.panned&&(n.pan.x=t.pan.x,n.pan.y=t.pan.y),this.emit("zoom"+(t.panned?" pan":"")+" viewport"),this.notify({type:"viewport"})),this},viewport:function(e){var t=this._private,n=!0,r=!0,i=[],a=!1,o=!1;if(!e)return this;if(c.number(e.zoom)||(n=!1),c.plainObject(e.pan)||(r=!1),!n&&!r)return this;if(n){var s=e.zoom;s<t.minZoom||s>t.maxZoom||!t.zoomingEnabled?a=!0:(t.zoom=s,i.push("zoom"))}if(r&&(!a||!e.cancelOnFailedZoom)&&t.panningEnabled){var l=e.pan;c.number(l.x)&&(t.pan.x=l.x,o=!1),c.number(l.y)&&(t.pan.y=l.y,o=!1),o||i.push("pan")}return 0<i.length&&(i.push("viewport"),this.emit(i.join(" ")),this.notify({type:"viewport"})),this},center:function(e){var t=this.getCenterPan(e);return t&&(this._private.pan=t,this.emit("pan viewport"),this.notify({type:"viewport"})),this},getCenterPan:function(e,t){if(this._private.panningEnabled){if(c.string(e)){var n=e;e=this.mutableElements().filter(n)}else c.elementOrCollection(e)||(e=this.mutableElements());if(0!==e.length){var r=e.boundingBox(),i=this.width(),a=this.height();return{x:(i-(t=void 0===t?this._private.zoom:t)*(r.x1+r.x2))/2,y:(a-t*(r.y1+r.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled&&this.viewport({pan:{x:0,y:0},zoom:1}),this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var t,e,n=this._private,r=n.container;return n.sizeCache=n.sizeCache||(r?(t=i.getComputedStyle(r),e=function(e){return parseFloat(t.getPropertyValue(e))},{width:r.clientWidth-e("padding-left")-e("padding-right"),height:r.clientHeight-e("padding-top")-e("padding-bottom")}):{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,t=this._private.zoom,n=this.renderedExtent(),r={x1:(n.x1-e.x)/t,x2:(n.x2-e.x)/t,y1:(n.y1-e.y)/t,y2:(n.y2-e.y)/t};return r.w=r.x2-r.x1,r.h=r.y2-r.y1,r},renderedExtent:function(){var e=this.width(),t=this.height();return{x1:0,y1:0,x2:e,y2:t,w:e,h:t}}};r.centre=r.center,r.autolockNodes=r.autolock,r.autoungrabifyNodes=r.autoungrabify,e.exports=r},function(e,t,n){"use strict";var y=n(1),b=n(24),w=n(2),x=n(0),r={animated:function(){return function(){var e=void 0!==this.length?this:[this];if(!(this._private.cy||this).styleEnabled())return!1;var t=e[0];return t?0<t._private.animation.current.length:void 0}},clearQueue:function(){return function(){var e=void 0!==this.length?this:[this];if(!(this._private.cy||this).styleEnabled())return this;for(var t=0;t<e.length;t++)e[t]._private.animation.queue=[];return this}},delay:function(){return function(e,t){return(this._private.cy||this).styleEnabled()?this.animate({delay:e,duration:e,complete:t}):this}},delayAnimation:function(){return function(e,t){return(this._private.cy||this).styleEnabled()?this.animation({delay:e,duration:e,complete:t}):this}},animation:function(){return function(e,t){var n=void 0!==this.length,r=n?this:[this],i=this._private.cy||this,a=!n,o=!a;if(!i.styleEnabled())return this;var s=i.style();if(e=y.assign({},e,t),0===Object.keys(e).length)return new b(r[0],e);switch(void 0===e.duration&&(e.duration=400),e.duration){case"slow":e.duration=600;break;case"fast":e.duration=200}if(o&&(e.style=s.getPropsList(e.style||e.css),e.css=void 0),o&&null!=e.renderedPosition){var l=e.renderedPosition,u=i.pan(),c=i.zoom();e.position=w.renderedToModelPosition(l,c,u)}if(a&&null!=e.panBy){var d=e.panBy,h=i.pan();e.pan={x:h.x+d.x,y:h.y+d.y}}var f=e.center||e.centre;if(a&&null!=f){var p=i.getCenterPan(f.eles,e.zoom);null!=p&&(e.pan=p)}if(a&&null!=e.fit){var v=e.fit,g=i.getFitViewport(v.eles||v.boundingBox,v.padding);null!=g&&(e.pan=g.pan,e.zoom=g.zoom)}if(a&&x.plainObject(e.zoom)){var m=i.getZoomedViewport(e.zoom);null!=m&&(m.zoomed&&(e.zoom=m.zoom),m.panned&&(e.pan=m.pan))}return new b(r[0],e)}},animate:function(){return function(e,t){var n=void 0!==this.length?this:[this];if(!(this._private.cy||this).styleEnabled())return this;t&&(e=y.extend({},e,t));for(var r=0;r<n.length;r++){var i=n[r],a=i.animated()&&(void 0===e.queue||e.queue);i.animation(e,a?{queue:!0}:void 0).play()}return this}},stop:function(){return function(e,t){var n=void 0!==this.length?this:[this],r=this._private.cy||this;if(!r.styleEnabled())return this;for(var i=0;i<n.length;i++){for(var a=n[i]._private,o=a.animation.current,s=0;s<o.length;s++){var l=o[s]._private;t&&(l.duration=0)}e&&(a.animation.queue=[]),t||(a.animation.current=[])}return r.notify({eles:this,type:"draw"}),this}}};e.exports=r},function(e,t,n){"use strict";var r=n(1),C=n(0),i={data:function(k){return k=r.extend({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(e){},beforeSet:function(e,t){},onSet:function(e){},canSet:function(e){return!0}},k),function(e,t){var n,r,i,a=k,o=this,s=void 0!==o.length,l=s?o:[o],u=s?o[0]:o;if(C.string(e)){if(a.allowGetting&&void 0===t){var c=void 0;return u&&(a.beforeGet(u),c=u._private[a.field][e]),c}if(a.allowSetting&&void 0!==t&&!a.immutableKeys[e]){var d=(i=t,(r=e)in(n={})?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n);a.beforeSet(o,d);for(var h=0,f=l.length;h<f;h++){var p=l[h];a.canSet(p)&&(p._private[a.field][e]=t)}a.updateStyle&&o.updateStyle(),a.onSet(o),a.settingTriggersEvent&&o[a.triggerFnName](a.settingEvent)}}else if(a.allowSetting&&C.plainObject(e)){var v=e,g=void 0,m=void 0,y=Object.keys(v);a.beforeSet(o,v);for(var b=0;b<y.length;b++){if(m=v[g=y[b]],!a.immutableKeys[g])for(var w=0;w<l.length;w++){var x=l[w];a.canSet(x)&&(x._private[a.field][g]=m)}}a.updateStyle&&o.updateStyle(),a.onSet(o),a.settingTriggersEvent&&o[a.triggerFnName](a.settingEvent)}else if(a.allowBinding&&C.fn(e)){var E=e;o.on(a.bindingEvent,E)}else if(a.allowGetting&&void 0===e){var _=void 0;return u&&(a.beforeGet(u),_=u._private[a.field]),_}return o}},removeData:function(g){return g=r.extend({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},g),function(e){var t=g,n=this,r=void 0!==n.length?n:[n];if(C.string(e)){for(var i=e.split(/\s+/),a=i.length,o=0;o<a;o++){var s=i[o];if(!C.emptyString(s)&&!t.immutableKeys[s])for(var l=0,u=r.length;l<u;l++)r[l]._private[t.field][s]=void 0}t.triggerEvent&&n[t.triggerFnName](t.event)}else if(void 0===e){for(var c=0,d=r.length;c<d;c++)for(var h=r[c]._private[t.field],f=Object.keys(h),p=0;p<f.length;p++){var v=f[p];!t.immutableKeys[v]&&(h[v]=void 0)}t.triggerEvent&&n[t.triggerFnName](t.event)}return n}}};e.exports=i},function(e,t,n){"use strict";var r=n(5),i={eventAliasesOn:function(e){var t=e;t.addListener=t.listen=t.bind=t.on,t.unlisten=t.unbind=t.off=t.removeListener,t.trigger=t.emit,t.pon=t.promiseOn=function(e,t){var i=this,a=Array.prototype.slice.call(arguments,0);return new r(function(t,e){var n=a.concat([function(e){i.off.apply(i,r),t(e)}]),r=n.concat([]);i.on.apply(i,n)})}}};e.exports=i},function(e,t,n){"use strict";e.exports=[{type:"layout",extensions:n(82)},{type:"renderer",extensions:n(115)}]},function(e,t,n){"use strict";function r(e){this.options=i.extend({},a,e)}var i=n(1),fe=n(2),pe=n(0),a={fit:!0,directed:!1,padding:30,circle:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,maximalAdjustments:0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};r.prototype.run=function(){var e=this.options,d=e,t=e.cy,n=d.eles,c=n.nodes().not(":parent"),r=n,h=fe.makeBoundingBox(d.boundingBox?d.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()}),i=void 0;if(pe.elementOrCollection(d.roots))i=d.roots;else if(pe.array(d.roots)){for(var a=[],o=0;o<d.roots.length;o++){var s=d.roots[o],l=t.getElementById(s);a.push(l)}i=t.collection(a)}else if(pe.string(d.roots))i=t.$(d.roots);else if(d.directed)i=c.roots();else{for(var u=[],f=c;0<f.length;)!function(){var a=t.collection();n.bfs({roots:f[0],visit:function(e,t,n,r,i){a=a.add(e)},directed:!1}),f=f.not(a),u.push(a)}();i=t.collection();for(var p=0;p<u.length;p++)!function(e){var t=u[p],n=t.maxDegree(!1),r=t.filter(function(e){return e.degree(!1)===n});i=i.add(r)}()}var v=[],g={},m={},y={},b={},w={};r.bfs({roots:i,directed:d.directed,visit:function(e,t,n,r,i){var a=e[0],o=a.id();if(v[i]||(v[i]=[]),v[i].push(a),g[o]=!0,m[o]=i,y[o]=n,b[o]=t,n){var s=n.id();(w[s]=w[s]||[]).push(e)}}});for(var x=[],E=0;E<c.length;E++){var _=c[E];g[_.id()]||x.push(_)}for(var k=3*x.length,C=0;0!==x.length&&C<k;){for(var T=x.shift(),I=T.neighborhood().nodes(),P=!1,N=0;N<I.length;N++){var S=m[I[N].id()];if(void 0!==S){v[S].push(T),P=!0;break}}P||x.push(T),C++}for(;0!==x.length;){var B=x.shift();0===v.length&&v.push([]),v[0].push(B)}var D=function(){for(var e=0;e<v.length;e++)for(var t=v[e],n=0;n<t.length;n++){t[n]._private.scratch.breadthfirst={depth:e,index:n}}};D();for(var M=0;M<d.maximalAdjustments;M++){for(var L=v.length,A=[],O=0;O<L;O++)for(var R=v[O],z=R.length,j=0;j<z;j++){var V=R[j],F=V._private.scratch.breadthfirst,q=function(t){for(var e=t.connectedEdges(function(e){return e.data("target")===t.id()}),n=t._private.scratch.breadthfirst,r=0,i=void 0,a=0;a<e.length;a++){var o=e[a].source()[0],s=o._private.scratch.breadthfirst;n.depth<=s.depth&&r<s.depth&&(r=s.depth,i=o)}return i}(V);q&&(F.intEle=q,A.push(V))}for(var X=0;X<A.length;X++){var Y=A[X],W=Y._private.scratch.breadthfirst,H=W.intEle._private.scratch.breadthfirst;v[W.depth].splice(W.index,1);for(var U=H.depth+1;U>v.length-1;)v.push([]);v[U].push(Y),W.depth=U,W.index=v[U].length-1}D()}var $=0;if(d.avoidOverlap)for(var G=0;G<c.length;G++){var Z=c[G].layoutDimensions(d),K=Z.w,Q=Z.h;$=Math.max($,K,Q)}for(var J={},ee=function(e){if(J[e.id()])return J[e.id()];for(var t=e._private.scratch.breadthfirst.depth,n=e.neighborhood().nodes().not(":parent").intersection(c),r=0,i=0,a=0;a<n.length;a++){var o=n[a]._private.scratch.breadthfirst,s=o.index,l=o.depth,u=v[l].length;(l<t||0===t)&&(r+=s/u,i++)}return r/=i=Math.max(1,i),0===i&&(r=void 0),J[e.id()]=r},te=function(e,t){return ee(e)-ee(t)},ne=0;ne<3;ne++){for(var re=0;re<v.length;re++)v[re]=v[re].sort(te);D()}for(var ie=0,ae=0;ae<v.length;ae++)ie=Math.max(v[ae].length,ie);for(var oe=h.x1+h.w/2,se=h.x1+h.h/2,le={},ue=v.length-1;0<=ue;ue--)for(var ce=v[ue],de=0;de<ce.length;de++){var he=ce[de];le[he.id()]=function(e,t){var n=e._private.scratch.breadthfirst,r=n.depth,i=n.index,a=v[r].length,o=Math.max(h.w/(a+1),$),s=Math.max(h.h/(v.length+1),$),l=Math.min(h.w/2/v.length,h.h/2/v.length);if(l=Math.max(l,$),d.circle){if(d.circle){var u=l*r+l-(0<v.length&&v[0].length<=3?l/2:0),c=2*Math.PI/v[r].length*i;return 0===r&&1===v[0].length&&(u=1),{x:oe+u*Math.cos(c),y:se+u*Math.sin(c)}}return{x:oe+(i+1-(a+1)/2)*o,y:(r+1)*s}}return{x:oe+(i+1-(a+1)/2)*o,y:(r+1)*s}}(he,v.length)}return c.layoutPositions(this,d,function(e){return le[e.id()]}),this},e.exports=r},function(e,t,n){"use strict";function r(e){this.options=i.extend({},a,e)}var i=n(1),b=n(2),w=n(0),a={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};r.prototype.run=function(){var e=this.options,a=e,t=e.cy,n=a.eles,o=void 0!==a.counterclockwise?!a.counterclockwise:a.clockwise,r=n.nodes().not(":parent");a.sort&&(r=r.sort(a.sort));for(var i=b.makeBoundingBox(a.boundingBox?a.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()}),s=i.x1+i.w/2,l=i.y1+i.h/2,u=(void 0===a.sweep?2*Math.PI-2*Math.PI/r.length:a.sweep)/Math.max(1,r.length-1),c=void 0,d=0,h=0;h<r.length;h++){var f=r[h].layoutDimensions(a),p=f.w,v=f.h;d=Math.max(d,p,v)}if(c=w.number(a.radius)?a.radius:r.length<=1?0:Math.min(i.h,i.w)/2-d,1<r.length&&a.avoidOverlap){d*=1.75;var g=Math.cos(u)-Math.cos(0),m=Math.sin(u)-Math.sin(0),y=Math.sqrt(d*d/(g*g+m*m));c=Math.max(y,c)}return r.layoutPositions(this,a,function(e,t){var n=a.startAngle+t*u*(o?1:-1),r=c*Math.cos(n),i=c*Math.sin(n);return{x:s+r,y:l+i}}),this},e.exports=r},function(e,t,n){"use strict";function r(e){this.options=i.extend({},a,e)}var i=n(1),H=n(2),a={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};r.prototype.run=function(){for(var e=this.options,t=e,n=void 0!==t.counterclockwise?!t.counterclockwise:t.clockwise,r=e.cy,i=t.eles.nodes().not(":parent"),a=H.makeBoundingBox(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),o=a.x1+a.w/2,s=a.y1+a.h/2,l=[],u=(t.startAngle,0),c=0;c<i.length;c++){var d,h=i[c];d=t.concentric(h),l.push({value:d,node:h}),h._private.scratch.concentric=d}i.updateStyle();for(var f=0;f<i.length;f++){var p=i[f].layoutDimensions(t);u=Math.max(u,p.w,p.h)}l.sort(function(e,t){return t.value-e.value});for(var v=t.levelWidth(i),g=[[]],m=g[0],y=0;y<l.length;y++){var b=l[y];0<m.length&&Math.abs(m[0].value-b.value)>=v&&(m=[],g.push(m)),m.push(b)}var w=u+t.minNodeSpacing;if(!t.avoidOverlap){var x=0<g.length&&1<g[0].length,E=(Math.min(a.w,a.h)/2-w)/(g.length+x?1:0);w=Math.min(w,E)}for(var _=0,k=0;k<g.length;k++){var C=g[k],T=void 0===t.sweep?2*Math.PI-2*Math.PI/C.length:t.sweep,I=C.dTheta=T/Math.max(1,C.length-1);if(1<C.length&&t.avoidOverlap){var P=Math.cos(I)-Math.cos(0),N=Math.sin(I)-Math.sin(0),S=Math.sqrt(w*w/(P*P+N*N));_=Math.max(S,_)}C.r=_,_+=w}if(t.equidistant){for(var B=0,D=0,M=0;M<g.length;M++){var L=g[M].r-D;B=Math.max(B,L)}for(var A=D=0;A<g.length;A++){var O=g[A];0===A&&(D=O.r),O.r=D,D+=B}}for(var R={},z=0;z<g.length;z++)for(var j=g[z],V=j.dTheta,F=j.r,q=0;q<j.length;q++){var X=j[q],Y=t.startAngle+(n?1:-1)*V*q,W={x:o+F*Math.cos(Y),y:s+F*Math.sin(Y)};R[X.node.id()]=W}return i.layoutPositions(this,t,function(e){var t=e.id();return R[t]}),this},e.exports=r},function(e,t,n){"use strict";function r(e){this.options=d.extend({},i,e),this.options.layout=this}var c,d=n(1),M=n(2),L=n(0),h=n(5),i={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,t){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1,weaver:!1};r.prototype.run=function(){var t=this.options,n=t.cy,e=this,r=this.thread,i=t.weaver?t.weaver.Thread:null,x={listeners:[],on:function(e,t){return this.listeners.push({event:e,callback:t}),this},trigger:function(t){L.string(t)&&(t={type:t});return this.listeners.filter(function(e){return e.event===t.type}).forEach(function(e){e.callback(t)}),this},pass:function(e){return this.pass=e,this},run:function(t){var n=this.pass;return new h(function(e){e(t(n))})},stop:function(){return this}};r&&!r.stopped()||(r=this.thread=i?new i:x),!(e.stopped=!1)!==t.animate&&!1!==t.animate||e.emit({type:"layoutstart",layout:e}),c=!0===t.debug;var a=f(n,e,t);c&&p(a),t.randomize&&v(a,n);var o=Date.now(),s=!1,l=function(e){e=e||{},s&&!e.next||!e.force&&Date.now()-o<t.animationThreshold||(s=!0,d.requestAnimationFrame(function(){g(a,n,t),!0===t.fit&&n.fit(t.padding),s=!1,e.next&&e.next()}))};r.on("message",function(e){var t=e.message;a.layoutNodes=t,l()}),r.pass({layoutInfo:a,options:{animate:t.animate,refresh:t.refresh,componentSpacing:t.componentSpacing,nodeOverlap:t.nodeOverlap,nestingFactor:t.nestingFactor,gravity:t.gravity,numIter:t.numIter,initialTemp:t.initialTemp,coolingFactor:t.coolingFactor,minTemp:t.minTemp}}).run(function(e){var t,n,r,i,g=e.layoutInfo,a=e.options,o=function(e,t){for(var n=0;n<e.graphSet.length;n++)for(var r=e.graphSet[n],i=r.length,a=0;a<i;a++)for(var o=e.layoutNodes[e.idToIndex[r[a]]],s=a+1;s<i;s++){var l=e.layoutNodes[e.idToIndex[r[s]]];u(o,l,e,t)}},m=function(e){return-e+2*e*Math.random()},u=function(e,t,n,r){if(e.cmptId===t.cmptId||n.isCompound){var i=t.positionX-e.positionX,a=t.positionY-e.positionY;0===i&&0===a&&(i=m(1),a=m(1));var o=y(e,t,i,a);if(0<o)var s=(u=r.nodeOverlap*o)*i/(v=Math.sqrt(i*i+a*a)),l=u*a/v;else{var u,c=b(e,i,a),d=b(t,-1*i,-1*a),h=d.x-c.x,f=d.y-c.y,p=h*h+f*f,v=Math.sqrt(p);s=(u=(e.nodeRepulsion+t.nodeRepulsion)/p)*h/v,l=u*f/v}e.isLocked||(e.offsetX-=s,e.offsetY-=l),t.isLocked||(t.offsetX+=s,t.offsetY+=l)}},y=function(e,t,n,r){if(0<n)var i=e.maxX-t.minX;else i=t.maxX-e.minX;if(0<r)var a=e.maxY-t.minY;else a=t.maxY-e.minY;return 0<=i&&0<=a?Math.sqrt(i*i+a*a):0},b=function(e,t,n){var r=e.positionX,i=e.positionY,a=e.height||1,o=e.width||1,s=n/t,l=a/o,u={};return 0===t&&0<n?(u.x=r,u.y=i+a/2):0===t&&n<0?(u.x=r,u.y=i+a/2):0<t&&-1*l<=s&&s<=l?(u.x=r+o/2,u.y=i+o*n/2/t):t<0&&-1*l<=s&&s<=l?(u.x=r-o/2,u.y=i-o*n/2/t):0<n&&(s<=-1*l||l<=s)?(u.x=r+a*t/2/n,u.y=i+a/2):n<0&&(s<=-1*l||l<=s)&&(u.x=r-a*t/2/n,u.y=i-a/2),u},s=function(e,t){for(var n=0;n<e.edgeSize;n++){var r=e.layoutEdges[n],i=e.idToIndex[r.sourceId],a=e.layoutNodes[i],o=e.idToIndex[r.targetId],s=e.layoutNodes[o],l=s.positionX-a.positionX,u=s.positionY-a.positionY;if(0!==l||0!==u){var c=b(a,l,u),d=b(s,-1*l,-1*u),h=d.x-c.x,f=d.y-c.y,p=Math.sqrt(h*h+f*f),v=Math.pow(r.idealLength-p,2)/r.elasticity;if(0!==p)var g=v*h/p,m=v*f/p;else g=0,m=0;a.isLocked||(a.offsetX+=g,a.offsetY+=m),s.isLocked||(s.offsetX-=g,s.offsetY-=m)}}},l=function(e,t){for(var n=0;n<e.graphSet.length;n++){var r=e.graphSet[n],i=r.length;if(0===n)var a=e.clientHeight/2,o=e.clientWidth/2;else{var s=e.layoutNodes[e.idToIndex[r[0]]],l=e.layoutNodes[e.idToIndex[s.parentId]];a=l.positionX,o=l.positionY}for(var u=0;u<i;u++){var c=e.layoutNodes[e.idToIndex[r[u]]];if(!c.isLocked){var d=a-c.positionX,h=o-c.positionY,f=Math.sqrt(d*d+h*h);if(1<f){var p=t.gravity*d/f,v=t.gravity*h/f;c.offsetX+=p,c.offsetY+=v}}}}},c=function(e,t){var n=[],r=0,i=-1;for(n.push.apply(n,e.graphSet[0]),i+=e.graphSet[0].length;r<=i;){var a=n[r++],o=e.idToIndex[a],s=e.layoutNodes[o],l=s.children;if(0<l.length&&!s.isLocked){for(var u=s.offsetX,c=s.offsetY,d=0;d<l.length;d++){var h=e.layoutNodes[e.idToIndex[l[d]]];h.offsetX+=u,h.offsetY+=c,n[++i]=l[d]}s.offsetX=0,s.offsetY=0}}},d=function(e,t){for(var n=0;n<e.nodeSize;n++){0<(i=e.layoutNodes[n]).children.length&&(i.maxX=void 0,i.minX=void 0,i.maxY=void 0,i.minY=void 0)}for(n=0;n<e.nodeSize;n++){if(!(0<(i=e.layoutNodes[n]).children.length||i.isLocked)){var r=h(i.offsetX,i.offsetY,e.temperature);i.positionX+=r.x,i.positionY+=r.y,i.offsetX=0,i.offsetY=0,i.minX=i.positionX-i.width,i.maxX=i.positionX+i.width,i.minY=i.positionY-i.height,i.maxY=i.positionY+i.height,f(i,e)}}for(n=0;n<e.nodeSize;n++){var i;0<(i=e.layoutNodes[n]).children.length&&!i.isLocked&&(i.positionX=(i.maxX+i.minX)/2,i.positionY=(i.maxY+i.minY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY)}},h=function(e,t,n){var r=Math.sqrt(e*e+t*t);if(n<r)var i={x:n*e/r,y:n*t/r};else i={x:e,y:t};return i},f=function e(t,n){var r=t.parentId;if(null!=r){var i=n.layoutNodes[n.idToIndex[r]],a=!1;return(null==i.maxX||t.maxX+i.padRight>i.maxX)&&(i.maxX=t.maxX+i.padRight,a=!0),(null==i.minX||t.minX-i.padLeft<i.minX)&&(i.minX=t.minX-i.padLeft,a=!0),(null==i.maxY||t.maxY+i.padBottom>i.maxY)&&(i.maxY=t.maxY+i.padBottom,a=!0),(null==i.minY||t.minY-i.padTop<i.minY)&&(i.minY=t.minY-i.padTop,a=!0),a?e(i,n):void 0}},p=0;do{for(var v=0;v<a.refresh&&p<a.numIter;){var w;if(!(w=(i=r=void 0,o(r=g,i=a),s(r,i),l(r,i),c(r,i),d(r,i),g.temperature=g.temperature*a.coolingFactor,!(g.temperature<a.minTemp))))break;v++,p++}!0===a.animate&&(t=g.layoutNodes,void 0,n={type:"message",message:t},x.trigger(n))}while(w&&p+1<a.numIter);return function(e,t){for(var n=g.layoutNodes,r=[],i=0;i<n.length;i++){var a=n[i],o=a.cmptId;(r[o]=r[o]||[]).push(a)}var s=0;for(i=0;i<r.length;i++){if(v=r[i]){v.x1=1/0,v.x2=-1/0,v.y1=1/0,v.y2=-1/0;for(var l=0;l<v.length;l++){var u=v[l];v.x1=Math.min(v.x1,u.positionX-u.width/2),v.x2=Math.max(v.x2,u.positionX+u.width/2),v.y1=Math.min(v.y1,u.positionY-u.height/2),v.y2=Math.max(v.y2,u.positionY+u.height/2)}v.w=v.x2-v.x1,v.h=v.y2-v.y1,s+=v.w*v.h}}r.sort(function(e,t){return t.w*t.h-e.w*e.h});var c=0,d=0,h=0,f=0,p=Math.sqrt(s)*g.clientWidth/g.clientHeight;for(i=0;i<r.length;i++){var v;if(v=r[i]){for(l=0;l<v.length;l++){(u=v[l]).isLocked||(u.positionX+=c,u.positionY+=d)}c+=v.w+t.componentSpacing,h+=v.w+t.componentSpacing,f=Math.max(f,v.h),p<h&&(d+=f+t.componentSpacing,f=h=c=0)}}}(0,a),g}).then(function(e){a.layoutNodes=e.layoutNodes,r.stop(),u()});var u=function(){!0===t.animate||!1===t.animate?l({force:!0,next:function(){e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e})}}):t.eles.nodes().layoutPositions(e,t,function(e){var t=a.layoutNodes[a.idToIndex[e.data("id")]];return{x:t.positionX,y:t.positionY}})};return this},r.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},r.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var f=function(e,t,n){for(var r=n.eles.edges(),i=n.eles.nodes(),a={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:i.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:r.size(),temperature:n.initialTemp,clientWidth:e.width(),clientHeight:e.width(),boundingBox:M.makeBoundingBox(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()})},o=n.eles.components(),s={},l=0;l<o.length;l++)for(var u=o[l],c=0;c<u.length;c++){s[u[c].id()]=l}for(l=0;l<a.nodeSize;l++){var d=(g=i[l]).layoutDimensions(n);(D={}).isLocked=g.locked(),D.id=g.data("id"),D.parentId=g.data("parent"),D.cmptId=s[g.id()],D.children=[],D.positionX=g.position("x"),D.positionY=g.position("y"),D.offsetX=0,D.offsetY=0,D.height=d.w,D.width=d.h,D.maxX=D.positionX+D.width/2,D.minX=D.positionX-D.width/2,D.maxY=D.positionY+D.height/2,D.minY=D.positionY-D.height/2,D.padLeft=parseFloat(g.style("padding")),D.padRight=parseFloat(g.style("padding")),D.padTop=parseFloat(g.style("padding")),D.padBottom=parseFloat(g.style("padding")),D.nodeRepulsion=L.fn(n.nodeRepulsion)?n.nodeRepulsion(g):n.nodeRepulsion,a.layoutNodes.push(D),a.idToIndex[D.id]=l}var h=[],f=0,p=-1,v=[];for(l=0;l<a.nodeSize;l++){var g,m=(g=a.layoutNodes[l]).parentId;null!=m?a.layoutNodes[a.idToIndex[m]].children.push(g.id):(h[++p]=g.id,v.push(g.id))}for(a.graphSet.push(v);f<=p;){var y=h[f++],b=a.idToIndex[y],w=a.layoutNodes[b].children;if(0<w.length){a.graphSet.push(w);for(l=0;l<w.length;l++)h[++p]=w[l]}}for(l=0;l<a.graphSet.length;l++){var x=a.graphSet[l];for(c=0;c<x.length;c++){var E=a.idToIndex[x[c]];a.indexToGraph[E]=l}}for(l=0;l<a.edgeSize;l++){var _=r[l],k={};k.id=_.data("id"),k.sourceId=_.data("source"),k.targetId=_.data("target");var C=L.fn(n.idealEdgeLength)?n.idealEdgeLength(_):n.idealEdgeLength,T=L.fn(n.edgeElasticity)?n.edgeElasticity(_):n.edgeElasticity,I=a.idToIndex[k.sourceId],P=a.idToIndex[k.targetId];if(a.indexToGraph[I]!=a.indexToGraph[P]){for(var N=A(k.sourceId,k.targetId,a),S=a.graphSet[N],B=0,D=a.layoutNodes[I];-1===S.indexOf(D.id);)D=a.layoutNodes[a.idToIndex[D.parentId]],B++;for(D=a.layoutNodes[P];-1===S.indexOf(D.id);)D=a.layoutNodes[a.idToIndex[D.parentId]],B++;C*=B*n.nestingFactor}k.idealLength=C,k.elasticity=T,a.layoutEdges.push(k)}return a},A=function(e,t,n){var r=a(e,t,0,n);return r.count<2?0:r.graph},a=function e(t,n,r,i){var a=i.graphSet[r];if(-1<a.indexOf(t)&&-1<a.indexOf(n))return{count:2,graph:r};for(var o=0,s=0;s<a.length;s++){var l=a[s],u=i.idToIndex[l],c=i.layoutNodes[u].children;if(0!==c.length){var d=e(t,n,i.indexToGraph[i.idToIndex[c[0]]],i);if(0!==d.count){if(1!==d.count)return d;if(2==++o)break}}}return{count:o,graph:r}},p=function(e){if(c){console.debug("layoutNodes:");for(var t=0;t<e.nodeSize;t++){var n=e.layoutNodes[t],r="\nindex: "+t+"\nId: "+n.id+"\nChildren: "+n.children.toString()+"\nparentId: "+n.parentId+"\npositionX: "+n.positionX+"\npositionY: "+n.positionY+"\nOffsetX: "+n.offsetX+"\nOffsetY: "+n.offsetY+"\npadLeft: "+n.padLeft+"\npadRight: "+n.padRight+"\npadTop: "+n.padTop+"\npadBottom: "+n.padBottom;console.debug(r)}for(var t in console.debug("idToIndex"),e.idToIndex)console.debug("Id: "+t+"\nIndex: "+e.idToIndex[t]);console.debug("Graph Set");var i=e.graphSet;for(t=0;t<i.length;t++)console.debug("Set : "+t+": "+i[t].toString());for(r="IndexToGraph",t=0;t<e.indexToGraph.length;t++)r+="\nIndex : "+t+" Graph: "+e.indexToGraph[t];console.debug(r),r="Layout Edges";for(t=0;t<e.layoutEdges.length;t++){var a=e.layoutEdges[t];r+="\nEdge Index: "+t+" ID: "+a.id+" SouceID: "+a.sourceId+" TargetId: "+a.targetId+" Ideal Length: "+a.idealLength}console.debug(r),r="nodeSize: "+e.nodeSize,r+="\nedgeSize: "+e.edgeSize,r+="\ntemperature: "+e.temperature,console.debug(r)}},v=function(e,t){for(var n=e.clientWidth,r=e.clientHeight,i=0;i<e.nodeSize;i++){var a=e.layoutNodes[i];0!==a.children.length||a.isLocked||(a.positionX=Math.random()*n,a.positionY=Math.random()*r)}},g=function(a,e,o){var t=o.layout,n=o.eles.nodes(),s=a.boundingBox,l={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};o.boundingBox&&(n.forEach(function(e){var t=a.layoutNodes[a.idToIndex[e.data("id")]];l.x1=Math.min(l.x1,t.positionX),l.x2=Math.max(l.x2,t.positionX),l.y1=Math.min(l.y1,t.positionY),l.y2=Math.max(l.y2,t.positionY)}),l.w=l.x2-l.x1,l.h=l.y2-l.y1),n.positions(function(e,t){var n=a.layoutNodes[a.idToIndex[e.data("id")]];if(o.boundingBox){var r=(n.positionX-l.x1)/l.w,i=(n.positionY-l.y1)/l.h;return{x:s.x1+r*s.w,y:s.y1+i*s.h}}return{x:n.positionX,y:n.positionY}}),!0!==a.ready&&(a.ready=!0,t.one("layoutready",o.ready),t.emit({type:"layoutready",layout:this}))};e.exports=r},function(e,t,n){"use strict";function r(e){this.options=i.extend({},a,e)}var i=n(1),R=n(2),a={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};r.prototype.run=function(){var e=this.options,t=e,n=e.cy,r=t.eles.nodes().not(":parent");t.sort&&(r=r.sort(t.sort));var a=R.makeBoundingBox(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()});if(0===a.h||0===a.w)r.layoutPositions(this,t,function(e){return{x:a.x1,y:a.y1}});else{var i=r.size(),o=Math.sqrt(i*a.h/a.w),s=Math.round(o),l=Math.round(a.w/a.h*o),u=function(e){return null==e?Math.min(s,l):void(Math.min(s,l)==s?s=e:l=e)},c=function(e){return null==e?Math.max(s,l):void(Math.max(s,l)==s?s=e:l=e)},d=t.rows,h=null!=t.cols?t.cols:t.columns;if(null!=d&&null!=h)s=d,l=h;else if(null!=d&&null==h)s=d,l=Math.ceil(i/s);else if(null==d&&null!=h)l=h,s=Math.ceil(i/l);else if(i<l*s){var f=u(),p=c();i<=(f-1)*p?u(f-1):i<=(p-1)*f&&c(p-1)}else for(;l*s<i;){var v=u(),g=c();i<=(g+1)*v?c(g+1):u(v+1)}var m=a.w/l,y=a.h/s;if(t.condense&&(y=m=0),t.avoidOverlap)for(var b=0;b<r.length;b++){var w=r[b],x=w._private.position;null!=x.x&&null!=x.y||(x.x=0,x.y=0);var E=w.layoutDimensions(t),_=t.avoidOverlapPadding,k=E.w+_,C=E.h+_;m=Math.max(m,k),y=Math.max(y,C)}for(var T={},I=function(e,t){return!!T["c-"+e+"-"+t]},P=function(e,t){T["c-"+e+"-"+t]=!0},N=0,S=0,B=function(){++S>=l&&(S=0,N++)},D={},M=0;M<r.length;M++){var L=r[M],A=t.position(L);if(A&&(void 0!==A.row||void 0!==A.col)){var O={row:A.row,col:A.col};if(void 0===O.col)for(O.col=0;I(O.row,O.col);)O.col++;else if(void 0===O.row)for(O.row=0;I(O.row,O.col);)O.row++;D[L.id()]=O,P(O.row,O.col)}}r.layoutPositions(this,t,function(e,t){var n=void 0,r=void 0;if(e.locked()||e.isParent())return!1;var i=D[e.id()];if(i)n=i.col*m+m/2+a.x1,r=i.row*y+y/2+a.y1;else{for(;I(N,S);)B();n=S*m+m/2+a.x1,r=N*y+y/2+a.y1,P(N,S),B()}return{x:n,y:r}})}return this},e.exports=r},function(e,t,n){"use strict";e.exports=[{name:"breadthfirst",impl:n(77)},{name:"circle",impl:n(78)},{name:"concentric",impl:n(79)},{name:"cose",impl:n(80)},{name:"grid",impl:n(81)},{name:"null",impl:n(83)},{name:"preset",impl:n(84)},{name:"random",impl:n(85)}]},function(e,t,n){"use strict";function r(e){this.options=i.extend({},a,e)}var i=n(1),a={ready:function(){},stop:function(){}};r.prototype.run=function(){var e=this.options,t=e.eles;return e.cy,this.emit("layoutstart"),t.nodes().positions(function(){return{x:0,y:0}}),this.one("layoutready",e.ready),this.emit("layoutready"),this.one("layoutstop",e.stop),this.emit("layoutstop"),this},r.prototype.stop=function(){return this},e.exports=r},function(e,t,n){"use strict";function r(e){this.options=i.extend({},o,e)}var i=n(1),a=n(0),o={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};r.prototype.run=function(){var r=this.options,e=r.eles.nodes(),i=a.fn(r.positions);return e.layoutPositions(this,r,function(e,t){var n=function(e){if(null==r.positions)return null;if(i)return r.positions(e);var t=r.positions[e._private.data.id];return null==t?null:t}(e);return!e.locked()&&null!=n&&n}),this},e.exports=r},function(e,t,n){"use strict";function r(e){this.options=i.extend({},o,e)}var i=n(1),a=n(2),o={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};r.prototype.run=function(){var e=this.options,t=e.cy,n=e.eles.nodes().not(":parent"),r=a.makeBoundingBox(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()});return n.layoutPositions(this,e,function(e,t){return{x:r.x1+Math.round(Math.random()*r.w),y:r.y1+Math.round(Math.random()*r.h)}}),this},e.exports=r},function(e,t,n){"use strict";var h=n(2),a=n(0),o=n(1),r={arrowShapeWidth:.3,registerArrowShapes:function(){var n=this.arrowShapes={},l=this,r=function(e,t,n,r,i,a,o){var s=i.x-n/2-o,l=i.x+n/2+o,u=i.y-n/2-o,c=i.y+n/2+o;return s<=e&&e<=l&&u<=t&&t<=c},u=function(e,t,n,r,i){var a=e*Math.cos(r)-t*Math.sin(r),o=(e*Math.sin(r)+t*Math.cos(r))*n;return{x:a*n+i.x,y:o+i.y}},c=function(e,t,n,r){for(var i=[],a=0;a<e.length;a+=2){var o=e[a],s=e[a+1];i.push(u(o,s,t,n,r))}return i},d=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r.x,r.y)}return t},i=function(e){return e.pstyle("width").pfValue*e.pstyle("arrow-scale").pfValue*2},e=function(e,t){a.string(t)&&(t=n[t]),n[e]=o.extend({name:e,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(e,t,n,r,i,a){var o=d(c(this.points,n+2*a,r,i));return h.pointInsidePolygonPoints(e,t,o)},roughCollide:r,draw:function(e,t,n,r){var i=c(this.points,t,n,r);l.arrowShapeImpl("polygon")(e,i)},spacing:function(e){return 0},gap:i},t)};e("none",{collide:o.falsify,roughCollide:o.falsify,draw:o.noop,spacing:o.zeroify,gap:o.zeroify}),e("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),e("arrow","triangle"),e("triangle-backcurve",{points:n.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:function(e,t,n,r,i){var a=c(this.points,t,n,r),o=this.controlPoint,s=u(o[0],o[1],t,n,r);l.arrowShapeImpl(this.name)(e,a,s)},gap:function(e){return.985*i(e)}}),e("triangle-tee",{points:[-.15,-.3,0,0,.15,-.3,-.15,-.3],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(e,t,n,r,i,a,o){var s=d(c(this.points,n+2*o,r,i)),l=d(c(this.pointsTee,n+2*o,r,i));return h.pointInsidePolygonPoints(e,t,s)||h.pointInsidePolygonPoints(e,t,l)},draw:function(e,t,n,r,i){var a=c(this.points,t,n,r),o=c(this.pointsTee,t,n,r);l.arrowShapeImpl(this.name)(e,a,o)}}),e("triangle-cross",{points:[-.15,-.3,0,0,.15,-.3,-.15,-.3],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(e,t){var n=this.baseCrossLinePts.slice(),r=t/e;return n[3]=n[3]-r,n[5]=n[5]-r,n},collide:function(e,t,n,r,i,a,o){var s=d(c(this.points,n+2*o,r,i)),l=d(c(this.crossLinePts(n,a),n+2*o,r,i));return h.pointInsidePolygonPoints(e,t,s)||h.pointInsidePolygonPoints(e,t,l)},draw:function(e,t,n,r,i){var a=c(this.points,t,n,r),o=c(this.crossLinePts(t,i),t,n,r);l.arrowShapeImpl(this.name)(e,a,o)}}),e("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(e){return.985*i(e)}}),e("circle",{radius:.15,collide:function(e,t,n,r,i,a,o){var s=i;return Math.pow(s.x-e,2)+Math.pow(s.y-t,2)<=Math.pow((n+2*o)*this.radius,2)},draw:function(e,t,n,r,i){l.arrowShapeImpl(this.name)(e,r.x,r.y,this.radius*t)},spacing:function(e){return l.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.radius}}),e("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(e){return 1},gap:function(e){return 1}}),e("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),e("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(e){return e.pstyle("width").pfValue*e.pstyle("arrow-scale").value}})}};e.exports=r},function(e,t,n){"use strict";var x=n(4),D=n(2),d=n(1),r=(x=n(4),{projectIntoViewport:function(e,t){var n=this.cy,r=this.findContainerClientCoords(),i=r[0],a=r[1],o=r[4],s=n.pan(),l=n.zoom();return[((e-i)/o-s.x)/l,((t-a)/o-s.y)/l]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var e=this.container,t=e.getBoundingClientRect(),n=x.getComputedStyle(e),r=function(e){return parseFloat(n.getPropertyValue(e))},i=r("padding-left"),a=r("padding-right"),o=r("padding-top"),s=r("padding-bottom"),l=r("border-left-width"),u=r("border-right-width"),c=r("border-top-width"),d=(r("border-bottom-width"),e.clientWidth),h=e.clientHeight,f=i+a,p=o+s,v=l+u,g=t.width/(d+v),m=d-f,y=h-p,b=(t.width,t.height,t.left+i+l),w=t.top+o+c;return this.containerBB=[b,w,m,y,g]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(e,t,n,r){return this.findNearestElements(e,t,n,r)[0]},findNearestElements:function(I,P,e,t){function N(e,t){if(e.isNode()){if(i)return;i=e,x.push(e)}if(e.isEdge()&&(null==t||t<l))if(r){if(r.pstyle("z-index").value===e.pstyle("z-index").value)for(var n=0;n<x.length;n++)if(x[n].isEdge()){x[n]=e,r=e,l=null!=t?t:l;break}}else x.push(e),r=e,l=null!=t?t:l}function y(e){var t=e.outerWidth()+2*s,n=e.outerHeight()+2*s,r=t/2,i=n/2,a=e.position();if(a.x-r<=I&&I<=a.x+r&&a.y-i<=P&&P<=a.y+i&&w.nodeShapes[b.getNodeShape(e)].checkPoint(I,P,0,t,n,a.x,a.y))return N(e,0),!0}function S(e,t,n){return d.getPrefixedProperty(e,t,n)}function n(e,t){var n,r=e._private,i=B;n=t?t+"-":"";var a=e.pstyle(n+"label").value;if("yes"===e.pstyle("text-events").strValue&&a){var o=r.rstyle,s=e.pstyle("text-border-width").pfValue,l=e.pstyle("text-background-padding").pfValue,u=S(o,"labelWidth",t)+s+2*i+2*l,c=S(o,"labelHeight",t)+s+2*i+2*l,d=S(o,"labelX",t),h=S(o,"labelY",t),f=S(r.rscratch,"labelAngle",t),p=d-u/2,v=d+u/2,g=h-c/2,m=h+c/2;if(f){var y=Math.cos(f),b=Math.sin(f),w=function(e,t){return{x:(e-=d)*y-(t-=h)*b+d,y:e*b+t*y+h}},x=w(p,g),E=w(p,m),_=w(v,g),k=w(v,m),C=[x.x,x.y,_.x,_.y,k.x,k.y,E.x,E.y];if(D.pointInsidePolygonPoints(I,P,C))return N(e),!0}else{var T={w:u,h:c,x1:p,x2:v,y1:g,y2:m};if(D.inBoundingBox(T,I,P))return N(e),!0}}}var r,i,b=this,w=this,a=w.getCachedZSortedEles(),x=[],o=w.cy.zoom(),E=w.cy.hasCompoundNodes(),_=(t?24:8)/o,s=(t?8:2)/o,B=(t?8:2)/o,l=1/0;e&&(a=a.interactive);for(var u=a.length-1;0<=u;u--){var c=a[u];c.isNode()?y(c)||n(c):function(e){var t,n=e._private,r=n.rscratch,i=e.pstyle("width").pfValue,a=e.pstyle("arrow-scale").value,o=i/2+_,s=o*o,l=2*o,u=n.source,c=n.target;if("segments"===r.edgeType||"straight"===r.edgeType||"haystack"===r.edgeType){for(var d=r.allpts,h=0;h+3<d.length;h+=2)if(D.inLineVicinity(I,P,d[h],d[h+1],d[h+2],d[h+3],l)&&s>(t=D.sqdistToFiniteLine(I,P,d[h],d[h+1],d[h+2],d[h+3])))return N(e,t),!0}else if("bezier"===r.edgeType||"multibezier"===r.edgeType||"self"===r.edgeType||"compound"===r.edgeType)for(d=r.allpts,h=0;h+5<r.allpts.length;h+=4)if(D.inBezierVicinity(I,P,d[h],d[h+1],d[h+2],d[h+3],d[h+4],d[h+5],l)&&s>(t=D.sqdistToQuadraticBezier(I,P,d[h],d[h+1],d[h+2],d[h+3],d[h+4],d[h+5])))return N(e,t),!0;u=u||n.source,c=c||n.target;var f=b.getArrowWidth(i,a),p=[{name:"source",x:r.arrowStartX,y:r.arrowStartY,angle:r.srcArrowAngle},{name:"target",x:r.arrowEndX,y:r.arrowEndY,angle:r.tgtArrowAngle},{name:"mid-source",x:r.midX,y:r.midY,angle:r.midsrcArrowAngle},{name:"mid-target",x:r.midX,y:r.midY,angle:r.midtgtArrowAngle}];for(h=0;h<p.length;h++){var v=p[h],g=w.arrowShapes[e.pstyle(v.name+"-arrow-shape").value],m=e.pstyle("width").pfValue;if(g.roughCollide(I,P,f,v.angle,{x:v.x,y:v.y},m,_)&&g.collide(I,P,f,v.angle,{x:v.x,y:v.y},m,_))return N(e),!0}E&&0<x.length&&(y(u),y(c))}(c)||n(c)||n(c,"source")||n(c,"target")}return x},getAllInBox:function(e,t,n,r){var i=this.getCachedZSortedEles().interactive,a=[],o=Math.min(e,n),s=Math.max(e,n),l=Math.min(t,r),u=Math.max(t,r);e=o,n=s,t=l,r=u;for(var c=D.makeBoundingBox({x1:e,y1:t,x2:n,y2:r}),d=0;d<i.length;d++){var h=i[d];if(h.isNode()){var f=h,p=f.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});D.boundingBoxesIntersect(c,p)&&!D.boundingBoxInBoundingBox(p,c)&&a.push(f)}else{var v=h,g=v._private,m=g.rscratch;if(null!=m.startX&&null!=m.startY&&!D.inBoundingBox(c,m.startX,m.startY))continue;if(null!=m.endX&&null!=m.endY&&!D.inBoundingBox(c,m.endX,m.endY))continue;if("bezier"===m.edgeType||"multibezier"===m.edgeType||"self"===m.edgeType||"compound"===m.edgeType||"segments"===m.edgeType||"haystack"===m.edgeType){for(var y=g.rstyle.bezierPts||g.rstyle.linePts||g.rstyle.haystackPts,b=!0,w=0;w<y.length;w++)if(!D.pointInBoundingBox(c,y[w])){b=!1;break}b&&a.push(v)}else"haystack"!==m.edgeType&&"straight"!==m.edgeType||a.push(v)}}return a}});e.exports=r},function(e,t,n){"use strict";var P=n(2),r={calculateArrowAngles:function(e){var t,n,r,i,a,o,s=e._private.rscratch,l="haystack"===s.edgeType,u="bezier"===s.edgeType,c="multibezier"===s.edgeType,d="segments"===s.edgeType,h="compound"===s.edgeType,f="self"===s.edgeType;if(o=l?(r=s.haystackPts[0],i=s.haystackPts[1],a=s.haystackPts[2],s.haystackPts[3]):(r=s.arrowStartX,i=s.arrowStartY,a=s.arrowEndX,s.arrowEndY),v=s.midX,g=s.midY,d)t=r-s.segpts[0],n=i-s.segpts[1];else if(c||h||f||u){var p=s.allpts;t=r-P.qbezierAt(p[0],p[2],p[4],.1),n=i-P.qbezierAt(p[1],p[3],p[5],.1)}else t=r-v,n=i-g;s.srcArrowAngle=P.getAngleFromDisp(t,n);var v=s.midX,g=s.midY;if(l&&(v=(r+a)/2,g=(i+o)/2),t=a-r,n=o-i,d)if((p=s.allpts).length/2%2==0){var m=(y=p.length/2)-2;t=p[y]-p[m],n=p[y+1]-p[m+1]}else{m=(y=p.length/2-1)-2;var y,b=y+2;t=p[y]-p[m],n=p[y+1]-p[m+1]}else if(c||h||f){var w,x,E,_,p=s.allpts;if(s.ctrlpts.length/2%2==0){var k=(C=(T=p.length/2-1)+2)+2;w=P.qbezierAt(p[T],p[C],p[k],0),x=P.qbezierAt(p[T+1],p[C+1],p[k+1],0),E=P.qbezierAt(p[T],p[C],p[k],1e-4),_=P.qbezierAt(p[T+1],p[C+1],p[k+1],1e-4)}else{var C,T=(C=p.length/2-1)-2;k=C+2;w=P.qbezierAt(p[T],p[C],p[k],.4999),x=P.qbezierAt(p[T+1],p[C+1],p[k+1],.4999),E=P.qbezierAt(p[T],p[C],p[k],.5),_=P.qbezierAt(p[T+1],p[C+1],p[k+1],.5)}t=E-w,n=_-x}(s.midtgtArrowAngle=P.getAngleFromDisp(t,n),s.midDispX=t,s.midDispY=n,t*=-1,n*=-1,d)&&((p=s.allpts).length/2%2==0||(t=-(p[b=(y=p.length/2-1)+2]-p[y]),n=-(p[b+1]-p[y+1])));if(s.midsrcArrowAngle=P.getAngleFromDisp(t,n),d)t=a-s.segpts[s.segpts.length-2],n=o-s.segpts[s.segpts.length-1];else if(c||h||f||u){var I=(p=s.allpts).length;t=a-P.qbezierAt(p[I-6],p[I-4],p[I-2],.9),n=o-P.qbezierAt(p[I-5],p[I-3],p[I-1],.9)}else t=a-v,n=o-g;s.tgtArrowAngle=P.getAngleFromDisp(t,n)}};r.getArrowWidth=r.getArrowHeight=function(e,t){var n=this.arrowWidthCache=this.arrowWidthCache||{},r=n[e+", "+t];return r||(r=Math.max(Math.pow(13.37*e,.9),29)*t,n[e+", "+t]=r)},e.exports=r},function(e,t,n){"use strict";function r(e){var t=[];if(null!=e){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];t.push({x:r,y:i})}return t}}var Zt=n(2),Kt=n(0),i={findEdgeControlPoints:function(e){if(e&&0!==e.length){for(var t,n=this.cy.hasCompoundNodes(),r={},i=[],a=[],o=0;o<e.length;o++){var s=(Rt=(Ot=e[o])._private).data,l="unbundled-bezier"===(S=Ot.pstyle("curve-style").value)||"segments"===S,u="unbundled-bezier"===S||"bezier"===S;if("none"!==Ot.pstyle("display").value)if("haystack"!==S){var c=s.source,d=s.target;t=d<c?d+"$-$"+c:c+"$-$"+d,l&&(t="unbundled$-$"+s.id);var h=r[t];null==h&&(h=r[t]=[],i.push(t)),h.push(Ot),l&&(h.hasUnbundled=!0),u&&(h.hasBezier=!0)}else a.push(Ot)}for(var f,p,v,g,m=0;m<i.length;m++){var y=r[t=i[m]];if(y.sort(function(e,t){return e.poolIndex()-t.poolIndex()}),Ft=y[0]._private.source,qt=y[0]._private.target,!y.hasUnbundled&&Ft.id()>qt.id()){var b=Ft;Ft=qt,qt=b}Xt=Ft.position(),Yt=qt.position(),Wt=Ft.outerWidth(),Ut=Ft.outerHeight(),Ht=qt.outerWidth(),$t=qt.outerHeight(),f=this.nodeShapes[this.getNodeShape(Ft)],p=this.nodeShapes[this.getNodeShape(qt)],g=!1;var w={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0},x=Xt.x,E=Xt.y,_=Wt,k=Ut,C=Yt.x,T=Yt.y,I=Ht,P=$t,N=y.length;for(o=0;o<y.length;o++){var S,B,D=(jt=(Ot=y[o])._private.rscratch).lastEdgeIndex,M=o,L=jt.lastNumEdges,A=(l="unbundled-bezier"===(S=Ot.pstyle("curve-style").value)||"segments"===S,Ft.id()!==Ot.source().id()),O=Ot.pstyle("control-point-distances"),R=Ot.pstyle("loop-direction").pfValue,z=Ot.pstyle("loop-sweep").pfValue,j=Ot.pstyle("control-point-weights"),V=O&&j?Math.min(O.value.length,j.value.length):1,F=Ot.pstyle("control-point-step-size").pfValue,q=O?O.pfValue[0]:void 0,X=j.value[0],Y=Ot.pstyle("edge-distances").value,W=Ot.pstyle("segment-weights"),H=Ot.pstyle("segment-distances"),U=Math.min(W.pfValue.length,H.pfValue.length),$=Ot.pstyle("source-endpoint").value,G=Ot.pstyle("target-endpoint").value,Z=Ot.pstyle("source-arrow-shape").value,K=Ot.pstyle("target-arrow-shape").value,Q=Ot.pstyle("arrow-scale").value,J=Ot.pstyle("width").pfValue,ee=jt.lastSrcCtlPtX,te=jt.lastSrcCtlPtY,ne=jt.lastSrcCtlPtW,re=jt.lastSrcCtlPtH,ie=jt.lastTgtCtlPtX,ae=jt.lastTgtCtlPtY,oe=jt.lastTgtCtlPtW,se=jt.lastTgtCtlPtH,le=jt.lastCurveStyle,ue=S,ce=jt.lastCtrlptDists,de=O?O.strValue:null,he=jt.lastCtrlptWs,fe=j.strValue,pe=jt.lastSegmentWs,ve=W.strValue,ge=jt.lastSegmentDs,me=H.strValue,ye=jt.lastStepSize,be=F,we=jt.lastLoopDir,xe=R,Ee=jt.lastLoopSwp,_e=z,ke=jt.lastEdgeDistances,Ce=Y,Te=jt.lastSrcEndpt,Ie=$,Pe=jt.lastTgtEndpt,Ne=G,Se=jt.lastSrcArr,Be=Z,De=jt.lastTgtArr,Me=K,Le=jt.lastLineW,Ae=J,Oe=jt.lastArrScl,Re=Q;if(jt.badBezier=!!g,ee===x&&te===E&&ne===_&&re===k&&ie===C&&ae===T&&oe===I&&se===P&&le===ue&&ce===de&&he===fe&&pe===ve&&ge===me&&ye===be&&we===xe&&Ee===_e&&ke===Ce&&Te===Ie&&Pe===Ne&&Se===Be&&De===Me&&Le===Ae&&Oe===Re&&(D===M&&L===N||l)?B=!0:(B=!1,jt.lastSrcCtlPtX=x,jt.lastSrcCtlPtY=E,jt.lastSrcCtlPtW=_,jt.lastSrcCtlPtH=k,jt.lastTgtCtlPtX=C,jt.lastTgtCtlPtY=T,jt.lastTgtCtlPtW=I,jt.lastTgtCtlPtH=P,jt.lastEdgeIndex=M,jt.lastNumEdges=N,jt.lastCurveStyle=ue,jt.lastCtrlptDists=de,jt.lastCtrlptWs=fe,jt.lastSegmentDs=me,jt.lastSegmentWs=ve,jt.lastStepSize=be,jt.lastLoopDir=xe,jt.lastLoopSwp=_e,jt.lastEdgeDistances=Ce,jt.lastSrcEndpt=Ie,jt.lastTgtEndpt=Ne,jt.lastSrcArr=Be,jt.lastTgtArr=Me,jt.lastLineW=Ae,jt.lastArrScl=Re),!B){if(!y.calculatedIntersection&&Ft!==qt&&(y.hasBezier||y.hasUnbundled)){y.calculatedIntersection=!0;var ze=f.intersectLine(Xt.x,Xt.y,Wt,Ut,Yt.x,Yt.y,0);y.srcIntn=ze;var je=p.intersectLine(Yt.x,Yt.y,Ht,$t,Xt.x,Xt.y,0);y.tgtIntn=je;var Ve={x1:ze[0],x2:je[0],y1:ze[1],y2:je[1]},Fe={x1:Xt.x,x2:Yt.x,y1:Xt.y,y2:Yt.y},qe=je[1]-ze[1],Xe=je[0]-ze[0],Ye=Math.sqrt(Xe*Xe+qe*qe),We={x:Xe/Ye,y:qe/Ye};v={x:-We.y,y:We.x},p.checkPoint(ze[0],ze[1],0,Ht,$t,Yt.x,Yt.y)&&f.checkPoint(je[0],je[1],0,Wt,Ut,Xt.x,Xt.y)&&(v={},g=!0)}if(jt.tgtIntn=A?(jt.srcIntn=y.tgtIntn,y.srcIntn):(jt.srcIntn=y.srcIntn,y.tgtIntn),Ft===qt){jt.edgeType="self";var He=o,Ue=F;l&&(He=0,Ue=q);var $e=R-Math.PI/2,Ge=$e-z/2,Ze=$e+z/2,Ke=String(R+"_"+z);He=void 0===w[Ke]?w[Ke]=0:++w[Ke],jt.ctrlpts=[Xt.x+1.4*Math.cos(Ge)*Ue*(He/3+1),Xt.y+1.4*Math.sin(Ge)*Ue*(He/3+1),Xt.x+1.4*Math.cos(Ze)*Ue*(He/3+1),Xt.y+1.4*Math.sin(Ze)*Ue*(He/3+1)]}else if(n&&(Ft.isParent()||Ft.isChild()||qt.isParent()||qt.isChild())&&(Ft.parents().anySame(qt)||qt.parents().anySame(Ft))){jt.edgeType="compound",jt.badBezier=!1;He=o,Ue=F;l&&(He=0,Ue=q);var Qe={x:Xt.x-Wt/2,y:Xt.y-Ut/2},Je={x:Yt.x-Ht/2,y:Yt.y-$t/2},et={x:Math.min(Qe.x,Je.x),y:Math.min(Qe.y,Je.y)},tt=Math.max(.5,Math.log(.01*Wt)),nt=Math.max(.5,Math.log(.01*Ht));jt.ctrlpts=[et.x,et.y-(1+Math.pow(50,1.12)/100)*Ue*(He/3+1)*tt,et.x-(1+Math.pow(50,1.12)/100)*Ue*(He/3+1)*nt,et.y]}else if("segments"===S){jt.edgeType="segments",jt.segpts=[];for(var rt=0;rt<U;rt++){var it=W.pfValue[rt],at=H.pfValue[rt],ot=1-it,st=it,lt={x:(vt="node-position"===Y?Fe:Ve).x1*ot+vt.x2*st,y:vt.y1*ot+vt.y2*st};jt.segpts.push(lt.x+v.x*at,lt.y+v.y*at)}}else if(y.length%2!=1||o!==Math.floor(y.length/2)||l){var ut=l;jt.edgeType=ut?"multibezier":"bezier",jt.ctrlpts=[];for(var ct=0;ct<V;ct++){var dt,ht=(.5-y.length/2+o)*F,ft=Zt.signum(ht);ut&&(q=O?O.pfValue[ct]:F,X=j.value[ct]);var pt=void 0!==(dt=l?q:void 0!==q?ft*q:void 0)?dt:ht;ot=1-X,st=X;if(A){b=ot;ot=st,st=b}var vt;lt={x:(vt="node-position"===Y?Fe:Ve).x1*ot+vt.x2*st,y:vt.y1*ot+vt.y2*st};jt.ctrlpts.push(lt.x+v.x*pt,lt.y+v.y*pt)}}else jt.edgeType="straight";this.findEndpoints(Ot);var gt=!Kt.number(jt.startX)||!Kt.number(jt.startY),mt=!Kt.number(jt.arrowStartX)||!Kt.number(jt.arrowStartY),yt=!Kt.number(jt.endX)||!Kt.number(jt.endY),bt=!Kt.number(jt.arrowEndX)||!Kt.number(jt.arrowEndY),wt=3*(this.getArrowWidth(Ot.pstyle("width").pfValue,Ot.pstyle("arrow-scale").value)*this.arrowShapeWidth);if("bezier"===jt.edgeType){var xt=Zt.dist({x:jt.ctrlpts[0],y:jt.ctrlpts[1]},{x:jt.startX,y:jt.startY}),Et=xt<wt,_t=Zt.dist({x:jt.ctrlpts[0],y:jt.ctrlpts[1]},{x:jt.endX,y:jt.endY}),kt=_t<wt,Ct=!1;if(gt||mt||Et){Ct=!0;var Tt={x:jt.ctrlpts[0]-Xt.x,y:jt.ctrlpts[1]-Xt.y},It=Math.sqrt(Tt.x*Tt.x+Tt.y*Tt.y),Pt={x:Tt.x/It,y:Tt.y/It},Nt=Math.max(Wt,Ut),St={x:jt.ctrlpts[0]+2*Pt.x*Nt,y:jt.ctrlpts[1]+2*Pt.y*Nt},Bt=f.intersectLine(Xt.x,Xt.y,Wt,Ut,St.x,St.y,0);jt.ctrlpts[1]=Et?(jt.ctrlpts[0]=jt.ctrlpts[0]+Pt.x*(wt-xt),jt.ctrlpts[1]+Pt.y*(wt-xt)):(jt.ctrlpts[0]=Bt[0]+Pt.x*wt,Bt[1]+Pt.y*wt)}if(yt||bt||kt){Ct=!0;Tt={x:jt.ctrlpts[0]-Yt.x,y:jt.ctrlpts[1]-Yt.y},It=Math.sqrt(Tt.x*Tt.x+Tt.y*Tt.y),Pt={x:Tt.x/It,y:Tt.y/It},Nt=Math.max(Wt,Ut),St={x:jt.ctrlpts[0]+2*Pt.x*Nt,y:jt.ctrlpts[1]+2*Pt.y*Nt};var Dt=p.intersectLine(Yt.x,Yt.y,Ht,$t,St.x,St.y,0);jt.ctrlpts[1]=kt?(jt.ctrlpts[0]=jt.ctrlpts[0]+Pt.x*(wt-_t),jt.ctrlpts[1]+Pt.y*(wt-_t)):(jt.ctrlpts[0]=Dt[0]+Pt.x*wt,Dt[1]+Pt.y*wt)}Ct&&this.findEndpoints(Ot)}if("multibezier"===jt.edgeType||"bezier"===jt.edgeType||"self"===jt.edgeType||"compound"===jt.edgeType){jt.allpts=[],jt.allpts.push(jt.startX,jt.startY);for(ct=0;ct+1<jt.ctrlpts.length;ct+=2)jt.allpts.push(jt.ctrlpts[ct],jt.ctrlpts[ct+1]),ct+3<jt.ctrlpts.length&&jt.allpts.push((jt.ctrlpts[ct]+jt.ctrlpts[ct+2])/2,(jt.ctrlpts[ct+1]+jt.ctrlpts[ct+3])/2);var Mt;jt.allpts.push(jt.endX,jt.endY),jt.ctrlpts.length/2%2==0?(Mt=jt.allpts.length/2-1,jt.midX=jt.allpts[Mt],jt.midY=jt.allpts[Mt+1]):(Mt=jt.allpts.length/2-3,.5,jt.midX=Zt.qbezierAt(jt.allpts[Mt],jt.allpts[Mt+2],jt.allpts[Mt+4],.5),jt.midY=Zt.qbezierAt(jt.allpts[Mt+1],jt.allpts[Mt+3],jt.allpts[Mt+5],.5))}else if("straight"===jt.edgeType)jt.allpts=[jt.startX,jt.startY,jt.endX,jt.endY],jt.midX=(jt.startX+jt.endX+jt.arrowStartX+jt.arrowEndX)/4,jt.midY=(jt.startY+jt.endY+jt.arrowStartY+jt.arrowEndY)/4;else if("segments"===jt.edgeType)if(jt.allpts=[],jt.allpts.push(jt.startX,jt.startY),jt.allpts.push.apply(jt.allpts,jt.segpts),jt.allpts.push(jt.endX,jt.endY),jt.segpts.length%4==0){var Lt=jt.segpts.length/2,At=Lt-2;jt.midX=(jt.segpts[At]+jt.segpts[Lt])/2,jt.midY=(jt.segpts[At+1]+jt.segpts[Lt+1])/2}else{At=jt.segpts.length/2-1;jt.midX=jt.segpts[At],jt.midY=jt.segpts[At+1]}this.storeEdgeProjections(Ot),this.calculateArrowAngles(Ot)}this.recalculateEdgeLabelProjections(Ot),this.calculateLabelAngles(Ot)}}for(o=0;o<a.length;o++){var Ot,Rt,zt=(Rt=(Ot=a[o])._private).rscratch,jt=zt;if(!zt.haystack){var Vt=2*Math.random()*Math.PI;zt.source={x:Math.cos(Vt),y:Math.sin(Vt)};Vt=2*Math.random()*Math.PI;zt.target={x:Math.cos(Vt),y:Math.sin(Vt)}}var Ft=Rt.source,qt=Rt.target,Xt=Ft.position(),Yt=qt.position(),Wt=Ft.width(),Ht=qt.width(),Ut=Ft.height(),$t=qt.height(),Gt=(Nt=Ot.pstyle("haystack-radius").value)/2;jt.haystackPts=jt.allpts=[jt.source.x*Wt*Gt+Xt.x,jt.source.y*Ut*Gt+Xt.y,jt.target.x*Ht*Gt+Yt.x,jt.target.y*$t*Gt+Yt.y],jt.midX=(jt.allpts[0]+jt.allpts[2])/2,jt.midY=(jt.allpts[1]+jt.allpts[3])/2,zt.edgeType=zt.lastCurveStyle="haystack",zt.haystack=!0,this.storeEdgeProjections(Ot),this.calculateArrowAngles(Ot),this.recalculateEdgeLabelProjections(Ot),this.calculateLabelAngles(Ot)}}},getSegmentPoints:function(e){var t=e[0]._private.rscratch;if("segments"===t.edgeType)return r(t.segpts)},getControlPoints:function(e){var t=e[0]._private.rscratch,n=t.edgeType;if("bezier"===n||"multibezier"===n)return r(t.ctrlpts)},getEdgeMidpoint:function(e){var t=e[0]._private.rscratch;return{x:t.midX,y:t.midY}}};e.exports=i},function(e,t,n){"use strict";var D=n(2),M=n(0),r={manualEndptToPx:function(e,t){var n=e.position(),r=e.outerWidth(),i=e.outerHeight();if(2===t.value.length){var a=[t.pfValue[0],t.pfValue[1]];return"%"===t.units[0]&&(a[0]=a[0]*r),"%"===t.units[1]&&(a[1]=a[1]*i),a[0]+=n.x,a[1]+=n.y,a}var o=t.pfValue[0];o=-Math.PI/2+o;var s=2*Math.max(r,i),l=[n.x+Math.cos(o)*s,n.y+Math.sin(o)*s];return this.nodeShapes[this.getNodeShape(e)].intersectLine(n.x,n.y,r,i,l[0],l[1],0)},findEndpoints:function(e){var t=void 0,n=e.source()[0],r=e.target()[0],i=n.position(),a=r.position(),o=e.pstyle("target-arrow-shape").value,s=e.pstyle("source-arrow-shape").value,l=e.pstyle("target-distance-from-node").pfValue,u=e.pstyle("source-distance-from-node").pfValue,c=e._private.rscratch,d=c.edgeType,h="self"===d||"compound"===d,f="bezier"===d||"multibezier"===d||h,p="bezier"!==d,v="straight"===d||"segments"===d,g="segments"===d,m=f||p||v,y=e.pstyle("source-endpoint"),b=h?"outside-to-node":y.value,w=e.pstyle("target-endpoint"),x=h?"outside-to-node":w.value;c.srcManEndpt=y,c.tgtManEndpt=w;var E=void 0,_=void 0,k=void 0,C=void 0;if(f){var T=[c.ctrlpts[0],c.ctrlpts[1]];E=p?[c.ctrlpts[c.ctrlpts.length-2],c.ctrlpts[c.ctrlpts.length-1]]:T,_=T}else if(v){var I=g?c.segpts.slice(0,2):[a.x,a.y];E=g?c.segpts.slice(c.segpts.length-2):[i.x,i.y],_=I}t="inside-to-node"===x?[a.x,a.y]:w.units?this.manualEndptToPx(r,w):"outside-to-line"===x?c.tgtIntn:("outside-to-node"===x?k=E:"outside-to-line"===x&&(k=[i.x,i.y]),this.nodeShapes[this.getNodeShape(r)].intersectLine(a.x,a.y,r.outerWidth(),r.outerHeight(),k[0],k[1],0));var P=D.shortenIntersection(t,E,this.arrowShapes[o].spacing(e)+l),N=D.shortenIntersection(t,E,this.arrowShapes[o].gap(e)+l);c.endX=N[0],c.endY=N[1],c.arrowEndX=P[0],c.arrowEndY=P[1],t="inside-to-node"===b?[i.x,i.y]:y.units?this.manualEndptToPx(n,y):"outside-to-line"===b?c.srcIntn:("outside-to-node"===b?C=_:"outside-to-line"===b&&(C=[a.x,a.y]),this.nodeShapes[this.getNodeShape(n)].intersectLine(i.x,i.y,n.outerWidth(),n.outerHeight(),C[0],C[1],0));var S=D.shortenIntersection(t,_,this.arrowShapes[s].spacing(e)+u),B=D.shortenIntersection(t,_,this.arrowShapes[s].gap(e)+u);c.startX=B[0],c.startY=B[1],c.arrowStartX=S[0],c.arrowStartY=S[1],m&&(M.number(c.startX)&&M.number(c.startY)&&M.number(c.endX)&&M.number(c.endY)?c.badLine=!1:c.badLine=!0)},getSourceEndpoint:function(e){var t=e[0]._private.rscratch;switch(t.edgeType){case"haystack":return{x:t.haystackPts[0],y:t.haystackPts[1]};default:return{x:t.arrowStartX,y:t.arrowStartY}}},getTargetEndpoint:function(e){var t=e[0]._private.rscratch;switch(t.edgeType){case"haystack":return{x:t.haystackPts[2],y:t.haystackPts[3]};default:return{x:t.arrowEndX,y:t.arrowEndY}}}};e.exports=r},function(e,t,n){"use strict";function s(e,t,n){for(var r=function(e,t,n,r){return l.qbezierAt(e,t,n,r)},i=t._private.rstyle.bezierPts,a=0;a<e.bezierProjPcts.length;a++){var o=e.bezierProjPcts[a];i.push({x:r(n[0],n[2],n[4],o),y:r(n[1],n[3],n[5],o)})}}var l=n(2),r={storeEdgeProjections:function(e){var t=e._private,n=t.rscratch,r=n.edgeType;if(t.rstyle.bezierPts=null,t.rstyle.linePts=null,t.rstyle.haystackPts=null,"multibezier"===r||"bezier"===r||"self"===r||"compound"===r)for(var i=(t.rstyle.bezierPts=[],0);i+5<n.allpts.length;i+=4)s(this,e,n.allpts.slice(i,i+6));else if("segments"===r){var a=t.rstyle.linePts=[];for(i=0;i+1<n.allpts.length;i+=2)a.push({x:n.allpts[i],y:n.allpts[i+1]})}else if("haystack"===r){var o=n.haystackPts;t.rstyle.haystackPts=[{x:o[0],y:o[1]},{x:o[2],y:o[3]}]}t.rstyle.arrowWidth=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth},recalculateEdgeProjections:function(e){this.findEdgeControlPoints(e)}};e.exports=r},function(e,t,n){"use strict";var r=n(1),i={};[n(87),n(88),n(89),n(90),n(91),n(93),n(94),n(95),n(96)].forEach(function(e){r.extend(i,e)}),e.exports=i},function(e,t,n){"use strict";var z=n(2),f=n(0),E=n(1),r={recalculateNodeLabelProjection:function(e){var t=e.pstyle("label").strValue;if(!f.emptyString(t)){var n,r,i=e._private,a=e.width(),o=e.height(),s=e.padding(),l=e.position(),u=e.pstyle("text-halign").strValue,c=e.pstyle("text-valign").strValue,d=i.rscratch,h=i.rstyle;switch(u){case"left":n=l.x-a/2-s;break;case"right":n=l.x+a/2+s;break;default:n=l.x}switch(c){case"top":r=l.y-o/2-s;break;case"bottom":r=l.y+o/2+s;break;default:r=l.y}d.labelX=n,d.labelY=r,h.labelX=n,h.labelY=r,this.applyLabelDimensions(e)}}};r.recalculateEdgeLabelProjections=function(B){var D,M=B._private,L=M.rscratch,A=this,O={mid:B.pstyle("label").strValue,source:B.pstyle("source-label").strValue,target:B.pstyle("target-label").strValue};if(O.mid||O.source||O.target){D={x:L.midX,y:L.midY};var R=function(e,t,n){E.setPrefixedProperty(M.rscratch,e,t,n),E.setPrefixedProperty(M.rstyle,e,t,n)};R("labelX",null,D.x),R("labelY",null,D.y);var e=function(e){var t,n,r,i,a,o,s,l,u,c="source"===e;if(O[e]){var d=B.pstyle(e+"-text-offset").pfValue,h=function(e,t){var n=t.x-e.x,r=t.y-e.y;return Math.atan(r/n)};switch(L.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var f,p=function e(){function t(e,t,n,r,i){var a=z.dist(t,n),o=e.segments[e.segments.length-1],s={p0:t,p1:n,t0:r,t1:i,startDist:o?o.startDist+o.length:0,length:a};e.segments.push(s),e.length+=a}if(e.cache)return e.cache;for(var n=[],r=0;r+5<L.allpts.length;r+=4){var i={x:L.allpts[r],y:L.allpts[r+1]},a={x:L.allpts[r+2],y:L.allpts[r+3]},o={x:L.allpts[r+4],y:L.allpts[r+5]};n.push({p0:i,p1:a,p2:o,startDist:0,length:0,segments:[]})}var s=M.rstyle.bezierPts,l=A.bezierProjPcts.length;for(r=0;r<n.length;r++){var u=n[r],c=n[r-1];c&&(u.startDist=c.startDist+c.length),t(u,u.p0,s[r*l],0,A.bezierProjPcts[0]);for(var d=0;d<l-1;d++)t(u,s[r*l+d],s[r*l+d+1],A.bezierProjPcts[d],A.bezierProjPcts[d+1]);t(u,s[r*l+l-1],u.p2,A.bezierProjPcts[l-1],1)}return e.cache=n}(),v=0,g=0,m=0;m<p.length;m++){for(var y=p[c?m:p.length-1-m],b=0;b<y.segments.length;b++){var w=y.segments[c?b:y.segments.length-1-b],x=m===p.length-1&&b===y.segments.length-1;if(v=g,(g+=w.length)>=d||x){f={cp:y,segment:w};break}}if(f)break}y=f.cp;var E=(d-v)/(w=f.segment).length,_=w.t1-w.t0,k=c?w.t0+_*E:w.t1-_*E;k=z.bound(0,k,1),D=z.qbezierPtAt(y.p0,y.p1,y.p2,k),n=y.p0,r=y.p1,i=y.p2,a=k,o=z.bound(0,a-.001,1),s=z.bound(0,a+.001,1),l=z.qbezierPtAt(n,r,i,o),u=z.qbezierPtAt(n,r,i,s),t=h(l,u);break;case"straight":case"segments":case"haystack":var C,T,I,P,N=0,S=L.allpts.length;for(m=0;m+3<S&&(P=c?(I={x:L.allpts[m],y:L.allpts[m+1]},{x:L.allpts[m+2],y:L.allpts[m+3]}):(I={x:L.allpts[S-2-m],y:L.allpts[S-1-m]},{x:L.allpts[S-4-m],y:L.allpts[S-3-m]}),T=N,!((N+=C=z.dist(I,P))>=d));m+=2);k=(d-T)/C;k=z.bound(0,k,1),D=z.lineAt(I,P,k),t=h(I,P)}R("labelX",e,D.x),R("labelY",e,D.y),R("labelAutoAngle",e,t)}};e("source"),e("target"),this.applyLabelDimensions(B)}},r.applyLabelDimensions=function(e){this.applyPrefixedLabelDimensions(e),e.isEdge()&&(this.applyPrefixedLabelDimensions(e,"source"),this.applyPrefixedLabelDimensions(e,"target"))},r.applyPrefixedLabelDimensions=function(e,t){var n=e._private,r=this.getLabelText(e,t),i=this.calculateLabelDimensions(e,r);E.setPrefixedProperty(n.rstyle,"labelWidth",t,i.width),E.setPrefixedProperty(n.rscratch,"labelWidth",t,i.width),E.setPrefixedProperty(n.rstyle,"labelHeight",t,i.height),E.setPrefixedProperty(n.rscratch,"labelHeight",t,i.height)},r.getLabelText=function(e,n){var r=e._private,t=n?n+"-":"",i=e.pstyle(t+"label").strValue,a=e.pstyle("text-transform").value,o=function(e,t){return t?(E.setPrefixedProperty(r.rscratch,e,n,t),t):E.getPrefixedProperty(r.rscratch,e,n)};"none"==a||("uppercase"==a?i=i.toUpperCase():"lowercase"==a&&(i=i.toLowerCase()));var s=e.pstyle("text-wrap").value;if("wrap"===s){var l=o("labelKey");if(l&&o("labelWrapKey")===l)return o("labelWrapCachedText");for(var u=i.split("\n"),c=e.pstyle("text-max-width").pfValue,d=[],h=0;h<u.length;h++){var f=u[h];if(this.calculateLabelDimensions(e,f,"line="+f).width>c){for(var p=f.split(/\s+/),v="",g=0;g<p.length;g++){var m=p[g],y=0===v.length?m:v+" "+m;this.calculateLabelDimensions(e,y,"testLine="+y).width<=c?v+=m+" ":(d.push(v),v=m+" ")}v.match(/^\s+$/)||d.push(v)}else d.push(f)}o("labelWrapCachedLines",d),i=o("labelWrapCachedText",d.join("\n")),o("labelWrapKey",l)}else if("ellipsis"===s){c=e.pstyle("text-max-width").pfValue;for(var b="",w=!1,x=0;x<i.length;x++){if(c<this.calculateLabelDimensions(e,b+i[x]+"").width)break;b+=i[x],x===i.length-1&&(w=!0)}return w||(b+=""),b}return i},r.calculateLabelDimensions=function(e,t,n){var r=e._private.labelStyleKey+"$@$"+t;n&&(r+="$@$"+n);var i=this.labelDimCache||(this.labelDimCache={});if(i[r])return i[r];var a=e.pstyle("font-style").strValue,o=1*e.pstyle("font-size").pfValue+"px",s=e.pstyle("font-family").strValue,l=e.pstyle("font-weight").strValue,u=this.labelCalcDiv;u||(u=this.labelCalcDiv=document.createElement("div"),document.body.appendChild(u));var c=u.style;return c.fontFamily=s,c.fontStyle=a,c.fontSize=o,c.fontWeight=l,c.position="absolute",c.left="-9999px",c.top="-9999px",c.zIndex="-1",c.visibility="hidden",c.pointerEvents="none",c.padding="0",c.lineHeight="1","wrap"===e.pstyle("text-wrap").value?c.whiteSpace="pre":c.whiteSpace="normal",u.textContent=t,i[r]={width:Math.ceil(u.clientWidth/1),height:Math.ceil(u.clientHeight/1)},i[r]},r.calculateLabelAngles=function(e){var t=e._private.rscratch,n=e.isEdge(),r=e.pstyle("text-rotation"),i=r.strValue;"none"===i?t.labelAngle=t.sourceLabelAngle=t.targetLabelAngle=0:n&&"autorotate"===i?(t.labelAngle=Math.atan(t.midDispY/t.midDispX),t.sourceLabelAngle=t.sourceLabelAutoAngle,t.targetLabelAngle=t.targetLabelAutoAngle):t.labelAngle=t.sourceLabelAngle=t.targetLabelAngle="autorotate"===i?0:r.pfValue},e.exports=r},function(e,t,n){"use strict";var r={getNodeShape:function(e){var t=e.pstyle("shape").value;if(e.isParent())return"rectangle"===t||"roundrectangle"===t||"cutrectangle"===t||"barrel"===t?t:"rectangle";if("polygon"!==t)return t;var n=e.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(n).name}};e.exports=r},function(e,t,n){"use strict";var r={registerCalculationListeners:function(){var r=this.cy,s=r.collection(),i=this,a=function(e,t,n){if(s.merge(e),!0===n||void 0===n)for(var r=0;r<e.length;r++){var i=e[r]._private,a=i.rstyle;a.clean=!1,i.bbCache=null;var o=a.dirtyEvents=a.dirtyEvents||{length:0};o[t.type]||(o[t.type]=!0,o.length++)}};i.binder(r).on("position.* style.* free.* bounds.*","node",function(e){var t=e.target;a(t,e),a(t.connectedEdges(),e)}).on("add.*","node",function(e){var t=e.target;a(t,e)}).on("background.*","node",function(e){var t=e.target;a(t,e,!1)}).on("add.* style.*","edge",function(e){var t=e.target;a(t,e),a(t.parallelEdges(),e)}).on("remove.*","edge",function(e){for(var t=e.target.parallelEdges(),n=0;n<t.length;n++){var r=t[n];r.removed()||a(r,e)}}).on("dirty.*","node",function(e){var t=e.target;a(t,e)});i.beforeRender(function(e){if(e){var t=i.onUpdateEleCalcsFns;if(t)for(var n=0;n<t.length;n++)(0,t[n])(e,s);for(i.recalculateRenderedStyle(s,!1),n=0;n<s.length;n++)s[n]._private.rstyle.dirtyEvents=null;s=r.collection()}},i.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(e){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(e)},recalculateRenderedStyle:function(e,t){var n=[],r=[];if(!this.destroyed){void 0===t&&(t=!0);for(var i=0;i<e.length;i++){var a=(l=(s=e[i])._private).rstyle;t&&a.clean||s.removed()||"none"!==s.pstyle("display").value&&("nodes"===l.group?r.push(s):n.push(s),a.clean=!0)}for(i=0;i<r.length;i++){a=(l=(s=r[i])._private).rstyle;var o=s.position();this.recalculateNodeLabelProjection(s),a.nodeX=o.x,a.nodeY=o.y,a.nodeW=s.pstyle("width").pfValue,a.nodeH=s.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(i=0;i<n.length;i++){a=(l=(s=n[i])._private).rstyle;var s,l,u=l.rscratch;this.recalculateEdgeLabelProjections(s),a.srcX=u.arrowStartX,a.srcY=u.arrowStartY,a.tgtX=u.arrowEndX,a.tgtY=u.arrowEndY,a.midX=u.midX,a.midY=u.midY,a.labelAngle=u.labelAngle,a.sourceLabelAngle=u.sourceLabelAngle,a.targetLabelAngle=u.targetLabelAngle}}}};e.exports=r},function(e,t,n){"use strict";var r=n(14),i={updateCachedGrabbedEles:function(){var e=this.cachedZSortedEles;if(e){e.drag=[],e.nondrag=[];for(var t=[],n=0;n<e.length;n++){var r=(i=e[n])._private.rscratch;i.grabbed()&&!i.isParent()?t.push(i):r.inDragLayer?e.drag.push(i):e.nondrag.push(i)}for(n=0;n<t.length;n++){var i=t[n];e.drag.push(i)}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(e){if(e||!this.cachedZSortedEles){var t=this.cy.mutableElements().toArray();t.sort(r),t.interactive=t.filter(function(e){return e.interactive()}),this.cachedZSortedEles=t,this.updateCachedGrabbedEles()}else t=this.cachedZSortedEles;return t}};e.exports=i},function(e,t,n){"use strict";var r={getCachedImage:function(e,t,n){var r=this.imageCache=this.imageCache||{},i=r[e];if(i)return i.image.complete||i.image.addEventListener("load",n),i.image;var a=(i=r[e]=r[e]||{}).image=new Image;return a.addEventListener("load",n),a.addEventListener("error",function(){a.error=!0}),"data:"===e.substring(0,"data:".length).toLowerCase()||(a.crossOrigin=t),a.src=e,a}};e.exports=r},function(e,t,n){"use strict";var i=n(0),l=n(1),u=n(4),r=function(e){this.init(e)},a=r.prototype;a.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],a.init=function(e){var t=this;t.options=e,t.cy=e.cy;var n=t.container=e.cy.container();if(u){var r=u.document,i=r.head,a="__________cytoscape_container",o=null!=r.getElementById("__________cytoscape_stylesheet");if(n.className.indexOf(a)<0&&(n.className=(n.className||"")+" "+a),!o){var s=r.createElement("style");s.id="__________cytoscape_stylesheet",s.innerHTML="."+a+" { position: relative; }",i.insertBefore(s,i.children[0])}"static"===u.getComputedStyle(n).getPropertyValue("position")&&l.error("A Cytoscape container has style position:static and so can not use UI extensions properly")}t.selection=[void 0,void 0,void 0,void 0,0],t.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],t.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},t.dragData={possibleDragElements:[]},t.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},t.redraws=0,t.showFps=e.showFps,t.debug=e.debug,t.hideEdgesOnViewport=e.hideEdgesOnViewport,t.hideLabelsOnViewport=e.hideLabelsOnViewport,t.textureOnViewport=e.textureOnViewport,t.wheelSensitivity=e.wheelSensitivity,t.motionBlurEnabled=e.motionBlur,t.forcedPixelRatio=e.pixelRatio,t.motionBlur=e.motionBlur,t.motionBlurOpacity=e.motionBlurOpacity,t.motionBlurTransparency=1-t.motionBlurOpacity,t.motionBlurPxRatio=1,t.mbPxRBlurry=1,t.minMbLowQualFrames=4,t.fullQualityMb=!1,t.clearedForMotionBlur=[],t.desktopTapThreshold=e.desktopTapThreshold,t.desktopTapThreshold2=e.desktopTapThreshold*e.desktopTapThreshold,t.touchTapThreshold=e.touchTapThreshold,t.touchTapThreshold2=e.touchTapThreshold*e.touchTapThreshold,t.tapholdDuration=500,t.bindings=[],t.beforeRenderCallbacks=[],t.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:100},t.registerNodeShapes(),t.registerArrowShapes(),t.registerCalculationListeners()},a.notify=function(e){var t;if(!this.destroyed){t=i.array(e.type)?e.type:[e.type];for(var n={},r=0;r<t.length;r++)n[t[r]]=!0;if(n.init)return void this.load();if(n.destroy)return void this.destroy();(n.add||n.remove||n.load||n.zorder)&&this.invalidateCachedZSortedEles(),n.viewport&&this.redrawHint("select",!0),(n.load||n.resize)&&(this.invalidateContainerClientCoordsCache(),this.matchCanvasSize(this.container)),this.redrawHint("eles",!0),this.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}},a.destroy=function(){var e=this;e.destroyed=!0,e.cy.stopAnimationLoop();for(var t=0;t<e.bindings.length;t++){var n=e.bindings[t],r=n.target;(r.off||r.removeEventListener).apply(r,n.args)}if(e.bindings=[],e.beforeRenderCallbacks=[],e.onUpdateEleCalcsFns=[],e.removeObserver&&e.removeObserver.disconnect(),e.styleObserver&&e.styleObserver.disconnect(),e.labelCalcDiv)try{document.body.removeChild(e.labelCalcDiv)}catch(e){}},[n(86),n(92),n(97),n(99),n(100),n(101)].forEach(function(e){l.extend(a,e)}),e.exports=r},function(e,t,n){"use strict";var se=n(0),g=n(1),le=n(2),r=(n(15),{});r.registerBinding=function(e,t,n,r){var i=Array.prototype.slice.apply(arguments,[1]),a=this.binder(e);return a.on.apply(a,i)},r.binder=function(i){var a=this,o=i===window||i===document||i===document.body||se.domElement(i);if(null==a.supportsPassiveEvents){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(i){}a.supportsPassiveEvents=e}var n=function(e,t,n){var r=Array.prototype.slice.call(arguments);return o&&a.supportsPassiveEvents&&(r[2]={capture:null!=n&&n,passive:!1,once:!1}),a.bindings.push({target:i,args:r}),(i.addEventListener||i.on).apply(i,r),this};return{on:n,addEventListener:n,addListener:n,bind:n}},r.nodeIsDraggable=function(e){return e&&e.isNode()&&!e.locked()&&e.grabbable()},r.nodeIsGrabbable=function(e){return this.nodeIsDraggable(e)&&e.interactive()},r.load=function(){var X=this,Y=function(e,t,n,r){null==e&&(e=X.cy);for(var i=0;i<t.length;i++){var a=t[i];e.emit(g.extend({originalEvent:n,type:a},r))}},D=function(e){return e.shiftKey||e.metaKey||e.ctrlKey},W=function(e,t){var n=!0;if(X.cy.hasCompoundNodes()&&e&&e.isEdge())for(var r=0;t&&r<t.length;r++){if((e=t[r]).isNode()&&e.isParent()){n=!1;break}}else n=!0;return n},a=function(e){e[0]._private.rscratch.inDragLayer=!0},y=function(e){e[0]._private.rscratch.isGrabTarget=!0},o=function(e,t){var n=function(e){var t;if(e.addToList&&X.cy.hasCompoundNodes()){if(!e.addToList.hasId){e.addToList.hasId={};for(var n=0;n<e.addToList.length;n++){var r=e.addToList[n];e.addToList.hasId[r.id()]=!0}}t=e.addToList.hasId}return t||{}}(t);n[e.id()]||(t.addToList.push(e),n[e.id()]=!0,e[0]._private.grabbed=!0)},H=function(e,t){t=t||{};var n=e.cy().hasCompoundNodes();t.inDragLayer&&(e.forEach(a),e.neighborhood().stdFilter(function(e){return!n||e.isEdge()}).forEach(a)),t.addToList&&e.forEach(function(e){o(e,t)}),function(e,t){if(e.cy().hasCompoundNodes()&&(null!=t.inDragLayer||null!=t.addToList)){var n=e.descendants();t.inDragLayer&&(n.forEach(a),n.connectedEdges().forEach(a)),t.addToList&&n.forEach(function(e){o(e,t)})}}(e,t),r(e,{inDragLayer:t.inDragLayer}),X.updateCachedGrabbedEles()},b=H,U=function(e){e&&(e.hasId={},X.getCachedZSortedEles().forEach(function(e){e[0]._private.grabbed=!1,e[0]._private.rscratch.inDragLayer=!1,e[0]._private.rscratch.isGrabTarget=!1}),X.updateCachedGrabbedEles())},r=function(e,t){if((null!=t.inDragLayer||null!=t.addToList)&&e.cy().hasCompoundNodes()){var n=e.ancestors().orphans();if(!n.same(e)){var r=n.descendants().spawnSelf().merge(n).unmerge(e).unmerge(e.descendants()),i=r.connectedEdges();t.inDragLayer&&(i.forEach(a),r.forEach(a)),t.addToList&&r.forEach(function(e){o(e,t)})}}},e="undefined"!=typeof MutationObserver;e?(X.removeObserver=new MutationObserver(function(e){for(var t=0;t<e.length;t++){var n=e[t].removedNodes;if(n)for(var r=0;r<n.length;r++){if(n[r]===X.container){X.destroy();break}}}}),X.container.parentNode&&X.removeObserver.observe(X.container.parentNode,{childList:!0})):X.registerBinding(X.container,"DOMNodeRemoved",function(e){X.destroy()});var t=g.debounce(function(){X.cy.resize()},100);e&&(X.styleObserver=new MutationObserver(t),X.styleObserver.observe(X.container,{attributes:!0})),X.registerBinding(window,"resize",t);var i=function(){X.invalidateContainerClientCoordsCache()};!function(e,t){for(;null!=e;)n=e,X.registerBinding(n,"transitionend",i),X.registerBinding(n,"animationend",i),X.registerBinding(n,"scroll",i),e=e.parentNode;var n}(X.container),X.registerBinding(X.container,"contextmenu",function(e){e.preventDefault()});var $=function(e){for(var t=X.findContainerClientCoords(),n=t[0],r=t[1],i=t[2],a=t[3],o=e.touches?e.touches:[e],s=!1,l=0;l<o.length;l++){var u=o[l];if(n<=u.clientX&&u.clientX<=n+i&&r<=u.clientY&&u.clientY<=r+a){s=!0;break}}if(!s)return!1;for(var c=X.container,d=e.target.parentNode,h=!1;d;){if(d===c){h=!0;break}d=d.parentNode}return!!h};X.registerBinding(X.container,"mousedown",function(t){if($(t)){t.preventDefault(),X.hoverData.capture=!0,X.hoverData.which=t.which;var n=X.cy,e=[t.clientX,t.clientY],r=X.projectIntoViewport(e[0],e[1]),i=X.selection,a=X.findNearestElements(r[0],r[1],!0,!1),o=a[0],s=X.dragData.possibleDragElements;if(X.hoverData.mdownPos=r,X.hoverData.mdownGPos=e,3==t.which){X.hoverData.cxtStarted=!0;var l={originalEvent:t,type:"cxttapstart",position:{x:r[0],y:r[1]}};o?(o.activate(),o.emit(l),X.hoverData.down=o):n.emit(l),X.hoverData.downTime=(new Date).getTime(),X.hoverData.cxtDragged=!1}else if(1==t.which){if(o&&o.activate(),null!=o&&X.nodeIsGrabbable(o)){var u=function(e){return{originalEvent:t,type:e,position:{x:r[0],y:r[1]}}};if(y(o),o.selected()){s=X.dragData.possibleDragElements=[];var c=n.$(function(e){return e.isNode()&&e.selected()&&X.nodeIsGrabbable(e)});H(c,{addToList:s}),o.emit(u("grabon")),c.forEach(function(e){e.emit(u("grab"))})}else s=X.dragData.possibleDragElements=[],b(o,{addToList:s}),o.emit(u("grabon")).emit(u("grab"));X.redrawHint("eles",!0),X.redrawHint("drag",!0)}X.hoverData.down=o,X.hoverData.downs=a,X.hoverData.downTime=(new Date).getTime(),Y(o,["mousedown","tapstart","vmousedown"],t,{position:{x:r[0],y:r[1]}}),null==o?(i[4]=1,X.data.bgActivePosistion={x:r[0],y:r[1]},X.redrawHint("select",!0),X.redraw()):o.isEdge()&&(i[4]=1),X.hoverData.tapholdCancelled=!1,clearTimeout(X.hoverData.tapholdTimeout),X.hoverData.tapholdTimeout=setTimeout(function(){if(!X.hoverData.tapholdCancelled){var e=X.hoverData.down;e?e.emit({originalEvent:t,type:"taphold",position:{x:r[0],y:r[1]}}):n.emit({originalEvent:t,type:"taphold",position:{x:r[0],y:r[1]}})}},X.tapholdDuration)}i[0]=i[2]=r[0],i[1]=i[3]=r[1]}},!1),X.registerBinding(window,"mousemove",function(e){if(X.hoverData.capture||$(e)){var t=!1,n=X.cy,r=n.zoom(),i=[e.clientX,e.clientY],a=X.projectIntoViewport(i[0],i[1]),o=X.hoverData.mdownPos,s=X.hoverData.mdownGPos,l=X.selection,u=null;X.hoverData.draggingEles||X.hoverData.dragging||X.hoverData.selecting||(u=X.findNearestElement(a[0],a[1],!0,!1));var c,d=X.hoverData.last,h=X.hoverData.down,f=[a[0]-l[2],a[1]-l[3]],p=X.dragData.possibleDragElements;if(s){var v=i[0]-s[0],g=v*v,m=i[1]-s[1],y=g+m*m;X.hoverData.isOverThresholdDrag=c=y>=X.desktopTapThreshold2}var b=D(e);c&&(X.hoverData.tapholdCancelled=!0),t=!0,Y(u,["mousemove","vmousemove","tapdrag"],e,{position:{x:a[0],y:a[1]}});var w=function(){X.data.bgActivePosistion=void 0,X.hoverData.selecting||n.emit("boxstart"),l[4]=1,X.hoverData.selecting=!0,X.redrawHint("select",!0),X.redraw()};if(3===X.hoverData.which){if(c){var x={originalEvent:e,type:"cxtdrag",position:{x:a[0],y:a[1]}};h?h.emit(x):n.emit(x),X.hoverData.cxtDragged=!0,X.hoverData.cxtOver&&u===X.hoverData.cxtOver||(X.hoverData.cxtOver&&X.hoverData.cxtOver.emit({originalEvent:e,type:"cxtdragout",position:{x:a[0],y:a[1]}}),(X.hoverData.cxtOver=u)&&u.emit({originalEvent:e,type:"cxtdragover",position:{x:a[0],y:a[1]}}))}}else if(X.hoverData.dragging){if(t=!0,n.panningEnabled()&&n.userPanningEnabled()){var E;if(X.hoverData.justStartedPan){var _=X.hoverData.mdownPos;E={x:(a[0]-_[0])*r,y:(a[1]-_[1])*r},X.hoverData.justStartedPan=!1}else E={x:f[0]*r,y:f[1]*r};n.panBy(E),X.hoverData.dragged=!0}a=X.projectIntoViewport(e.clientX,e.clientY)}else if(1!=l[4]||null!=h&&!h.isEdge()){if(h&&h.isEdge()&&h.active()&&h.unactivate(),h&&h.grabbed()||u==d||(d&&Y(d,["mouseout","tapdragout"],e,{position:{x:a[0],y:a[1]}}),u&&Y(u,["mouseover","tapdragover"],e,{position:{x:a[0],y:a[1]}}),X.hoverData.last=u),h&&X.nodeIsDraggable(h))if(c)if(n.boxSelectionEnabled()&&b)h&&h.grabbed()&&(U(p),h.emit("free")),w();else{var k=!X.dragData.didDrag;k&&X.redrawHint("eles",!0),X.dragData.didDrag=!0;var C=[];X.hoverData.draggingEles||H(n.collection(p),{inDragLayer:!0});for(var T=0;T<p.length;T++){var I=p[T];if(X.nodeIsDraggable(I)&&I.grabbed()){var P=I.position();if(C.push(I),se.number(f[0])&&se.number(f[1])&&(P.x+=f[0],P.y+=f[1],k)){var N=X.hoverData.dragDelta;N&&se.number(N[0])&&se.number(N[1])&&(P.x+=N[0],P.y+=N[1])}}}X.hoverData.draggingEles=!0;var S=n.collection(C);S.dirtyCompoundBoundsCache(),S.emit("position drag"),X.redrawHint("drag",!0),X.redraw()}else 0===(B=X.hoverData.dragDelta=X.hoverData.dragDelta||[]).length?(B.push(f[0]),B.push(f[1])):(B[0]+=f[0],B[1]+=f[1]);t=!0}else if(c){if(X.hoverData.dragging||!n.boxSelectionEnabled()||!b&&n.panningEnabled()&&n.userPanningEnabled()){if(!X.hoverData.selecting&&n.panningEnabled()&&n.userPanningEnabled())W(h,X.hoverData.downs)&&(X.hoverData.dragging=!0,X.hoverData.justStartedPan=!0,l[4]=0,X.data.bgActivePosistion=le.array2point(o),X.redrawHint("select",!0),X.redraw())}else w();h&&h.isEdge()&&h.active()&&h.unactivate()}return l[2]=a[0],l[3]=a[1],t?(e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),!1):void 0}var B},!1),X.registerBinding(window,"mouseup",function(e){if(X.hoverData.capture){X.hoverData.capture=!1;var t=X.cy,n=X.projectIntoViewport(e.clientX,e.clientY),r=X.selection,i=X.findNearestElement(n[0],n[1],!0,!1),a=X.dragData.possibleDragElements,o=X.hoverData.down,s=D(e);if(X.data.bgActivePosistion&&(X.redrawHint("select",!0),X.redraw()),X.hoverData.tapholdCancelled=!0,X.data.bgActivePosistion=void 0,o&&o.unactivate(),3===X.hoverData.which){var l={originalEvent:e,type:"cxttapend",position:{x:n[0],y:n[1]}};if(o?o.emit(l):t.emit(l),!X.hoverData.cxtDragged){var u={originalEvent:e,type:"cxttap",position:{x:n[0],y:n[1]}};o?o.emit(u):t.emit(u)}X.hoverData.cxtDragged=!1,X.hoverData.which=null}else if(1===X.hoverData.which){if(null!=o||X.dragData.didDrag||X.hoverData.selecting||X.hoverData.dragged||D(e)||(t.$(function(e){return e.selected()}).unselect(),0<a.length&&X.redrawHint("eles",!0),X.dragData.possibleDragElements=a=[]),Y(i,["mouseup","tapend","vmouseup"],e,{position:{x:n[0],y:n[1]}}),X.dragData.didDrag||X.hoverData.dragged||X.hoverData.selecting||X.hoverData.isOverThresholdDrag||Y(o,["click","tap","vclick"],e,{position:{x:n[0],y:n[1]}}),i!=o||X.dragData.didDrag||X.hoverData.selecting||null!=i&&i._private.selectable&&(X.hoverData.dragging||("additive"===t.selectionType()||s?i.selected()?i.unselect():i.select():s||(t.$(":selected").unmerge(i).unselect(),i.select())),X.redrawHint("eles",!0)),X.hoverData.selecting){var c=t.collection(X.getAllInBox(r[0],r[1],r[2],r[3]));X.redrawHint("select",!0),0<c.length&&X.redrawHint("eles",!0),t.emit("boxend");var d=function(e){return e.selectable()&&!e.selected()};"additive"===t.selectionType()||s||t.$(":selected").unmerge(c).unselect(),c.emit("box").stdFilter(d).select().emit("boxselect"),X.redraw()}if(X.hoverData.dragging&&(X.hoverData.dragging=!1,X.redrawHint("select",!0),X.redrawHint("eles",!0),X.redraw()),!r[4]){X.redrawHint("drag",!0),X.redrawHint("eles",!0);var h=o&&o.grabbed();U(a),h&&o.emit("free")}}r[4]=0,X.hoverData.down=null,X.hoverData.cxtStarted=!1,X.hoverData.draggingEles=!1,X.hoverData.selecting=!1,X.hoverData.isOverThresholdDrag=!1,X.dragData.didDrag=!1,X.hoverData.dragged=!1,X.hoverData.dragDelta=[],X.hoverData.mdownPos=null,X.hoverData.mdownGPos=null}},!1);X.registerBinding(X.container,"wheel",function(e){if(!X.scrollingPage){var t,n=X.cy,r=X.projectIntoViewport(e.clientX,e.clientY),i=[r[0]*n.zoom()+n.pan().x,r[1]*n.zoom()+n.pan().y];if(X.hoverData.draggingEles||X.hoverData.dragging||X.hoverData.cxtStarted||0!==X.selection[4])return void e.preventDefault();n.panningEnabled()&&n.userPanningEnabled()&&n.zoomingEnabled()&&n.userZoomingEnabled()&&(e.preventDefault(),X.data.wheelZooming=!0,clearTimeout(X.data.wheelTimeout),X.data.wheelTimeout=setTimeout(function(){X.data.wheelZooming=!1,X.redrawHint("eles",!0),X.redraw()},150),t=null!=e.deltaY?e.deltaY/-250:null!=e.wheelDeltaY?e.wheelDeltaY/1e3:e.wheelDelta/1e3,t*=X.wheelSensitivity,1===e.deltaMode&&(t*=33),n.zoom({level:n.zoom()*Math.pow(10,t),renderedPosition:{x:i[0],y:i[1]}}))}},!0),X.registerBinding(window,"scroll",function(e){X.scrollingPage=!0,clearTimeout(X.scrollingPageTimeout),X.scrollingPageTimeout=setTimeout(function(){X.scrollingPage=!1},250)},!0),X.registerBinding(X.container,"mouseout",function(e){var t=X.projectIntoViewport(e.clientX,e.clientY);X.cy.emit({originalEvent:e,type:"mouseout",position:{x:t[0],y:t[1]}})},!1),X.registerBinding(X.container,"mouseover",function(e){var t=X.projectIntoViewport(e.clientX,e.clientY);X.cy.emit({originalEvent:e,type:"mouseover",position:{x:t[0],y:t[1]}})},!1);var G,Z,K,Q,J,ee,w,te,ne,re,x,E,ie,n,s,l,u,ae=function(e,t,n,r){return Math.sqrt((n-e)*(n-e)+(r-t)*(r-t))},oe=function(e,t,n,r){return(n-e)*(n-e)+(r-t)*(r-t)};if(X.registerBinding(X.container,"touchstart",n=function(t){if($(t)){X.touchData.capture=!0,X.data.bgActivePosistion=void 0;var e=X.cy,n=X.touchData.now,r=X.touchData.earlier;if(t.touches[0]){var i=X.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);n[0]=i[0],n[1]=i[1]}if(t.touches[1]){i=X.projectIntoViewport(t.touches[1].clientX,t.touches[1].clientY);n[2]=i[0],n[3]=i[1]}if(t.touches[2]){i=X.projectIntoViewport(t.touches[2].clientX,t.touches[2].clientY);n[4]=i[0],n[5]=i[1]}if(t.touches[1]){U(X.dragData.touchDragEles);var a=X.findContainerClientCoords();ne=a[0],re=a[1],x=a[2],E=a[3],G=t.touches[0].clientX-ne,Z=t.touches[0].clientY-re,K=t.touches[1].clientX-ne,Q=t.touches[1].clientY-re,ie=0<=G&&G<=x&&0<=K&&K<=x&&0<=Z&&Z<=E&&0<=Q&&Q<=E;var o=e.pan(),s=e.zoom();if(J=ae(G,Z,K,Q),ee=oe(G,Z,K,Q),te=[((w=[(G+K)/2,(Z+Q)/2])[0]-o.x)/s,(w[1]-o.y)/s],ee<4e4&&!t.touches[2]){var l=X.findNearestElement(n[0],n[1],!0,!0),u=X.findNearestElement(n[2],n[3],!0,!0);return l&&l.isNode()?(l.activate().emit({originalEvent:t,type:"cxttapstart",position:{x:n[0],y:n[1]}}),X.touchData.start=l):u&&u.isNode()?(u.activate().emit({originalEvent:t,type:"cxttapstart",position:{x:n[0],y:n[1]}}),X.touchData.start=u):e.emit({originalEvent:t,type:"cxttapstart",position:{x:n[0],y:n[1]}}),X.touchData.start&&(X.touchData.start._private.grabbed=!1),X.touchData.cxt=!0,X.touchData.cxtDragged=!1,X.data.bgActivePosistion=void 0,void X.redraw()}}if(t.touches[2]);else if(t.touches[1]);else if(t.touches[0]){var c=X.findNearestElements(n[0],n[1],!0,!0),d=c[0];if(null!=d&&(d.activate(),X.touchData.start=d,X.touchData.starts=c,X.nodeIsGrabbable(d))){var h=X.dragData.touchDragEles=[],f=null;X.redrawHint("eles",!0),X.redrawHint("drag",!0),d.selected()?(f=e.$(function(e){return e.selected()&&X.nodeIsGrabbable(e)}),H(f,{addToList:h})):b(d,{addToList:h}),y(d);var p=function(e){return{originalEvent:t,type:e,position:{x:n[0],y:n[1]}}};d.emit(p("grabon")),f?f.forEach(function(e){e.emit(p("grab"))}):d.emit(p("grab"))}Y(d,["touchstart","tapstart","vmousedown"],t,{position:{x:n[0],y:n[1]}}),null==d&&(X.data.bgActivePosistion={x:i[0],y:i[1]},X.redrawHint("select",!0),X.redraw()),X.touchData.singleTouchMoved=!1,X.touchData.singleTouchStartTime=+new Date,clearTimeout(X.touchData.tapholdTimeout),X.touchData.tapholdTimeout=setTimeout(function(){!1!==X.touchData.singleTouchMoved||X.pinching||X.touchData.selecting||(Y(X.touchData.start,["taphold"],t,{position:{x:n[0],y:n[1]}}),X.touchData.start||e.$(":selected").unselect())},X.tapholdDuration)}if(1<=t.touches.length){for(var v=X.touchData.startPosition=[],g=0;g<n.length;g++)v[g]=r[g]=n[g];var m=t.touches[0];X.touchData.startGPosition=[m.clientX,m.clientY]}}},!1),X.registerBinding(window,"touchmove",s=function(e){var t=X.touchData.capture;if(t||$(e)){var n=X.selection,r=X.cy,i=X.touchData.now,a=X.touchData.earlier,o=r.zoom();if(e.touches[0]){var s=X.projectIntoViewport(e.touches[0].clientX,e.touches[0].clientY);i[0]=s[0],i[1]=s[1]}if(e.touches[1]){s=X.projectIntoViewport(e.touches[1].clientX,e.touches[1].clientY);i[2]=s[0],i[3]=s[1]}if(e.touches[2]){s=X.projectIntoViewport(e.touches[2].clientX,e.touches[2].clientY);i[4]=s[0],i[5]=s[1]}var l,u=X.touchData.startGPosition;if(t&&e.touches[0]&&u){for(var c=[],d=0;d<i.length;d++)c[d]=i[d]-a[d];var h=e.touches[0].clientX-u[0],f=h*h,p=e.touches[0].clientY-u[1];l=f+p*p>=X.touchTapThreshold2}if(t&&X.touchData.cxt){e.preventDefault();var v=e.touches[0].clientX-ne,g=e.touches[0].clientY-re,m=e.touches[1].clientX-ne,y=e.touches[1].clientY-re,b=oe(v,g,m,y);if(2.25<=b/ee||22500<=b){X.touchData.cxt=!1,X.data.bgActivePosistion=void 0,X.redrawHint("select",!0);var w={originalEvent:e,type:"cxttapend",position:{x:i[0],y:i[1]}};X.touchData.start?(X.touchData.start.unactivate().emit(w),X.touchData.start=null):r.emit(w)}}if(t&&X.touchData.cxt){w={originalEvent:e,type:"cxtdrag",position:{x:i[0],y:i[1]}};X.data.bgActivePosistion=void 0,X.redrawHint("select",!0),X.touchData.start?X.touchData.start.emit(w):r.emit(w),X.touchData.start&&(X.touchData.start._private.grabbed=!1),X.touchData.cxtDragged=!0;var x=X.findNearestElement(i[0],i[1],!0,!0);X.touchData.cxtOver&&x===X.touchData.cxtOver||(X.touchData.cxtOver&&X.touchData.cxtOver.emit({originalEvent:e,type:"cxtdragout",position:{x:i[0],y:i[1]}}),(X.touchData.cxtOver=x)&&x.emit({originalEvent:e,type:"cxtdragover",position:{x:i[0],y:i[1]}}))}else if(t&&e.touches[2]&&r.boxSelectionEnabled())e.preventDefault(),X.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,X.touchData.selecting||r.emit("boxstart"),X.touchData.selecting=!0,X.redrawHint("select",!0),n&&0!==n.length&&void 0!==n[0]?(n[2]=(i[0]+i[2]+i[4])/3,n[3]=(i[1]+i[3]+i[5])/3):(n[0]=(i[0]+i[2]+i[4])/3,n[1]=(i[1]+i[3]+i[5])/3,n[2]=(i[0]+i[2]+i[4])/3+1,n[3]=(i[1]+i[3]+i[5])/3+1),n[4]=1,X.touchData.selecting=!0,X.redraw();else if(t&&e.touches[1]&&r.zoomingEnabled()&&r.panningEnabled()&&r.userZoomingEnabled()&&r.userPanningEnabled()){if(e.preventDefault(),X.data.bgActivePosistion=void 0,X.redrawHint("select",!0),L=X.dragData.touchDragEles){X.redrawHint("drag",!0);for(var E=0;E<L.length;E++){var _=L[E]._private;_.grabbed=!1,_.rscratch.inDragLayer=!1}}v=e.touches[0].clientX-ne,g=e.touches[0].clientY-re,m=e.touches[1].clientX-ne,y=e.touches[1].clientY-re;var k=ae(v,g,m,y),C=k/J;if(ie){var T=(v-G+(m-K))/2,I=(g-Z+(y-Q))/2,P=r.zoom(),N=P*C,S=r.pan(),B=te[0]*P+S.x,D=te[1]*P+S.y,M={x:-N/P*(B-S.x-T)+B,y:-N/P*(D-S.y-I)+D};if(X.touchData.start&&X.touchData.start.active()){var L=X.dragData.touchDragEles;U(L),X.redrawHint("drag",!0),X.redrawHint("eles",!0),X.touchData.start.unactivate().emit("free")}r.viewport({zoom:N,pan:M,cancelOnFailedZoom:!0}),J=k,G=v,Z=g,K=m,Q=y,X.pinching=!0}if(e.touches[0]){s=X.projectIntoViewport(e.touches[0].clientX,e.touches[0].clientY);i[0]=s[0],i[1]=s[1]}if(e.touches[1]){s=X.projectIntoViewport(e.touches[1].clientX,e.touches[1].clientY);i[2]=s[0],i[3]=s[1]}if(e.touches[2]){s=X.projectIntoViewport(e.touches[2].clientX,e.touches[2].clientY);i[4]=s[0],i[5]=s[1]}}else if(e.touches[0]){var A=X.touchData.start,O=X.touchData.last;if(X.hoverData.draggingEles||X.swipePanning||(x=X.findNearestElement(i[0],i[1],!0,!0)),t&&null!=A&&e.preventDefault(),t&&null!=A&&X.nodeIsDraggable(A))if(l){L=X.dragData.touchDragEles;var R=!X.dragData.didDrag;R&&H(r.collection(L),{inDragLayer:!0});for(var z=0;z<L.length;z++){var j=L[z];if(X.nodeIsDraggable(j)&&j.grabbed()){X.dragData.didDrag=!0;var V=j.position();if(se.number(c[0])&&se.number(c[1])&&(V.x+=c[0],V.y+=c[1]),R)X.redrawHint("eles",!0),(q=X.touchData.dragDelta)&&se.number(q[0])&&se.number(q[1])&&(V.x+=q[0],V.y+=q[1])}}var F=r.collection(L);F.dirtyCompoundBoundsCache(),F.emit("position drag"),X.hoverData.draggingEles=!0,X.redrawHint("drag",!0),X.touchData.startPosition[0]==a[0]&&X.touchData.startPosition[1]==a[1]&&X.redrawHint("eles",!0),X.redraw()}else{var q;0===(q=X.touchData.dragDelta=X.touchData.dragDelta||[]).length?(q.push(c[0]),q.push(c[1])):(q[0]+=c[0],q[1]+=c[1])}if(Y(A||x,["touchmove","tapdrag","vmousemove"],e,{position:{x:i[0],y:i[1]}}),A&&A.grabbed()||x==O||(O&&O.emit({originalEvent:e,type:"tapdragout",position:{x:i[0],y:i[1]}}),x&&x.emit({originalEvent:e,type:"tapdragover",position:{x:i[0],y:i[1]}})),X.touchData.last=x,t)for(E=0;E<i.length;E++)i[E]&&X.touchData.startPosition[E]&&l&&(X.touchData.singleTouchMoved=!0);if(t&&(null==A||A.isEdge())&&r.panningEnabled()&&r.userPanningEnabled()){W(A,X.touchData.starts)&&(e.preventDefault(),X.swipePanning?r.panBy({x:c[0]*o,y:c[1]*o}):l&&(X.swipePanning=!0,r.panBy({x:h*o,y:p*o}),A&&(A.unactivate(),X.data.bgActivePosistion||(X.data.bgActivePosistion=le.array2point(X.touchData.startPosition)),X.redrawHint("select",!0),X.touchData.start=null)));s=X.projectIntoViewport(e.touches[0].clientX,e.touches[0].clientY);i[0]=s[0],i[1]=s[1]}}for(d=0;d<i.length;d++)a[d]=i[d]}},!1),X.registerBinding(window,"touchcancel",l=function(e){var t=X.touchData.start;X.touchData.capture=!1,t&&t.unactivate()}),X.registerBinding(window,"touchend",u=function(e){var t=X.touchData.start;if(X.touchData.capture){X.touchData.capture=!1,e.preventDefault();var n=X.selection;X.swipePanning=!1,X.hoverData.draggingEles=!1;var r,i=X.cy,a=i.zoom(),o=X.touchData.now,s=X.touchData.earlier;if(e.touches[0]){var l=X.projectIntoViewport(e.touches[0].clientX,e.touches[0].clientY);o[0]=l[0],o[1]=l[1]}if(e.touches[1]){l=X.projectIntoViewport(e.touches[1].clientX,e.touches[1].clientY);o[2]=l[0],o[3]=l[1]}if(e.touches[2]){l=X.projectIntoViewport(e.touches[2].clientX,e.touches[2].clientY);o[4]=l[0],o[5]=l[1]}if(t&&t.unactivate(),X.touchData.cxt){if(r={originalEvent:e,type:"cxttapend",position:{x:o[0],y:o[1]}},t?t.emit(r):i.emit(r),!X.touchData.cxtDragged){var u={originalEvent:e,type:"cxttap",position:{x:o[0],y:o[1]}};t?t.emit(u):i.emit(u)}return X.touchData.start&&(X.touchData.start._private.grabbed=!1),X.touchData.cxt=!1,X.touchData.start=null,void X.redraw()}if(!e.touches[2]&&i.boxSelectionEnabled()&&X.touchData.selecting){X.touchData.selecting=!1;var c=i.collection(X.getAllInBox(n[0],n[1],n[2],n[3]));n[0]=void 0,n[1]=void 0,n[2]=void 0,n[3]=void 0,n[4]=0,X.redrawHint("select",!0),i.emit("boxend");c.emit("box").stdFilter(function(e){return e.selectable()&&!e.selected()}).select().emit("boxselect"),c.nonempty()&&X.redrawHint("eles",!0),X.redraw()}if(null!=t&&t.unactivate(),e.touches[2])X.data.bgActivePosistion=void 0,X.redrawHint("select",!0);else if(e.touches[1]);else if(e.touches[0]);else if(!e.touches[0]){X.data.bgActivePosistion=void 0,X.redrawHint("select",!0);var d=X.dragData.touchDragEles;if(null!=t){var h=t._private.grabbed;U(d),X.redrawHint("drag",!0),X.redrawHint("eles",!0),h&&t.emit("free"),Y(t,["touchend","tapend","vmouseup","tapdragout"],e,{position:{x:o[0],y:o[1]}}),t.unactivate(),X.touchData.start=null}else{var f=X.findNearestElement(o[0],o[1],!0,!0);Y(f,["touchend","tapend","vmouseup","tapdragout"],e,{position:{x:o[0],y:o[1]}})}var p=X.touchData.startPosition[0]-o[0],v=p*p,g=X.touchData.startPosition[1]-o[1],m=(v+g*g)*a*a;null!=t&&!X.dragData.didDrag&&t._private.selectable&&m<X.touchTapThreshold2&&!X.pinching&&("single"===i.selectionType()?(i.$(":selected").unmerge(t).unselect(),t.select()):t.selected()?t.unselect():t.select(),X.redrawHint("eles",!0)),X.touchData.singleTouchMoved||Y(t,["tap","vclick"],e,{position:{x:o[0],y:o[1]}}),X.touchData.singleTouchMoved=!0}for(var y=0;y<o.length;y++)s[y]=o[y];X.dragData.didDrag=!1,0===e.touches.length&&(X.touchData.dragDelta=[],X.touchData.startPosition=null,X.touchData.startGPosition=null),e.touches.length<2&&(X.pinching=!1,X.redrawHint("eles",!0),X.redraw())}},!1),"undefined"==typeof TouchEvent){var c=[],d=function(e){return{clientX:e.clientX,clientY:e.clientY,force:1,identifier:e.pointerId,pageX:e.pageX,pageY:e.pageY,radiusX:e.width/2,radiusY:e.height/2,screenX:e.screenX,screenY:e.screenY,target:e.target}},h=function(e){var t;c.push({event:t=e,touch:d(t)})},f=function(e){for(var t=0;t<c.length;t++)if(c[t].event.pointerId===e.pointerId)return void c.splice(t,1)},p=function(e){e.touches=c.map(function(e){return e.touch})},v=function(e){return"mouse"===e.pointerType||4===e.pointerType};X.registerBinding(X.container,"pointerdown",function(e){v(e)||(e.preventDefault(),h(e),p(e),n(e))}),X.registerBinding(X.container,"pointerup",function(e){v(e)||(f(e),p(e),u(e))}),X.registerBinding(X.container,"pointercancel",function(e){v(e)||(f(e),p(e),l())}),X.registerBinding(X.container,"pointermove",function(e){var t,n;v(e)||(e.preventDefault(),t=e,(n=c.filter(function(e){return e.event.pointerId===t.pointerId})[0]).event=t,n.touch=d(t),p(e),s(e))})}},e.exports=r},function(e,t,n){"use strict";var b=n(2),r={generatePolygon:function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,draw:function(e,t,n,r,i){this.renderer.nodeShapeImpl("polygon",e,t,n,r,i,this.points)},intersectLine:function(e,t,n,r,i,a,o){return b.polygonIntersectLine(i,a,this.points,e,t,n/2,r/2,o)},checkPoint:function(e,t,n,r,i,a,o){return b.pointInsidePolygon(e,t,this.points,a,o,r,i,[0,-1],n)}}},generateEllipse:function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,t,n,r,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,i)},intersectLine:function(e,t,n,r,i,a,o){return b.intersectLineEllipse(i,a,e,t,n/2+o,r/2+o)},checkPoint:function(e,t,n,r,i,a,o){return b.checkInEllipse(e,t,n,r,i,a,o)}}},generateRoundRectangle:function(){return this.nodeShapes.roundrectangle={renderer:this,name:"roundrectangle",points:b.generateUnitNgonPointsFitToSquare(4,0),draw:function(e,t,n,r,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,i)},intersectLine:function(e,t,n,r,i,a,o){return b.roundRectangleIntersectLine(i,a,e,t,n,r,o)},checkPoint:function(e,t,n,r,i,a,o){var s=b.getRoundRectangleRadius(r,i);return!!(b.pointInsidePolygon(e,t,this.points,a,o,r,i-2*s,[0,-1],n)||b.pointInsidePolygon(e,t,this.points,a,o,r-2*s,i,[0,-1],n)||b.checkInEllipse(e,t,a-r/2+s,o-i/2+s,2*s,2*s,n)||b.checkInEllipse(e,t,a+r/2-s,o-i/2+s,2*s,2*s,n)||b.checkInEllipse(e,t,a+r/2-s,o+i/2-s,2*s,2*s,n)||b.checkInEllipse(e,t,a-r/2+s,o+i/2-s,2*s,2*s,n))}}},generateCutRectangle:function(){return this.nodeShapes.cutrectangle={renderer:this,name:"cutrectangle",cornerLength:b.getCutRectangleCornerLength(),points:b.generateUnitNgonPointsFitToSquare(4,0),draw:function(e,t,n,r,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,i)},generateCutTrianglePts:function(e,t,n,r){var i=this.cornerLength,a=t/2,o=e/2,s=n-o,l=n+o,u=r-a,c=r+a;return{topLeft:[s,u+i,s+i,u,s+i,u+i],topRight:[l-i,u,l,u+i,l-i,u+i],bottomRight:[l,c-i,l-i,c,l-i,c-i],bottomLeft:[s+i,c,s,c-i,s+i,c-i]}},intersectLine:function(e,t,n,r,i,a,o){var s=this.generateCutTrianglePts(n+2*o,r+2*o,e,t),l=[].concat.apply([],[s.topLeft.splice(0,4),s.topRight.splice(0,4),s.bottomRight.splice(0,4),s.bottomLeft.splice(0,4)]);return b.polygonIntersectLine(i,a,l,e,t)},checkPoint:function(e,t,n,r,i,a,o){if(b.pointInsidePolygon(e,t,this.points,a,o,r,i-2*this.cornerLength,[0,-1],n))return!0;if(b.pointInsidePolygon(e,t,this.points,a,o,r-2*this.cornerLength,i,[0,-1],n))return!0;var s=this.generateCutTrianglePts(r,i,a,o);return b.pointInsidePolygonPoints(e,t,s.topLeft)||b.pointInsidePolygonPoints(e,t,s.topRight)||b.pointInsidePolygonPoints(e,t,s.bottomRight)||b.pointInsidePolygonPoints(e,t,s.bottomLeft)}}},generateBarrel:function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:b.generateUnitNgonPointsFitToSquare(4,0),draw:function(e,t,n,r,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,i)},intersectLine:function(e,t,n,r,i,a,o){var s=this.generateBarrelBezierPts(n+2*o,r+2*o,e,t),l=[].concat(s.topLeft,s.topRight,s.bottomRight,s.bottomLeft);return b.polygonIntersectLine(i,a,l,e,t)},generateBarrelBezierPts:function(e,t,n,r){var i=t/2,a=e/2,o=n-a,s=n+a,l=r-i,u=r+i,c=b.getBarrelCurveConstants(e,t),d=c.heightOffset,h=c.widthOffset,f=c.ctrlPtOffsetPct*e,p={topLeft:[o,l+d,o+f,l,o+h,l],topRight:[s-h,l,s-f,l,s,l+d],bottomRight:[s,u-d,s-f,u,s-h,u],bottomLeft:[o+h,u,o+f,u,o,u-d]};return p.topLeft.isTop=!0,p.topRight.isTop=!0,p.bottomLeft.isBottom=!0,p.bottomRight.isBottom=!0,p},checkPoint:function(e,t,n,r,i,a,o){var s=b.getBarrelCurveConstants(r,i),l=s.heightOffset,u=s.widthOffset;if(b.pointInsidePolygon(e,t,this.points,a,o,r,i-2*l,[0,-1],n))return!0;if(b.pointInsidePolygon(e,t,this.points,a,o,r-2*u,i,[0,-1],n))return!0;for(var c=this.generateBarrelBezierPts(r,i,a,o),d=Object.keys(c),h=0;h<d.length;h++){var f=c[d[h]],p=function(e,t,n){var r=n[4],i=n[2],a=n[0],o=n[5],s=n[1],l=Math.min(r,a),u=Math.max(r,a),c=Math.min(o,s),d=Math.max(o,s);if(l<=e&&e<=u&&c<=t&&t<=d){var h=b.bezierPtsToQuadCoeff(r,i,a),f=b.solveQuadratic(h[0],h[1],h[2],e).filter(function(e){return 0<=e&&e<=1});if(0<f.length)return f[0]}return null}(e,t,f);if(null!=p){var v=f[5],g=f[3],m=f[1],y=b.qbezierAt(v,g,m,p);if(f.isTop&&y<=t)return!0;if(f.isBottom&&t<=y)return!0}}return!1}}},generateBottomRoundrectangle:function(){return this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottomroundrectangle",points:b.generateUnitNgonPointsFitToSquare(4,0),draw:function(e,t,n,r,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,i)},intersectLine:function(e,t,n,r,i,a,o){var s=e-(n/2+o),l=t-(r/2+o),u=l,c=e+(n/2+o),d=b.finiteLinesIntersect(i,a,e,t,s,l,c,u,!1);return 0<d.length?d:b.roundRectangleIntersectLine(i,a,e,t,n,r,o)},checkPoint:function(e,t,n,r,i,a,o){var s=b.getRoundRectangleRadius(r,i);if(b.pointInsidePolygon(e,t,this.points,a,o,r,i-2*s,[0,-1],n))return!0;if(b.pointInsidePolygon(e,t,this.points,a,o,r-2*s,i,[0,-1],n))return!0;var l=r/2+2*n,u=i/2+2*n,c=[a-l,o-u,a-l,o,a+l,o,a+l,o-u];return!!b.pointInsidePolygonPoints(e,t,c)||!!b.checkInEllipse(e,t,a+r/2-s,o+i/2-s,2*s,2*s,n)||!!b.checkInEllipse(e,t,a-r/2+s,o+i/2-s,2*s,2*s,n)}}},registerNodeShapes:function(){var e=this.nodeShapes={},r=this;this.generateEllipse(),this.generatePolygon("triangle",b.generateUnitNgonPointsFitToSquare(3,0)),this.generatePolygon("rectangle",b.generateUnitNgonPointsFitToSquare(4,0)),e.square=e.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle(),this.generatePolygon("diamond",[0,1,1,0,0,-1,-1,0]),this.generatePolygon("pentagon",b.generateUnitNgonPointsFitToSquare(5,0)),this.generatePolygon("hexagon",b.generateUnitNgonPointsFitToSquare(6,0)),this.generatePolygon("heptagon",b.generateUnitNgonPointsFitToSquare(7,0)),this.generatePolygon("octagon",b.generateUnitNgonPointsFitToSquare(8,0));var t=new Array(20),n=b.generateUnitNgonPoints(5,0),i=b.generateUnitNgonPoints(5,Math.PI/5),a=.5*(3-Math.sqrt(5));a*=1.57;for(var o=0;o<i.length/2;o++)i[2*o]*=a,i[2*o+1]*=a;for(o=0;o<5;o++)t[4*o]=n[2*o],t[4*o+1]=n[2*o+1],t[4*o+2]=i[2*o],t[4*o+3]=i[2*o+1];t=b.fitPolygonToSquare(t),this.generatePolygon("star",t),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("concavehexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]),this.generatePolygon("tag",[-1,-1,.25,-1,1,0,.25,1,-1,1]),e.makePolygon=function(e){var t,n="polygon-"+e.join("$");return(t=this[n])?t:r.generatePolygon(n,e)}}};e.exports=r},function(e,t,n){"use strict";var o=n(1),r={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(e){e=e||o.staticEmptyObject();void 0===this.averageRedrawTime&&(this.averageRedrawTime=0),void 0===this.lastRedrawTime&&(this.lastRedrawTime=0),void 0===this.lastDrawTime&&(this.lastDrawTime=0),this.requestedFrame=!0,this.renderOptions=e},beforeRender:function(e,t){if(!this.destroyed){t=t||0;var n=this.beforeRenderCallbacks;n.push({fn:e,priority:t}),n.sort(function(e,t){return t.priority-e.priority})}}},s=function(e,t,n){for(var r=e.beforeRenderCallbacks,i=0;i<r.length;i++)r[i].fn(t,n)};r.startRenderLoop=function(){var a=this;if(!a.renderLoopStarted){a.renderLoopStarted=!0;o.requestAnimationFrame(function e(t){if(!a.destroyed){if(a.requestedFrame&&!a.skipFrame){s(a,!0,t);var n=o.performanceNow();a.render(a.renderOptions);var r=a.lastDrawTime=o.performanceNow();void 0===a.averageRedrawTime&&(a.averageRedrawTime=r-n),void 0===a.redrawCount&&(a.redrawCount=0),a.redrawCount++,void 0===a.redrawTotalTime&&(a.redrawTotalTime=0);var i=r-n;a.redrawTotalTime+=i,a.lastRedrawTime=i,a.averageRedrawTime=a.averageRedrawTime/2+i/2,a.requestedFrame=!1}else s(a,!1,t);a.skipFrame=!1,o.requestAnimationFrame(e)}})}},e.exports=r},function(e,t,n){"use strict";var r,i={arrowShapeImpl:function(e){return(r||(r={polygon:function(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.lineTo(r.x,r.y)}},"triangle-backcurve":function(e,t,n){for(var r,i=0;i<t.length;i++){var a=t[i];0===i&&(r=a),e.lineTo(a.x,a.y)}e.quadraticCurveTo(n.x,n.y,r.x,r.y)},"triangle-tee":function(e,t,n){e.beginPath&&e.beginPath();for(var r=t,i=0;i<r.length;i++){var a=r[i];e.lineTo(a.x,a.y)}e.closePath&&e.closePath(),e.beginPath&&e.beginPath();var o=n,s=n[0];e.moveTo(s.x,s.y);for(i=0;i<o.length;i++){a=o[i];e.lineTo(a.x,a.y)}e.closePath&&e.closePath()},"triangle-cross":function(e,t,n){e.beginPath&&e.beginPath();for(var r=t,i=0;i<r.length;i++){var a=r[i];e.lineTo(a.x,a.y)}e.closePath&&e.closePath(),e.beginPath&&e.beginPath();var o=n,s=n[0];e.moveTo(s.x,s.y);for(i=0;i<o.length;i++){a=o[i];e.lineTo(a.x,a.y)}e.closePath&&e.closePath()},circle:function(e,t,n,r){e.arc(t,n,r,0,2*Math.PI,!1)}}))[e]}};e.exports=i},function(e,t,n){"use strict";var r={drawEdge:function(t,n,e,r){var i=this,a=n._private.rscratch,o=i.usePaths();if(!a.badLine&&!isNaN(a.allpts[0])&&n.visible()){var s=void 0;e&&(s=e,t.translate(-s.x1,-s.y1));var l=2*n.pstyle("overlay-padding").pfValue,u=n.pstyle("overlay-opacity").value,c=n.pstyle("overlay-color").value,d=n.pstyle("line-color").value,h=n.pstyle("opacity").value,f=n.pstyle("line-style").value,p=n.pstyle("width").pfValue,v=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:h;t.lineWidth=p,t.lineCap="butt",i.strokeStyle(t,d[0],d[1],d[2],e),i.drawEdgePath(n,t,a.allpts,f)},g=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:h;i.drawArrowheads(t,n,e)};if(t.lineJoin="round","yes"===n.pstyle("ghost").value){var m=n.pstyle("ghost-offset-x").pfValue,y=n.pstyle("ghost-offset-y").pfValue,b=n.pstyle("ghost-opacity").value,w=h*b;t.translate(m,y),v(w),g(w),t.translate(-m,-y)}v(),g(),function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:u;t.lineWidth=l,"self"!==a.edgeType||o?t.lineCap="round":t.lineCap="butt",i.strokeStyle(t,c[0],c[1],c[2],e),i.drawEdgePath(n,t,a.allpts,"solid")}(),i.drawElementText(t,n,r),e&&t.translate(s.x1,s.y1)}},drawEdgePath:function(e,t,n,r){var i=e._private.rscratch,a=t,o=void 0,s=!1,l=this.usePaths();if(l){var u=n.join("$");i.pathCacheKey&&i.pathCacheKey===u?(o=t=i.pathCache,s=!0):(o=t=new Path2D,i.pathCacheKey=u,i.pathCache=o)}if(a.setLineDash)switch(r){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash([6,3]);break;case"solid":a.setLineDash([])}if(!s&&!i.badLine)switch(t.beginPath&&t.beginPath(),t.moveTo(n[0],n[1]),i.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var c=2;c+3<n.length;c+=4)t.quadraticCurveTo(n[c],n[c+1],n[c+2],n[c+3]);break;case"straight":case"segments":case"haystack":for(var d=2;d+1<n.length;d+=2)t.lineTo(n[d],n[d+1])}t=a,l?t.stroke(o):t.stroke(),t.setLineDash&&t.setLineDash([])},drawArrowheads:function(e,t,n){var r=t._private.rscratch,i="haystack"===r.edgeType;i||this.drawArrowhead(e,t,"source",r.arrowStartX,r.arrowStartY,r.srcArrowAngle,n),this.drawArrowhead(e,t,"mid-target",r.midX,r.midY,r.midtgtArrowAngle,n),this.drawArrowhead(e,t,"mid-source",r.midX,r.midY,r.midsrcArrowAngle,n),i||this.drawArrowhead(e,t,"target",r.arrowEndX,r.arrowEndY,r.tgtArrowAngle,n)},drawArrowhead:function(e,t,n,r,i,a,o){if(!(isNaN(r)||null==r||isNaN(i)||null==i||isNaN(a)||null==a)){var s=t.pstyle(n+"-arrow-shape").value;if("none"!==s){var l="hollow"===t.pstyle(n+"-arrow-fill").value?"both":"filled",u=t.pstyle(n+"-arrow-fill").value,c=t.pstyle("width").pfValue,d=t.pstyle("opacity").value;void 0===o&&(o=d);var h=e.globalCompositeOperation;1===o&&"hollow"!==u||(e.globalCompositeOperation="destination-out",this.fillStyle(e,255,255,255,1),this.strokeStyle(e,255,255,255,1),this.drawArrowShape(t,n,e,l,c,s,r,i,a),e.globalCompositeOperation=h);var f=t.pstyle(n+"-arrow-color").value;this.fillStyle(e,f[0],f[1],f[2],o),this.strokeStyle(e,f[0],f[1],f[2],o),this.drawArrowShape(t,n,e,u,c,s,r,i,a)}}},drawArrowShape:function(e,t,n,r,i,a,o,s,l){var u=this.usePaths(),c=e._private.rscratch,d=!1,h=void 0,f=n,p={x:o,y:s},v=e.pstyle("arrow-scale").value,g=this.getArrowWidth(i,v),m=this.arrowShapes[a];if(u){var y=g+"$"+a+"$"+l+"$"+o+"$"+s;c.arrowPathCacheKey=c.arrowPathCacheKey||{},c.arrowPathCache=c.arrowPathCache||{},c.arrowPathCacheKey[t]===y?(h=n=c.arrowPathCache[t],d=!0):(h=n=new Path2D,c.arrowPathCacheKey[t]=y,c.arrowPathCache[t]=h)}n.beginPath&&n.beginPath(),d||m.draw(n,g,l,p,i),!m.leavePathOpen&&n.closePath&&n.closePath(),n=f,"filled"!==r&&"both"!==r||(u?n.fill(h):n.fill()),"hollow"!==r&&"both"!==r||(n.lineWidth=m.matchEdgeWidth?i:1,n.lineJoin="miter",u?n.stroke(h):n.stroke())}};e.exports=r},function(e,t,n){"use strict";var o=n(2),r={drawElement:function(e,t,n,r){t.isNode()?this.drawNode(e,t,n,r):this.drawEdge(e,t,n,r)},drawCachedElement:function(e,t,n,r){var i=t.boundingBox();if(0!==i.w&&0!==i.h&&(!r||o.boundingBoxesIntersect(i,r))){var a=this.data.eleTxrCache.getElement(t,i,n);null!=a?e.drawImage(a.texture.canvas,a.x,0,a.width,a.height,i.x1,i.y1,i.w,i.h):this.drawElement(e,t)}},drawElements:function(e,t){for(var n=0;n<t.length;n++){var r=t[n];this.drawElement(e,r)}},drawCachedElements:function(e,t,n,r){for(var i=0;i<t.length;i++){var a=t[i];this.drawCachedElement(e,a,n,r)}},drawCachedNodes:function(e,t,n,r){for(var i=0;i<t.length;i++){var a=t[i];a.isNode()&&this.drawCachedElement(e,a,n,r)}},drawLayeredElements:function(e,t,n,r){var i=this.data.lyrTxrCache.getLayers(t,n);if(i)for(var a=0;a<i.length;a++){var o=i[a],s=o.bb;0!==s.w&&0!==s.h&&e.drawImage(o.canvas,s.x1,s.y1,s.w,s.h)}else this.drawCachedElements(e,t,n,r)},drawDebugPoints:function(r,e){for(var t=function(e,t,n){r.fillStyle=n,r.fillRect(e-1,t-1,3,3)},n=0;n<e.length;n++){var i=e[n],a=i._private.rscratch;if(i.isNode()){var o=i.position();t(o.x,o.y,"magenta")}else{for(var s=a.allpts,l=0;l+1<s.length;l+=2)t(s[l],s[l+1],"cyan");t(a.midX,a.midY,"yellow")}}}};e.exports=r},function(e,t,n){"use strict";var r={safeDrawImage:function(e,t,n,r,i,a,o,s,l,u){i<=0||a<=0||l<=0||u<=0||e.drawImage(t,n,r,i,a,o,s,l,u)},drawInscribedImage:function(e,t,n,r,i){var a=n.position(),o=a.x,s=a.y,l=n.cy().style(),u=l.getIndexedStyle.bind(l),c=u(n,"background-fit","value",r),d=u(n,"background-repeat","value",r),h=n.width(),f=n.height(),p=2*n.padding(),v=h+("inner"===u(n,"background-width-relative-to","value",r)?0:p),g=f+("inner"===u(n,"background-height-relative-to","value",r)?0:p),m=n._private.rscratch,y="node"===n.pstyle("background-clip").value,b=u(n,"background-image-opacity","value",r)*i,w=t.width||t.cachedW,x=t.height||t.cachedH;null!=w&&null!=x||(document.body.appendChild(t),w=t.cachedW=t.width||t.offsetWidth,x=t.cachedH=t.height||t.offsetHeight,document.body.removeChild(t));var E=w,_=x;if("auto"!==u(n,"background-width","value",r)&&(E="%"===u(n,"background-width","units",r)?u(n,"background-width","pfValue",r)*v:u(n,"background-width","pfValue",r)),"auto"!==u(n,"background-height","value",r)&&(_="%"===u(n,"background-height","units",r)?u(n,"background-height","pfValue",r)*g:u(n,"background-height","pfValue",r)),0!==E&&0!==_){if("contain"===c)E*=k=Math.min(v/E,g/_),_*=k;else if("cover"===c){var k;E*=k=Math.max(v/E,g/_),_*=k}var C=o-v/2;C+="%"===u(n,"background-position-x","units",r)?(v-E)*u(n,"background-position-x","pfValue",r):u(n,"background-position-x","pfValue",r);var T=s-g/2;T+="%"===u(n,"background-position-y","units",r)?(g-_)*u(n,"background-position-y","pfValue",r):u(n,"background-position-y","pfValue",r),m.pathCache&&(C-=o,T-=s,s=o=0);var I=e.globalAlpha;if(e.globalAlpha=b,"no-repeat"===d)y&&(e.save(),m.pathCache?e.clip(m.pathCache):(this.nodeShapes[this.getNodeShape(n)].draw(e,o,s,v,g),e.clip())),this.safeDrawImage(e,t,0,0,w,x,C,T,E,_),y&&e.restore();else{var P=e.createPattern(t,d);e.fillStyle=P,this.nodeShapes[this.getNodeShape(n)].draw(e,o,s,v,g),e.translate(C,T),e.fill(),e.translate(-C,-T)}e.globalAlpha=I}}};e.exports=r},function(e,t,n){"use strict";var H=n(1),a=n(2),r={eleTextBiggerThanMin:function(e,t){if(!t){var n=e.cy().zoom(),r=this.getPixelRatio(),i=Math.ceil(a.log2(n*r));t=Math.pow(2,i)}return!(e.pstyle("font-size").pfValue*t<e.pstyle("min-zoomed-font-size").pfValue)},drawElementText:function(e,t,n){if(void 0===n){if(!this.eleTextBiggerThanMin(t))return}else if(!n)return;if(t.isNode()){if(!(i=t.pstyle("label"))||!i.value)return;var r=t.pstyle("text-halign").strValue;switch(t.pstyle("text-valign").strValue,r){case"left":e.textAlign="right";break;case"right":e.textAlign="left";break;default:e.textAlign="center"}e.textBaseline="bottom"}else{var i=t.pstyle("label"),a=t.pstyle("source-label"),o=t.pstyle("target-label");if(!(i&&i.value||a&&a.value||o&&o.value))return;e.textAlign="center",e.textBaseline="bottom"}this.drawText(e,t),t.isEdge()&&(this.drawText(e,t,"source"),this.drawText(e,t,"target"))}};r.drawNodeText=r.drawEdgeText=r.drawElementText,r.getFontCache=function(e){var t;this.fontCaches=this.fontCaches||[];for(var n=0;n<this.fontCaches.length;n++)if((t=this.fontCaches[n]).context===e)return t;return t={context:e},this.fontCaches.push(t),t},r.setupTextStyle=function(e,t){var n=t.effectiveOpacity(),r=t.pstyle("font-style").strValue,i=t.pstyle("font-size").pfValue+"px",a=t.pstyle("font-family").strValue,o=t.pstyle("font-weight").strValue,s=t.pstyle("text-opacity").value*t.pstyle("opacity").value*n,l=t.pstyle("text-outline-opacity").value*s,u=t.pstyle("color").value,c=t.pstyle("text-outline-color").value,d=t._private.fontKey,h=this.getFontCache(e);h.key!==d&&(e.font=r+" "+o+" "+i+" "+a,h.key=d),e.lineJoin="round",this.fillStyle(e,u[0],u[1],u[2],s),this.strokeStyle(e,c[0],c[1],c[2],l)},r.drawText=function(e,t,n){var r,i,a,o,s,l,u=t._private.rscratch,c=t.effectiveOpacity();if(0!==c&&0!==t.pstyle("text-opacity").value){var d=H.getPrefixedProperty(u,"labelX",n),h=H.getPrefixedProperty(u,"labelY",n),f=this.getLabelText(t,n);if(null!=f&&""!==f&&!isNaN(d)&&!isNaN(h)){this.setupTextStyle(e,t);var p=n?n+"-":"",v=H.getPrefixedProperty(u,"labelWidth",n),g=H.getPrefixedProperty(u,"labelHeight",n),m=H.getPrefixedProperty(u,"labelAngle",n),y=t.pstyle(p+"text-margin-x").pfValue,b=t.pstyle(p+"text-margin-y").pfValue,w=t.isEdge(),x=(t.isNode(),t.pstyle("text-halign").value),E=t.pstyle("text-valign").value;w&&(E=x="center"),d+=y,h+=b;var _,k=t.pstyle("text-rotation");if(0!==(_="autorotate"===k.strValue?w?m:0:"none"===k.strValue?0:k.pfValue)){var C=d,T=h;e.translate(C,T),e.rotate(_),h=d=0}switch(E){case"top":break;case"center":h+=g/2;break;case"bottom":h+=g}var I=t.pstyle("text-background-opacity").value,P=t.pstyle("text-border-opacity").value,N=t.pstyle("text-border-width").pfValue,S=t.pstyle("text-background-padding").pfValue;if(0<I||0<N&&0<P){var B=d-S;switch(x){case"left":B-=v;break;case"center":B-=v/2}var D=h-g-S,M=v+2*S,L=g+2*S;if(0<I){var A=e.fillStyle,O=t.pstyle("text-background-color").value;e.fillStyle="rgba("+O[0]+","+O[1]+","+O[2]+","+I*c+")","roundrectangle"==t.pstyle("text-background-shape").strValue?(i=B,a=D,o=M,s=L,l=(l=2)||5,(r=e).beginPath(),r.moveTo(i+l,a),r.lineTo(i+o-l,a),r.quadraticCurveTo(i+o,a,i+o,a+l),r.lineTo(i+o,a+s-l),r.quadraticCurveTo(i+o,a+s,i+o-l,a+s),r.lineTo(i+l,a+s),r.quadraticCurveTo(i,a+s,i,a+s-l),r.lineTo(i,a+l),r.quadraticCurveTo(i,a,i+l,a),r.closePath(),r.fill()):e.fillRect(B,D,M,L),e.fillStyle=A}if(0<N&&0<P){var R=e.strokeStyle,z=e.lineWidth,j=t.pstyle("text-border-color").value,V=t.pstyle("text-border-style").value;if(e.strokeStyle="rgba("+j[0]+","+j[1]+","+j[2]+","+P*c+")",e.lineWidth=N,e.setLineDash)switch(V){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"double":e.lineWidth=N/4,e.setLineDash([]);break;case"solid":e.setLineDash([])}if(e.strokeRect(B,D,M,L),"double"===V){var F=N/2;e.strokeRect(B+F,D+F,M-2*F,L-2*F)}e.setLineDash&&e.setLineDash([]),e.lineWidth=z,e.strokeStyle=R}}var q=2*t.pstyle("text-outline-width").pfValue;if(0<q&&(e.lineWidth=q),"wrap"===t.pstyle("text-wrap").value){var X=H.getPrefixedProperty(u,"labelWrapCachedLines",n),Y=g/X.length;switch(E){case"top":h-=(X.length-1)*Y;break;case"center":case"bottom":h-=(X.length-1)*Y}for(var W=0;W<X.length;W++)0<q&&e.strokeText(X[W],d,h),e.fillText(X[W],d,h),h+=Y}else 0<q&&e.strokeText(f,d,h),e.fillText(f,d,h);0!==_&&(e.rotate(-_),e.translate(-C,-T))}}},e.exports=r},function(e,t,n){"use strict";var U=n(0),r={drawNode:function(i,a,e,t){var n,r,o,s=this,l=void 0,u=void 0,c=a._private,d=c.rscratch,h=a.position();if(U.number(h.x)&&U.number(h.y)&&a.visible()){var f=a.effectiveOpacity(),p=s.usePaths(),v=void 0,g=!1,m=a.padding();l=a.width()+2*m,u=a.height()+2*m,i.lineWidth=a.pstyle("border-width").pfValue;var y=void 0;e&&(y=e,i.translate(-y.x1,-y.y1));for(var b=a.pstyle("background-image").value,w=void 0,x=[],E=[],_=b.length,k=0;k<_;k++)if(w=b[k],x[k]=null!=w&&"none"!==w,x[k]){var C=a.cy().style().getIndexedStyle(a,"background-image-crossorigin","value",k);E[k]=s.getCachedImage(w,C,function(){a.emitAndNotify("background")})}var T=a.pstyle("background-blacken").value,I=a.pstyle("border-width").pfValue,P=a.pstyle("background-color").value,N=a.pstyle("background-opacity").value*f,S=a.pstyle("border-color").value,B=a.pstyle("border-style").value,D=a.pstyle("border-opacity").value*f;if(i.lineJoin="miter",i.setLineDash)switch(B){case"dotted":i.setLineDash([1,1]);break;case"dashed":i.setLineDash([4,2]);break;case"solid":case"double":i.setLineDash([])}var M=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:N;s.fillStyle(i,P[0],P[1],P[2],e)},L=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:D;s.strokeStyle(i,S[0],S[1],S[2],e)},A=a.pstyle("shape").strValue,O=a.pstyle("shape-polygon-points").pfValue;if(p){var R=A+"$"+l+"$"+u+("polygon"===A?"$"+O.join("$"):"");i.translate(h.x,h.y),d.pathCacheKey===R?(v=d.pathCache,g=!0):(v=new Path2D,d.pathCacheKey=R,d.pathCache=v)}var z=function(){if(!g){var e=h;p&&(e={x:0,y:0}),s.nodeShapes[s.getNodeShape(a)].draw(v||i,e.x,e.y,l,u)}p?i.fill(v):i.fill()},j=function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:f,t=c.backgrounding,n=0,r=0;r<_;r++)x[r]&&E[r].complete&&!E[r].error&&(n++,s.drawInscribedImage(i,E[r],a,r,e));c.backgrounding=!(n===_),t!==c.backgrounding&&a.updateStyle(!1)},V=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:f;s.hasPie(a)&&(s.drawPie(i,a,t),e&&(p||s.nodeShapes[s.getNodeShape(a)].draw(i,h.x,h.y,l,u)))},F=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:f,t=(0<T?T:-T)*e,n=0<T?0:255;0!==T&&(s.fillStyle(i,n,n,n,t),p?i.fill(v):i.fill())},q=function(){if(0<I&&(p?i.stroke(v):i.stroke(),"double"===B)){i.lineWidth=I/3;var e=i.globalCompositeOperation;i.globalCompositeOperation="destination-out",p?i.stroke(v):i.stroke(),i.globalCompositeOperation=e}};if("yes"===a.pstyle("ghost").value){var X=a.pstyle("ghost-offset-x").pfValue,Y=a.pstyle("ghost-offset-y").pfValue,W=a.pstyle("ghost-opacity").value,H=W*f;i.translate(X,Y),M(W*N),z(),j(H),V(0!==T||0!==I),F(H),L(W*D),q(),i.translate(-X,-Y)}M(),z(),j(),V(0!==T||0!==I),F(),L(),q(),p&&i.translate(-h.x,-h.y),s.drawElementText(i,a,t),n=a.pstyle("overlay-padding").pfValue,r=a.pstyle("overlay-opacity").value,o=a.pstyle("overlay-color").value,0<r&&(s.fillStyle(i,o[0],o[1],o[2],r),s.nodeShapes.roundrectangle.draw(i,h.x,h.y,l+2*n,u+2*n),i.fill()),i.setLineDash&&i.setLineDash([]),e&&i.translate(y.x1,y.y1)}},hasPie:function(e){return(e=e[0])._private.hasPie},drawPie:function(e,t,n,r){t=t[0],r=r||t.position();var i=t.cy().style(),a=t.pstyle("pie-size"),o=r.x,s=r.y,l=t.width(),u=t.height(),c=Math.min(l,u)/2,d=0;this.usePaths()&&(s=o=0),"%"===a.units?c*=a.pfValue:void 0!==a.pfValue&&(c=a.pfValue/2);for(var h=1;h<=i.pieBackgroundN;h++){var f=t.pstyle("pie-"+h+"-background-size").value,p=t.pstyle("pie-"+h+"-background-color").value,v=t.pstyle("pie-"+h+"-background-opacity").value*n,g=f/100;1<g+d&&(g=1-d);var m=1.5*Math.PI+2*Math.PI*d,y=m+2*Math.PI*g;0===f||1<=d||1<d+g||(e.beginPath(),e.moveTo(o,s),e.arc(o,s,c,m,y),e.closePath(),this.fillStyle(e,p[0],p[1],p[2],v),e.fill(),d+=g)}}};e.exports=r},function(e,t,n){"use strict";var r={},U=n(1);r.getPixelRatio=function(){var e=this.data.contexts[0];if(null!=this.forcedPixelRatio)return this.forcedPixelRatio;var t=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/t},r.paintCache=function(e){for(var t,n=this.paintCaches=this.paintCaches||[],r=!0,i=0;i<n.length;i++)if((t=n[i]).context===e){r=!1;break}return r&&(t={context:e},n.push(t)),t},r.fillStyle=function(e,t,n,r,i){e.fillStyle="rgba("+t+","+n+","+r+","+i+")"},r.strokeStyle=function(e,t,n,r,i){e.strokeStyle="rgba("+t+","+n+","+r+","+i+")"},r.matchCanvasSize=function(e){var t=this,n=t.data,r=t.findContainerClientCoords(),i=r[2],a=r[3],o=t.getPixelRatio(),s=t.motionBlurPxRatio;e!==t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE]&&e!==t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG]||(o=s);var l,u=i*o,c=a*o;if(u!==t.canvasWidth||c!==t.canvasHeight){t.fontCaches=null;var d=n.canvasContainer;d.style.width=i+"px",d.style.height=a+"px";for(var h=0;h<t.CANVAS_LAYERS;h++)(l=n.canvases[h]).width=u,l.height=c,l.style.width=i+"px",l.style.height=a+"px";for(h=0;h<t.BUFFER_COUNT;h++)(l=n.bufferCanvases[h]).width=u,l.height=c,l.style.width=i+"px",l.style.height=a+"px";o<=(t.textureMult=1)&&(l=n.bufferCanvases[t.TEXTURE_BUFFER],t.textureMult=2,l.width=u*t.textureMult,l.height=c*t.textureMult),t.canvasWidth=u,t.canvasHeight=c}},r.renderTo=function(e,t,n,r){this.render({forcedContext:e,forcedZoom:t,forcedPan:n,drawAllLayers:!0,forcedPxRatio:r})},r.render=function(e){function o(e,t,n,r,i){var a=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",d.fillStyle(e,255,255,255,d.motionBlurTransparency),e.fillRect(t,n,r,i),e.globalCompositeOperation=a}function t(e,t){var n,r,i,a;a=d.clearingMotionBlur||e!==h.bufferContexts[d.MOTIONBLUR_BUFFER_NODE]&&e!==h.bufferContexts[d.MOTIONBLUR_BUFFER_DRAG]?(n=k,r=E,i=d.canvasWidth,d.canvasHeight):(n={x:_.x*v,y:_.y*v},r=x*v,i=d.canvasWidth*v,d.canvasHeight*v),e.setTransform(1,0,0,1,0,0),"motionBlur"===t?o(e,0,0,i,a):s||void 0!==t&&!t||e.clearRect(0,0,i,a),l||(e.translate(n.x,n.y),e.scale(r,r)),c&&e.translate(c.x,c.y),u&&e.scale(u,u)}var s=(e=e||U.staticEmptyObject()).forcedContext,l=e.drawAllLayers,n=e.drawOnlyNodeLayer,u=e.forcedZoom,c=e.forcedPan,d=this,r=void 0===e.forcedPxRatio?this.getPixelRatio():e.forcedPxRatio,i=d.cy,h=d.data,a=h.canvasNeedsRedraw,f=d.textureOnViewport&&!s&&(d.pinching||d.hoverData.dragging||d.swipePanning||d.data.wheelZooming),p=void 0!==e.motionBlur?e.motionBlur:d.motionBlur,v=d.motionBlurPxRatio,g=i.hasCompoundNodes(),m=d.hoverData.draggingEles,y=!(!d.hoverData.selecting&&!d.touchData.selecting),b=p=p&&!s&&d.motionBlurEnabled&&!y;s||(d.prevPxRatio!==r&&(d.invalidateContainerClientCoordsCache(),d.matchCanvasSize(d.container),d.redrawHint("eles",!0),d.redrawHint("drag",!0)),d.prevPxRatio=r),!s&&d.motionBlurTimeout&&clearTimeout(d.motionBlurTimeout),p&&(null==d.mbFrames&&(d.mbFrames=0),d.mbFrames++,d.mbFrames<3&&(b=!1),d.mbFrames>d.minMbLowQualFrames&&(d.motionBlurPxRatio=d.mbPxRBlurry)),d.clearingMotionBlur&&(d.motionBlurPxRatio=1),d.textureDrawLastFrame&&!f&&(a[d.NODE]=!0,a[d.SELECT_BOX]=!0);var w=i.style()._private.coreStyle,x=i.zoom(),E=void 0!==u?u:x,_=i.pan(),k={x:_.x,y:_.y},C={zoom:x,pan:{x:_.x,y:_.y}},T=d.prevViewport;void 0===T||C.zoom!==T.zoom||C.pan.x!==T.pan.x||C.pan.y!==T.pan.y||m&&!g||(d.motionBlurPxRatio=1),c&&(k=c),E*=r,k.x*=r,k.y*=r;var I=d.getCachedZSortedEles();if(f||(d.textureDrawLastFrame=!1),f){if(d.textureDrawLastFrame=!0,!d.textureCache){d.textureCache={},d.textureCache.bb=i.mutableElements().boundingBox(),d.textureCache.texture=d.data.bufferCanvases[d.TEXTURE_BUFFER];var P=d.data.bufferContexts[d.TEXTURE_BUFFER];P.setTransform(1,0,0,1,0,0),P.clearRect(0,0,d.canvasWidth*d.textureMult,d.canvasHeight*d.textureMult),d.render({forcedContext:P,drawOnlyNodeLayer:!0,forcedPxRatio:r*d.textureMult}),(C=d.textureCache.viewport={zoom:i.zoom(),pan:i.pan(),width:d.canvasWidth,height:d.canvasHeight}).mpan={x:(0-C.pan.x)/C.zoom,y:(0-C.pan.y)/C.zoom}}a[d.DRAG]=!1,a[d.NODE]=!1;var N=h.contexts[d.NODE],S=d.textureCache.texture;C=d.textureCache.viewport;d.textureCache.bb,N.setTransform(1,0,0,1,0,0),p?o(N,0,0,C.width,C.height):N.clearRect(0,0,C.width,C.height);var B=w["outside-texture-bg-color"].value,D=w["outside-texture-bg-opacity"].value;d.fillStyle(N,B[0],B[1],B[2],D),N.fillRect(0,0,C.width,C.height);x=i.zoom();t(N,!1),N.clearRect(C.mpan.x,C.mpan.y,C.width/C.zoom/r,C.height/C.zoom/r),N.drawImage(S,C.mpan.x,C.mpan.y,C.width/C.zoom/r,C.height/C.zoom/r)}else d.textureOnViewport&&!s&&(d.textureCache=null);var M=i.extent(),L=d.pinching||d.hoverData.dragging||d.swipePanning||d.data.wheelZooming||d.hoverData.draggingEles,A=d.hideEdgesOnViewport&&L,O=[];if(O[d.NODE]=!a[d.NODE]&&p&&!d.clearedForMotionBlur[d.NODE]||d.clearingMotionBlur,O[d.NODE]&&(d.clearedForMotionBlur[d.NODE]=!0),O[d.DRAG]=!a[d.DRAG]&&p&&!d.clearedForMotionBlur[d.DRAG]||d.clearingMotionBlur,O[d.DRAG]&&(d.clearedForMotionBlur[d.DRAG]=!0),a[d.NODE]||l||n||O[d.NODE]){var R=p&&!O[d.NODE]&&1!==v;t(N=s||(R?d.data.bufferContexts[d.MOTIONBLUR_BUFFER_NODE]:h.contexts[d.NODE]),p&&!R?"motionBlur":void 0),A?d.drawCachedNodes(N,I.nondrag,r,M):d.drawLayeredElements(N,I.nondrag,r,M),d.debug&&d.drawDebugPoints(N,I.nondrag),l||p||(a[d.NODE]=!1)}if(!n&&(a[d.DRAG]||l||O[d.DRAG])){R=p&&!O[d.DRAG]&&1!==v;t(N=s||(R?d.data.bufferContexts[d.MOTIONBLUR_BUFFER_DRAG]:h.contexts[d.DRAG]),p&&!R?"motionBlur":void 0),A?d.drawCachedNodes(N,I.drag,r,M):d.drawCachedElements(N,I.drag,r,M),d.debug&&d.drawDebugPoints(N,I.drag),l||p||(a[d.DRAG]=!1)}if(d.showFps||!n&&a[d.SELECT_BOX]&&!l){if(t(N=s||h.contexts[d.SELECT_BOX]),1==d.selection[4]&&(d.hoverData.selecting||d.touchData.selecting)){x=d.cy.zoom();var z=w["selection-box-border-width"].value/x;N.lineWidth=z,N.fillStyle="rgba("+w["selection-box-color"].value[0]+","+w["selection-box-color"].value[1]+","+w["selection-box-color"].value[2]+","+w["selection-box-opacity"].value+")",N.fillRect(d.selection[0],d.selection[1],d.selection[2]-d.selection[0],d.selection[3]-d.selection[1]),0<z&&(N.strokeStyle="rgba("+w["selection-box-border-color"].value[0]+","+w["selection-box-border-color"].value[1]+","+w["selection-box-border-color"].value[2]+","+w["selection-box-opacity"].value+")",N.strokeRect(d.selection[0],d.selection[1],d.selection[2]-d.selection[0],d.selection[3]-d.selection[1]))}if(h.bgActivePosistion&&!d.hoverData.selecting){x=d.cy.zoom();var j=h.bgActivePosistion;N.fillStyle="rgba("+w["active-bg-color"].value[0]+","+w["active-bg-color"].value[1]+","+w["active-bg-color"].value[2]+","+w["active-bg-opacity"].value+")",N.beginPath(),N.arc(j.x,j.y,w["active-bg-size"].pfValue/x,0,2*Math.PI),N.fill()}var V=d.lastRedrawTime;if(d.showFps&&V){V=Math.round(V);var F=Math.round(1e3/V);N.setTransform(1,0,0,1,0,0),N.fillStyle="rgba(255, 0, 0, 0.75)",N.strokeStyle="rgba(255, 0, 0, 0.75)",N.lineWidth=1,N.fillText("1 frame = "+V+" ms = "+F+" fps",0,20),N.strokeRect(0,30,250,20),N.fillRect(0,30,250*Math.min(F/60,1),20)}l||(a[d.SELECT_BOX]=!1)}if(p&&1!==v){var q=h.contexts[d.NODE],X=d.data.bufferCanvases[d.MOTIONBLUR_BUFFER_NODE],Y=h.contexts[d.DRAG],W=d.data.bufferCanvases[d.MOTIONBLUR_BUFFER_DRAG],H=function(e,t,n){e.setTransform(1,0,0,1,0,0),n||!b?e.clearRect(0,0,d.canvasWidth,d.canvasHeight):o(e,0,0,d.canvasWidth,d.canvasHeight);var r=v;e.drawImage(t,0,0,d.canvasWidth*r,d.canvasHeight*r,0,0,d.canvasWidth,d.canvasHeight)};(a[d.NODE]||O[d.NODE])&&(H(q,X,O[d.NODE]),a[d.NODE]=!1),(a[d.DRAG]||O[d.DRAG])&&(H(Y,W,O[d.DRAG]),a[d.DRAG]=!1)}d.prevViewport=C,d.clearingMotionBlur&&(d.clearingMotionBlur=!1,d.motionBlurCleared=!0,d.motionBlur=!0),p&&(d.motionBlurTimeout=setTimeout(function(){d.motionBlurTimeout=null,d.clearedForMotionBlur[d.NODE]=!1,d.clearedForMotionBlur[d.DRAG]=!1,d.motionBlur=!1,d.clearingMotionBlur=!f,d.mbFrames=0,a[d.NODE]=!0,a[d.DRAG]=!0,d.redraw()},100)),s||i.emit("render")},e.exports=r},function(e,t,n){"use strict";for(var v=n(2),r={drawPolygonPath:function(e,t,n,r,i,a){var o=r/2,s=i/2;e.beginPath&&e.beginPath(),e.moveTo(t+o*a[0],n+s*a[1]);for(var l=1;l<a.length/2;l++)e.lineTo(t+o*a[2*l],n+s*a[2*l+1]);e.closePath()},drawRoundRectanglePath:function(e,t,n,r,i){var a=r/2,o=i/2,s=v.getRoundRectangleRadius(r,i);e.beginPath&&e.beginPath(),e.moveTo(t,n-o),e.arcTo(t+a,n-o,t+a,n,s),e.arcTo(t+a,n+o,t,n+o,s),e.arcTo(t-a,n+o,t-a,n,s),e.arcTo(t-a,n-o,t,n-o,s),e.lineTo(t,n-o),e.closePath()},drawBottomRoundRectanglePath:function(e,t,n,r,i){var a=r/2,o=i/2,s=v.getRoundRectangleRadius(r,i);e.beginPath&&e.beginPath(),e.moveTo(t,n-o),e.lineTo(t+a,n-o),e.lineTo(t+a,n),e.arcTo(t+a,n+o,t,n+o,s),e.arcTo(t-a,n+o,t-a,n,s),e.lineTo(t-a,n-o),e.lineTo(t,n-o),e.closePath()},drawCutRectanglePath:function(e,t,n,r,i){var a=r/2,o=i/2,s=v.getCutRectangleCornerLength();e.beginPath&&e.beginPath(),e.moveTo(t-a+s,n-o),e.lineTo(t+a-s,n-o),e.lineTo(t+a,n-o+s),e.lineTo(t+a,n+o-s),e.lineTo(t+a-s,n+o),e.lineTo(t-a+s,n+o),e.lineTo(t-a,n+o-s),e.lineTo(t-a,n-o+s),e.closePath()},drawBarrelPath:function(e,t,n,r,i){var a=r/2,o=i/2,s=t-a,l=t+a,u=n-o,c=n+o,d=v.getBarrelCurveConstants(r,i),h=d.widthOffset,f=d.heightOffset,p=d.ctrlPtOffsetPct*h;e.beginPath&&e.beginPath(),e.moveTo(s,u+f),e.lineTo(s,c-f),e.quadraticCurveTo(s+p,c,s+h,c),e.lineTo(l-h,c),e.quadraticCurveTo(l-p,c,l,c-f),e.lineTo(l,u+f),e.quadraticCurveTo(l-p,u,l-h,u),e.lineTo(s+h,u),e.quadraticCurveTo(s+p,u,s,u+f),e.closePath()}},c=Math.sin(0),d=Math.cos(0),h={},f={},p=Math.PI/40,i=0*Math.PI;i<2*Math.PI;i+=p)h[i]=Math.sin(i),f[i]=Math.cos(i);r.drawEllipsePath=function(e,t,n,r,i){if(e.beginPath&&e.beginPath(),e.ellipse)e.ellipse(t,n,r/2,i/2,0,0,2*Math.PI);else for(var a,o,s=r/2,l=i/2,u=0*Math.PI;u<2*Math.PI;u+=p)a=t-s*h[u]*c+s*f[u]*d,o=n+l*f[u]*c+l*h[u]*d,0===u?e.moveTo(a,o):e.lineTo(a,o);e.closePath()},e.exports=r},function(e,t,n){"use strict";var N=n(2),u=n(1),r=n(8),i=n(16),S={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},a=function(e){this.renderer=e,this.onDequeues=[],this.setupDequeueing()},o=a.prototype;o.reasons=S,o.getTextureQueue=function(e){return this.eleImgCaches=this.eleImgCaches||{},this.eleImgCaches[e]=this.eleImgCaches[e]||[]},o.getRetiredTextureQueue=function(e){var t=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return t[e]=t[e]||[]},o.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new r(function(e,t){return t.reqs-e.reqs})},o.getElementIdToQueue=function(){return this.eleIdToCacheQueue=this.eleIdToCacheQueue||{}},o.getElement=function(e,t,n,r,i){var a=this,o=this.renderer,s=e._private.rscratch,l=o.cy.zoom();if(0===t.w||0===t.h||!e.visible())return null;if(null==r&&(r=Math.ceil(N.log2(l*n))),r<-4)r=-4;else if(3.99<=l||2<r)return null;var u,c=Math.pow(2,r),d=t.h*c,h=t.w*c,f=s.imgCaches=s.imgCaches||{},p=f[r];if(p)return p;if(u=d<=25?25:d<=50?50:50*Math.ceil(d/50),1024<d||1024<h||e.isEdge()||e.isParent())return null;var v=a.getTextureQueue(u),g=v[v.length-2],m=function(){return a.recycleTexture(u,h)||a.addTexture(u,h)};g||(g=v[v.length-1]),g||(g=m()),g.width-g.usedWidth<h&&(g=m());for(var y,b=o.eleTextBiggerThanMin(e,c),w=function(e){return e&&e.scaledLabelShown===b},x=i&&i===S.dequeue,E=i&&i===S.highQuality,_=i&&i===S.downscale,k=r+1;k<=2;k++){if(P=f[k]){y=P;break}}var C=y&&y.level===r+1?y:null,T=function(){g.context.drawImage(C.texture.canvas,C.x,0,C.width,C.height,g.usedWidth,0,h,d)};if(g.context.setTransform(1,0,0,1,0,0),g.context.clearRect(g.usedWidth,0,h,u),w(C))T();else if(w(y)){if(!E)return a.queueElement(e,t,y.level-1),y;for(k=y.level;r<k;k--)C=a.getElement(e,t,n,k,S.downscale);T()}else{var I;if(!x&&!E&&!_)for(k=r-1;-4<=k;k--){var P;if(P=f[k]){I=P;break}}if(w(I))return a.queueElement(e,t,r),I;g.context.translate(g.usedWidth,0),g.context.scale(c,c),o.drawElement(g.context,e,t,b),g.context.scale(1/c,1/c),g.context.translate(-g.usedWidth,0)}return p=f[r]={ele:e,x:g.usedWidth,texture:g,level:r,scale:c,width:h,height:d,scaledLabelShown:b},g.usedWidth+=Math.ceil(h+8),g.eleCaches.push(p),a.checkTextureFullness(g),p},o.invalidateElement=function(e){var t=e._private.rscratch.imgCaches;if(t)for(var n=-4;n<=2;n++){var r=t[n];if(r){var i=r.texture;i.invalidatedWidth+=r.width,t[n]=null,u.removeFromArray(i.eleCaches,r),this.checkTextureUtility(i)}}},o.checkTextureUtility=function(e){e.invalidatedWidth>=.5*e.width&&this.retireTexture(e)},o.checkTextureFullness=function(e){var t=this.getTextureQueue(e.height);.8<e.usedWidth/e.width&&10<=e.fullnessChecks?u.removeFromArray(t,e):e.fullnessChecks++},o.retireTexture=function(e){var t=e.height,n=this.getTextureQueue(t);u.removeFromArray(n,e),e.retired=!0;for(var r=e.eleCaches,i=0;i<r.length;i++){var a=r[i],o=a.ele,s=a.level,l=o._private.rscratch.imgCaches;l&&(l[s]=null)}u.clearArray(r),this.getRetiredTextureQueue(t).push(e)},o.addTexture=function(e,t){var n={};return this.getTextureQueue(e).push(n),n.eleCaches=[],n.height=e,n.width=Math.max(1024,t),n.usedWidth=0,n.invalidatedWidth=0,n.fullnessChecks=0,n.canvas=document.createElement("canvas"),n.canvas.width=n.width,n.canvas.height=n.height,n.context=n.canvas.getContext("2d"),n},o.recycleTexture=function(e,t){for(var n=this.getTextureQueue(e),r=this.getRetiredTextureQueue(e),i=0;i<r.length;i++){var a=r[i];if(a.width>=t)return a.retired=!1,a.usedWidth=0,a.invalidatedWidth=0,a.fullnessChecks=0,u.clearArray(a.eleCaches),a.context.setTransform(1,0,0,1,0,0),a.context.clearRect(0,0,a.width,a.height),u.removeFromArray(r,a),n.push(a),a}},o.queueElement=function(e,t,n){var r=this.getElementQueue(),i=this.getElementIdToQueue(),a=e.id(),o=i[a];if(o)o.level=Math.max(o.level,n),o.reqs++,r.updateItem(o);else{var s={ele:e,bb:t,position:N.copyPosition(e.position()),level:n,reqs:1};e.isEdge()&&(s.positions={source:N.copyPosition(e.source().position()),target:N.copyPosition(e.target().position())}),r.push(s),i[a]=s}},o.dequeue=function(e){for(var t=this.getElementQueue(),n=this.getElementIdToQueue(),r=[],i=0;i<1&&0<t.size();i++){var a=t.pop();n[a.ele.id()]=null,r.push(a);var o,s=a.ele;o=(!s.isEdge()||N.arePositionsSame(s.source().position(),a.positions.source)&&N.arePositionsSame(s.target().position(),a.positions.target))&&N.arePositionsSame(s.position(),a.position)?a.bb:s.boundingBox(),this.getElement(a.ele,o,e,a.level,S.dequeue)}return r},o.onDequeue=function(e){this.onDequeues.push(e)},o.offDequeue=function(e){u.removeFromArray(this.onDequeues,e)},o.setupDequeueing=i.setupDequeueing({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(e,t,n){return e.dequeue(t,n)},onDeqd:function(e,t){for(var n=0;n<e.onDequeues.length;n++)(0,e.onDequeues[n])(t)},shouldRedraw:function(e,t,n,r){for(var i=0;i<t.length;i++){var a=t[i].bb;if(N.boundingBoxesIntersect(a,r))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}}),e.exports=a},function(e,t,n){"use strict";function i(e){var t=e.indexOf(",");return e.substr(t+1)}function r(e,t,n){var r=t.toDataURL(n,e.quality);switch(e.output){case"blob":return function(e,t){for(var n=atob(e),r=new ArrayBuffer(n.length),i=new Uint8Array(r),a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return new Blob([r],{type:t})}(i(r),n);case"base64":return i(r);case"base64uri":default:return r}}var g=n(0),a={createBuffer:function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,[n,n.getContext("2d")]},bufferCanvasImage:function(e){var t=this.cy,n=t.mutableElements().boundingBox(),r=this.findContainerClientCoords(),i=e.full?Math.ceil(n.w):r[2],a=e.full?Math.ceil(n.h):r[3],o=g.number(e.maxWidth)||g.number(e.maxHeight),s=this.getPixelRatio(),l=1;if(void 0!==e.scale)i*=e.scale,a*=e.scale,l=e.scale;else if(o){var u=1/0,c=1/0;g.number(e.maxWidth)&&(u=l*e.maxWidth/i),g.number(e.maxHeight)&&(c=l*e.maxHeight/a),i*=l=Math.min(u,c),a*=l}o||(i*=s,a*=s,l*=s);var d=document.createElement("canvas");d.width=i,d.height=a,d.style.width=i+"px",d.style.height=a+"px";var h=d.getContext("2d");if(0<i&&0<a){h.clearRect(0,0,i,a),h.globalCompositeOperation="source-over";var f=this.getCachedZSortedEles();if(e.full)h.translate(-n.x1*l,-n.y1*l),h.scale(l,l),this.drawElements(h,f),h.scale(1/l,1/l),h.translate(n.x1*l,n.y1*l);else{var p=t.pan(),v={x:p.x*l,y:p.y*l};l*=t.zoom(),h.translate(v.x,v.y),h.scale(l,l),this.drawElements(h,f),h.scale(1/l,1/l),h.translate(-v.x,-v.y)}e.bg&&(h.globalCompositeOperation="destination-over",h.fillStyle=e.bg,h.rect(0,0,i,a),h.fill())}return d},png:function(e){return r(e,this.bufferCanvasImage(e),"image/png")},jpg:function(e){return r(e,this.bufferCanvasImage(e),"image/jpeg")}};e.exports=a},function(e,t,n){"use strict";function r(e){var a=this;a.data={canvases:new Array(c.CANVAS_LAYERS),contexts:new Array(c.CANVAS_LAYERS),canvasNeedsRedraw:new Array(c.CANVAS_LAYERS),bufferCanvases:new Array(c.BUFFER_COUNT),bufferContexts:new Array(c.CANVAS_LAYERS)};var t="-webkit-tap-highlight-color: rgba(0,0,0,0);";a.data.canvasContainer=document.createElement("div");var n=a.data.canvasContainer.style;a.data.canvasContainer.setAttribute("style",t),n.position="relative",n.zIndex="0",n.overflow="hidden";var r=e.cy.container();r.appendChild(a.data.canvasContainer),(r.getAttribute("style")||"").indexOf(t)<0&&r.setAttribute("style",(r.getAttribute("style")||"")+t);for(var i=0;i<c.CANVAS_LAYERS;i++){var o=a.data.canvases[i]=document.createElement("canvas");a.data.contexts[i]=o.getContext("2d"),o.setAttribute("style","-webkit-user-select: none; -moz-user-select: -moz-none; user-select: none; -webkit-tap-highlight-color: rgba(0,0,0,0); outline-style: none;"+(s.ms()?" -ms-touch-action: none; touch-action: none; ":"")),o.style.position="absolute",o.setAttribute("data-id","layer"+i),o.style.zIndex=String(c.CANVAS_LAYERS-i),a.data.canvasContainer.appendChild(o),a.data.canvasNeedsRedraw[i]=!1}a.data.topCanvas=a.data.canvases[0],a.data.canvases[c.NODE].setAttribute("data-id","layer"+c.NODE+"-node"),a.data.canvases[c.SELECT_BOX].setAttribute("data-id","layer"+c.SELECT_BOX+"-selectbox"),a.data.canvases[c.DRAG].setAttribute("data-id","layer"+c.DRAG+"-drag");for(i=0;i<c.BUFFER_COUNT;i++)a.data.bufferCanvases[i]=document.createElement("canvas"),a.data.bufferContexts[i]=a.data.bufferCanvases[i].getContext("2d"),a.data.bufferCanvases[i].style.position="absolute",a.data.bufferCanvases[i].setAttribute("data-id","buffer"+i),a.data.bufferCanvases[i].style.zIndex=String(-i-1),a.data.bufferCanvases[i].style.visibility="hidden";a.pathsEnabled=!0,a.data.eleTxrCache=new l(a),a.data.lyrTxrCache=new u(a,a.data.eleTxrCache),a.onUpdateEleCalcs(function(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r._private.rstyle.dirtyEvents;r.isNode()&&i&&1===i.length&&i.position||a.data.eleTxrCache.invalidateElement(r)}0<t.length&&a.data.lyrTxrCache.invalidateElements(t)})}var i=n(1),s=n(0),l=n(110),u=n(113),a=r,c=r.prototype;c.CANVAS_LAYERS=3,c.SELECT_BOX=0,c.DRAG=1,c.NODE=2,c.BUFFER_COUNT=3,c.TEXTURE_BUFFER=0,c.MOTIONBLUR_BUFFER_NODE=1,c.MOTIONBLUR_BUFFER_DRAG=2,c.redrawHint=function(e,t){switch(e){case"eles":this.data.canvasNeedsRedraw[c.NODE]=t;break;case"drag":this.data.canvasNeedsRedraw[c.DRAG]=t;break;case"select":this.data.canvasNeedsRedraw[c.SELECT_BOX]=t}};var o="undefined"!=typeof Path2D;c.path2dEnabled=function(e){return void 0===e?this.pathsEnabled:void(this.pathsEnabled=!!e)},c.usePaths=function(){return o&&this.pathsEnabled},[n(102),n(104),n(103),n(105),n(106),n(107),n(108),n(109),n(111),n(114)].forEach(function(e){i.extend(c,e)}),e.exports=a},function(e,t,n){"use strict";function c(e,t){null!=e.imageSmoothingEnabled?e.imageSmoothingEnabled=t:(e.webkitImageSmoothingEnabled=t,e.mozImageSmoothingEnabled=t,e.msImageSmoothingEnabled=t)}var w=n(1),x=n(2),i=n(8),d=n(0),r=n(16),a=function(e,t){var n=this,r=n.renderer=e;n.layersByLevel={},n.firstGet=!0,n.lastInvalidationTime=w.performanceNow()-500,n.skipping=!1,r.beforeRender(function(e,t){t-n.lastInvalidationTime<=250?n.skipping=!0:n.skipping=!1});n.layersQueue=new i(function(e,t){return t.reqs-e.reqs}),n.eleTxrCache=t,n.setupEleCacheInvalidation(),n.setupDequeueing()},o=a.prototype,h=0,f=Math.pow(2,53)-1;o.makeLayer=function(e,t){var n=Math.pow(2,t),r=Math.ceil(e.w*n),i=Math.ceil(e.h*n),a=document.createElement("canvas");a.width=r,a.height=i;var o={id:h=++h%f,bb:e,level:t,width:r,height:i,canvas:a,context:a.getContext("2d"),eles:[],elesQueue:[],reqs:0},s=o.context,l=-o.bb.x1,u=-o.bb.y1;return s.scale(n,n),s.translate(l,u),o},o.getLayers=function(i,e,a){var o=this,t=o.renderer.cy.zoom(),n=o.firstGet;if(o.firstGet=!1,null==a)if((a=Math.ceil(x.log2(t*e)))<-4)a=-4;else if(3.99<=t||2<a)return null;o.validateLayersElesOrdering(a,i);var s,l,u=o.layersByLevel,c=Math.pow(2,a),d=u[a]=u[a]||[];if(o.levelIsComplete(a,i))return d;!function(){var n=function(e){if(o.validateLayersElesOrdering(e,i),o.levelIsComplete(e,i))return l=u[e],!0},e=function(e){if(!l)for(var t=a+e;-4<=t&&t<=2&&!n(t);t+=e);};e(1),e(-1);for(var t=d.length-1;0<=t;t--){var r=d[t];r.invalid&&w.removeFromArray(d,r)}}();var h=function(){if(!s){s=x.makeBoundingBox();for(var e=0;e<i.length;e++)x.updateBoundingBox(s,i[e].boundingBox())}return s};if(o.skipping&&!n)return null;for(var r=null,f=i.length/1,p=!n,v=0;v<i.length;v++){var g=i[v],m=g._private.rscratch,y=m.imgLayerCaches=m.imgLayerCaches||{},b=y[a];if(b)r=b;else{if((!r||r.eles.length>=f||!x.boundingBoxInBoundingBox(r.bb,g.boundingBox()))&&!(r=function(e){var t=(e=e||{}).after;if(h(),16e6<s.w*c*(s.h*c))return null;var n=o.makeLayer(s,a);if(null!=t){var r=d.indexOf(t)+1;d.splice(r,0,n)}else(void 0===e.insert||e.insert)&&d.unshift(n);return n}({insert:!0,after:r})))return null;l||p?o.queueLayer(r,g):o.drawEleInLayer(r,g,a,e),r.eles.push(g),y[a]=r}}return l||(p?null:d)},o.getEleLevelForLayerLevel=function(e,t){return e},o.drawEleInLayer=function(e,t,n,r){var i=this.renderer,a=e.context,o=t.boundingBox();if(0!==o.w&&0!==o.h&&t.visible()){var s=this.eleTxrCache,l=s.reasons.highQuality;n=this.getEleLevelForLayerLevel(n,r);var u=s.getElement(t,o,null,n,l);u?(c(a,!1),a.drawImage(u.texture.canvas,u.x,0,u.width,u.height,o.x1,o.y1,o.w,o.h),c(a,!0)):i.drawElement(a,t)}},o.levelIsComplete=function(e,t){var n=this.layersByLevel[e];if(!n||0===n.length)return!1;for(var r=0,i=0;i<n.length;i++){var a=n[i];if(0<a.reqs)return!1;if(a.invalid)return!1;r+=a.eles.length}return r===t.length},o.validateLayersElesOrdering=function(e,t){var n=this.layersByLevel[e];if(n)for(var r=0;r<n.length;r++){for(var i=n[r],a=-1,o=0;o<t.length;o++)if(i.eles[0]===t[o]){a=o;break}if(a<0)this.invalidateLayer(i);else{var s=a;for(o=0;o<i.eles.length;o++)if(i.eles[o]!==t[s+o]){this.invalidateLayer(i);break}}}},o.updateElementsInLayers=function(e,t){for(var n=d.element(e[0]),r=0;r<e.length;r++)for(var i=n?null:e[r],a=n?e[r]:e[r].ele,o=a._private.rscratch,s=o.imgLayerCaches=o.imgLayerCaches||{},l=-4;l<=2;l++){var u=s[l];u&&(i&&this.getEleLevelForLayerLevel(u.level)!==i.level||t(u,a,i))}},o.haveLayers=function(){for(var e=!1,t=-4;t<=2;t++){var n=this.layersByLevel[t];if(n&&0<n.length){e=!0;break}}return e},o.invalidateElements=function(e){var r=this;r.lastInvalidationTime=w.performanceNow(),0!==e.length&&r.haveLayers()&&r.updateElementsInLayers(e,function(e,t,n){r.invalidateLayer(e)})},o.invalidateLayer=function(e){if(this.lastInvalidationTime=w.performanceNow(),!e.invalid){var t=e.level,n=e.eles,r=this.layersByLevel[t];w.removeFromArray(r,e),e.elesQueue=[],e.invalid=!0,e.replacement&&(e.replacement.invalid=!0);for(var i=0;i<n.length;i++){var a=n[i]._private.rscratch.imgLayerCaches;a&&(a[t]=null)}}},o.refineElementTextures=function(e){var a=this;a.updateElementsInLayers(e,function(e,t,n){var r=e.replacement;if(r||((r=e.replacement=a.makeLayer(e.bb,e.level)).replaces=e,r.eles=e.eles),!r.reqs)for(var i=0;i<r.eles.length;i++)a.queueLayer(r,r.eles[i])})},o.setupEleCacheInvalidation=function(){var e=this,n=[],r=w.debounce(function(){e.refineElementTextures(n),n=[]},50);e.eleTxrCache.onDequeue(function(e){for(var t=0;t<e.length;t++)n.push(e[t]);r()})},o.queueLayer=function(e,t){var n=this.layersQueue,r=e.elesQueue,i=r.hasId=r.hasId||{};if(!e.replacement){if(t){if(i[t.id()])return;r.push(t),i[t.id()]=!0}e.reqs?(e.reqs++,n.updateItem(e)):(e.reqs=1,n.push(e))}},o.dequeue=function(e){for(var t=this.layersQueue,n=[],r=0;r<1&&0!==t.size();){var i=t.peek();if(i.replacement)t.pop();else if(i.replaces&&i!==i.replaces.replacement)t.pop();else if(i.invalid)t.pop();else{var a=i.elesQueue.shift();a&&(this.drawEleInLayer(i,a,i.level,e),r++),0===n.length&&n.push(!0),0===i.elesQueue.length&&(t.pop(),i.reqs=0,i.replaces&&this.applyLayerReplacement(i),this.requestRedraw())}}return n},o.applyLayerReplacement=function(e){var t=this.layersByLevel[e.level],n=e.replaces,r=t.indexOf(n);if(!(r<0||n.invalid)){t[r]=e;for(var i=0;i<e.eles.length;i++){var a=e.eles[i]._private,o=a.imgLayerCaches=a.imgLayerCaches||{};o&&(o[e.level]=e)}this.requestRedraw()}},o.requestRedraw=w.debounce(function(){var e=this.renderer;e.redrawHint("eles",!0),e.redrawHint("drag",!0),e.redraw()},100),o.setupDequeueing=r.setupDequeueing({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(e,t){return e.dequeue(t)},onDeqd:w.noop,shouldRedraw:w.trueify,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}}),e.exports=a},function(e,t,n){"use strict";var r={nodeShapeImpl:function(e,t,n,r,i,a,o){switch(e){case"ellipse":return this.drawEllipsePath(t,n,r,i,a);case"polygon":return this.drawPolygonPath(t,n,r,i,a,o);case"roundrectangle":return this.drawRoundRectanglePath(t,n,r,i,a);case"cutrectangle":return this.drawCutRectanglePath(t,n,r,i,a);case"bottomroundrectangle":return this.drawBottomRoundRectanglePath(t,n,r,i,a);case"barrel":return this.drawBarrelPath(t,n,r,i,a)}}};e.exports=r},function(e,t,n){"use strict";e.exports=[{name:"null",impl:n(116)},{name:"base",impl:n(98)},{name:"canvas",impl:n(112)}]},function(e,t,n){"use strict";function r(e){this.options=e,this.notifications=0}var i=function(){};r.prototype={recalculateRenderedStyle:i,notify:function(){this.notifications++},init:i},e.exports=r},function(e,t,n){"use strict";var r=n(0),i=n(12),a=n(21),o=n(22),s=function(e){return void 0===e&&(e={}),r.plainObject(e)?new i(e):r.string(e)?a.apply(a,arguments):void 0};s.use=function(e){var t=Array.prototype.slice.call(arguments,1);return t.unshift(s),e.apply(null,t),this},s.version=n(23),s.stylesheet=s.Stylesheet=o,e.exports=s},function(e,t,n){"use strict";function r(){this._obj={}}var i=r.prototype;i.set=function(e,t){this._obj[e]=t},i.delete=function(e){this._obj[e]=null},i.has=function(e){return null!=this._obj[e]},i.get=function(e){return this._obj[e]},e.exports=r},function(e,t,n){"use strict";var s=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=n(17).stateSelectorRegex,l=n(122),i=n(1),a=n(11),u=function(e){return e.replace(new RegExp("\\\\("+l.metaChar+")","g"),function(e,t){return t})},o=function(e,t,n){t===e[e.length-1]&&(e[e.length-1]=n)},c=[{name:"group",query:!0,regex:"("+l.group+")",populate:function(e,t,n){var r=s(n,1)[0];t.group="*"===r?r:r+"s"}},{name:"state",query:!0,regex:r,populate:function(e,t,n){var r=s(n,1)[0];t.colonSelectors.push(r)}},{name:"id",query:!0,regex:"\\#("+l.id+")",populate:function(e,t,n){var r=s(n,1)[0];t.ids.push(u(r))}},{name:"className",query:!0,regex:"\\.("+l.className+")",populate:function(e,t,n){var r=s(n,1)[0];t.classes.push(u(r))}},{name:"dataExists",query:!0,regex:"\\[\\s*("+l.variable+")\\s*\\]",populate:function(e,t,n){var r=s(n,1)[0];t.data.push({field:u(r)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+l.variable+")\\s*("+l.comparatorOp+")\\s*("+l.value+")\\s*\\]",populate:function(e,t,n){var r=s(n,3),i=r[0],a=r[1],o=r[2];o=null!=new RegExp("^"+l.string+"$").exec(o)?o.substring(1,o.length-1):parseFloat(o),t.data.push({field:u(i),operator:a,value:o})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+l.boolOp+")\\s*("+l.variable+")\\s*\\]",populate:function(e,t,n){var r=s(n,2),i=r[0],a=r[1];t.data.push({field:u(a),operator:i})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+l.meta+")\\s*("+l.comparatorOp+")\\s*("+l.number+")\\s*\\]\\]",populate:function(e,t,n){var r=s(n,3),i=r[0],a=r[1],o=r[2];t.meta.push({field:u(i),operator:a,value:parseFloat(o)})}},{name:"nextQuery",separator:!0,regex:l.separator,populate:function(e){var t=e[e.length++]=a();return e.currentSubject=null,t}},{name:"directedEdge",separator:!0,regex:l.directedEdge,populate:function(e,t){var n=a(),r=t,i=a();return n.group="edges",n.target=i,n.source=r,n.subject=e.currentSubject,o(e,t,n),i}},{name:"undirectedEdge",separator:!0,regex:l.undirectedEdge,populate:function(e,t){var n=a(),r=t,i=a();return n.group="edges",n.connectedNodes=[r,i],n.subject=e.currentSubject,o(e,t,n),i}},{name:"child",separator:!0,regex:l.child,populate:function(e,t){var n=a();return n.parent=t,n.subject=e.currentSubject,o(e,t,n),n}},{name:"descendant",separator:!0,regex:l.descendant,populate:function(e,t){var n=a();return n.ancestor=t,n.subject=e.currentSubject,o(e,t,n),n}},{name:"subject",modifier:!0,regex:l.subject,populate:function(e,t){return null!=e.currentSubject&&t.subject!=t?(i.error("Redefinition of subject in selector `"+e.toString()+"`"),!1):((e.currentSubject=t).subject=t,void(e[e.length-1].subject=t))}}];c.forEach(function(e){return e.regexObj=new RegExp("^"+e.regex)}),e.exports=c},function(e,t,n){"use strict";var g=n(17).stateSelectorMatches,v=n(0),m=function(e,t){for(var n=!0,r=0;r<e[t.name].length;r++){var i=e[t.name][r],a=i.operator,o=i.value,s=i.field,l=void 0,u=t.fieldValue(s);if(null!=a&&null!=o){var c=v.string(u)||v.number(u)?""+u:"",d=""+o,h=!1;0<=a.indexOf("@")&&(c=c.toLowerCase(),d=d.toLowerCase(),a=a.replace("@",""),h=!0);var f=!1;0<=a.indexOf("!")&&(a=a.replace("!",""),f=!0),h&&(o=d.toLowerCase(),u=c.toLowerCase());var p=!1;switch(a){case"*=":l=0<=c.indexOf(d);break;case"$=":l=0<=c.indexOf(d,c.length-d.length);break;case"^=":l=0===c.indexOf(d);break;case"=":l=u===o;break;case">":p=!0,l=o<u;break;case">=":p=!0,l=o<=u;break;case"<":p=!0,l=u<o;break;case"<=":p=!0,l=u<=o;break;default:l=!1}!f||null==u&&p||(l=!l)}else if(null!=a)switch(a){case"?":l=!!u;break;case"!":l=!u;break;case"^":l=void 0===u}else l=void 0!==u;if(!l){n=!1;break}}return n},y=function(e,t,n){if(null==e)return!0;var r=!1;if(!t)return!1;n=n();for(var i=0;i<n.length;i++)if(a(e,n[i])){r=!0;break}return r},a=function(e,t){if(e.groupOnly)return"*"===e.group||e.group===t.group();if(null!=e.group&&"*"!=e.group&&e.group!=t.group())return!1;var n=t.cy(),r=void 0,i=!0;for(r=0;r<e.colonSelectors.length;r++){var a=e.colonSelectors[r];if(!(i=g(a,t)))break}if(!i)return!1;var o=!0;for(r=0;r<e.ids.length;r++){var s=e.ids[r],l=t.id();if(!(o=o&&s==l))break}if(!o)return!1;var u=!0;for(r=0;r<e.classes.length;r++){var c=e.classes[r];if(!(u=u&&t.hasClass(c)))break}if(!u)return!1;if(!m(e,{name:"data",fieldValue:function(e){return t.data(e)}}))return!1;if(!m(e,{name:"meta",fieldValue:function(e){return t[e]()}}))return!1;if(null!=e.collection&&!e.collection.hasElementWithId(t.id()))return!1;if(null!=e.filter&&t.collection().some(e.filter))return!1;var d=n.hasCompoundNodes(),h=function(){return t.source()},f=function(){return t.target()};if(!y(e.parent,d,function(){return t.parent()}))return!1;if(!y(e.ancestor,d,function(){return t.parents()}))return!1;if(!y(e.child,d,function(){return t.children()}))return!1;if(!y(e.descendant,d,function(){return t.descendants()}))return!1;if(!y(e.source,!0,h))return!1;if(!y(e.target,!0,f))return!1;if(e.connectedNodes){var p=e.connectedNodes[0],v=e.connectedNodes[1];if(y(p,!0,h)&&y(v,!0,f));else if(!y(p,!0,f)||!y(v,!0,h))return!1}return!0};e.exports={matches:function(e){if(this.invalid())return!1;for(var t=0;t<this.length;t++){var n=this[t];if(a(n,e))return!0}return!1},filter:function(e){var r=this,t=e.cy();if(r.invalid())return t.collection();if(1===r.length&&1===r[0].length&&1===r[0].ids.length)return e.getElementById(r[0].ids[0]).collection();var n=function(e){for(var t=0;t<r.length;t++){var n=r[t];if(a(n,e))return!0}return!1};return null==r.text()&&(n=function(){return!0}),e.filter(n)}}},function(e,t,n){"use strict";var h=n(1),u=n(119),f=n(11),p=function(e){for(var t=void 0,n=void 0,r=void 0,i=0;i<u.length;i++){var a=u[i],o=a.name,s=e.match(a.regexObj);if(null!=s){t=a,r=o;var l=(n=s)[0];e=e.substring(l.length);break}}return{expr:t,match:n,name:r,remaining:e}};e.exports={parse:function(e){var t=this._private.selectorText=e,n=this[0]=f();for(this.length=1,t=function(e){var t=e.match(/^\s+/);if(t){var n=t[0];e=e.substring(n.length)}return e}(t);;){var r=p(t);if(null==r.expr)return h.error("The selector `"+e+"`is invalid"),!1;var i=r.match.slice(1),a=r.expr.populate(this,n,i);if(!1===a)return!1;if(null!=a&&(n=a),(t=r.remaining).match(/^\s*$/))break}for(var o=0;o<this.length;o++){var s=this[o];if(null!=s.subject){for(;s.subject!==s;)if(null!=s.parent){var l=s.parent,u=s;u.parent=null,l.child=u,s=l}else{if(null==s.ancestor)return s.source||s.target||s.connectedNodes?h.error("The selector `"+this.text()+"` can not contain a subject selector that applies to the source or target of an edge selector"):h.error("When adjusting references for the selector `"+this.text()+"`, neither parent nor ancestor was found"),!1;var c=s.ancestor,d=s;d.ancestor=null,c.descendant=d,s=c}this[o]=s.subject}}return!0}}},function(e,t,n){"use strict";var r={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:'"(?:\\\\"|[^"])*"|'+"'(?:\\\\'|[^'])*'",number:n(1).regex.number,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};r.variable="(?:[\\w-]|(?:\\\\"+r.metaChar+"))+",r.value=r.string+"|"+r.number,r.className=r.variable,r.id=r.variable,function(){var e=void 0,t=void 0,n=void 0;for(e=r.comparatorOp.split("|"),n=0;n<e.length;n++)t=e[n],r.comparatorOp+="|@"+t;for(e=r.comparatorOp.split("|"),n=0;n<e.length;n++)0<=(t=e[n]).indexOf("!")||"="!==t&&(r.comparatorOp+="|\\!"+t)}(),e.exports=r},function(e,t,n){"use strict";var M=n(1),L=n(0),y=n(5),r={apply:function(e){var t=this._private,n=t.cy.collection();t.newStyle&&(t.contextStyles={},t.propDiffs={},this.cleanElements(e,!0));for(var r=0;r<e.length;r++){var i=e[r],a=this.getContextMeta(i);if(!a.empty){n.merge(i);var o=this.getContextStyle(a),s=this.applyContextStyle(a,o,i);t.newStyle||this.updateTransitions(i,s.diffProps),this.updateStyleHints(i)}}return t.newStyle=!1,n},getPropertiesDiff:function(e,t){var n=this._private.propDiffs=this._private.propDiffs||{},r=e+"-"+t,i=n[r];if(i)return i;for(var a=[],o={},s=0;s<this.length;s++){var l=this[s],u="t"===e[s]!==("t"===t[s]),c=0<l.mappedProperties.length;if(u||c){var d=void 0;u&&c?d=l.properties:u?d=l.properties:c&&(d=l.mappedProperties);for(var h=0;h<d.length;h++){for(var f=d[h],p=f.name,v=!1,g=s+1;g<this.length;g++){var m=this[g];if("t"===t[g]&&(v=null!=m.properties[f.name]))break}o[p]||v||(o[p]=!0,a.push(p))}}}return n[r]=a},getContextMeta:function(e){var t,n="",r=e._private.styleCxtKey||"";this._private.newStyle&&(r="");for(var i=0;i<this.length;i++){var a=this[i];n+=a.selector&&a.selector.matches(e)?"t":"f"}return t=this.getPropertiesDiff(r,n),{key:e._private.styleCxtKey=n,diffPropNames:t,empty:0===t.length}},getContextStyle:function(e){var t=e.key,n=this._private.contextStyles=this._private.contextStyles||{};if(n[t])return n[t];for(var r={_private:{key:t}},i=0;i<this.length;i++){var a=this[i];if("t"===t[i])for(var o=0;o<a.properties.length;o++){var s=a.properties[o];r[s.name]=s}}return n[t]=r},applyContextStyle:function(e,t,n){for(var r=e.diffPropNames,i={},a=0;a<r.length;a++){var o=r[a],s=t[o],l=n.pstyle(o);if(!s){if(!l)continue;s=l.bypass?{name:o,deleteBypassed:!0}:{name:o,delete:!0}}if(l!==s){var u=i[o]={prev:l};this.applyParsedProperty(n,s),u.next=n.pstyle(o),u.next&&u.next.bypass&&(u.next=u.next.bypassed)}}return{diffProps:i}},updateStyleHints:function(e){var t=e._private;if(!e.removed()){var n=!1;if("nodes"===t.group)for(var r=1;r<=this.pieBackgroundN;r++){if(0<e.pstyle("pie-"+r+"-background-size").value){n=!0;break}}t.hasPie=n;var i=e.pstyle("text-transform").strValue,a=e.pstyle("label").strValue,o=e.pstyle("source-label").strValue,s=e.pstyle("target-label").strValue,l=e.pstyle("font-style").strValue,u=e.pstyle("font-size").pfValue+"px",c=e.pstyle("font-family").strValue,d=e.pstyle("font-weight").strValue,h=l+"$"+u+"$"+c+"$"+d+"$"+i+"$"+e.pstyle("text-valign").strValue+"$"+e.pstyle("text-valign").strValue+"$"+e.pstyle("text-outline-width").pfValue+"$"+e.pstyle("text-wrap").strValue+"$"+e.pstyle("text-max-width").pfValue;t.labelStyleKey=h,t.sourceLabelKey=h+"$"+o,t.targetLabelKey=h+"$"+s,t.labelKey=h+"$"+a,t.fontKey=l+"$"+d+"$"+u+"$"+c,t.styleKey=Date.now()}},applyParsedProperty:function(e,t){var n=this,r=t,i=e._private.style,a=void 0,o=n.types,s=n.properties[r.name].type,l=r.bypass,u=i[r.name],c=u&&u.bypass,d=e._private,h=function(){n.checkZOrderTrigger(e,r.name,u?u.value:null,r.value)};if("curve-style"===t.name&&"haystack"===t.value&&e.isEdge()&&(e.isLoop()||e.source().isParent()||e.target().isParent())&&(r=t=this.parse(t.name,"bezier",l)),r.delete)return i[r.name]=void 0,h(),!0;if(r.deleteBypassed)return u?!!u.bypass&&(u.bypassed=void 0,h(),!0):(h(),!0);if(r.deleteBypass)return u?!!u.bypass&&(i[r.name]=u.bypassed,h(),!0):(h(),!0);var f=function(){M.error("Do not assign mappings to elements without corresponding data (e.g. ele `"+e.id()+"` for property `"+r.name+"` with data field `"+r.field+"`); try a `["+r.field+"]` selector to limit scope to elements with `"+r.field+"` defined")};switch(r.mapped){case o.mapData:for(var p=r.field.split("."),v=d.data,g=0;g<p.length&&v;g++)v=v[p[g]];var m=void 0;if((m=L.number(v)?(v-r.fieldMin)/(r.fieldMax-r.fieldMin):0)<0?m=0:1<m&&(m=1),s.color){var y=r.valueMin[0],b=r.valueMax[0],w=r.valueMin[1],x=r.valueMax[1],E=r.valueMin[2],_=r.valueMax[2],k=null==r.valueMin[3]?1:r.valueMin[3],C=null==r.valueMax[3]?1:r.valueMax[3],T=[Math.round(y+(b-y)*m),Math.round(w+(x-w)*m),Math.round(E+(_-E)*m),Math.round(k+(C-k)*m)];a={bypass:r.bypass,name:r.name,value:T,strValue:"rgb("+T[0]+", "+T[1]+", "+T[2]+")"}}else{if(!s.number)return!1;var I=r.valueMin+(r.valueMax-r.valueMin)*m;a=this.parse(r.name,I,r.bypass,"mapping")}a||(a=this.parse(r.name,u.strValue,r.bypass,"mapping")),a||f(),a.mapping=r,r=a;break;case o.data:var P=r.field.split("."),N=d.data;if(N)for(var S=0;S<P.length;S++){N=N[P[S]]}if(!(a=this.parse(r.name,N,r.bypass,"mapping"))){var B=u?u.strValue:"";a=this.parse(r.name,B,r.bypass,"mapping")}a||f(),a.mapping=r,r=a;break;case o.fn:var D=(0,r.value)(e);(a=this.parse(r.name,D,r.bypass,"mapping")).mapping=r,r=a;break;case void 0:break;default:return!1}return l?(r.bypassed=c?u.bypassed:u,i[r.name]=r):c?u.bypassed=r:i[r.name]=r,h(),!0},cleanElements:function(e,t){for(var n=this.properties,r=0;r<e.length;r++){var i=e[r];if(t)for(var a=i._private.style,o=0;o<n.length;o++){var s=n[o],l=a[s.name];l&&(l.bypass?l.bypassed=null:a[s.name]=null)}else i._private.style={}}},update:function(){this._private.cy.mutableElements().updateStyle()},updateMappers:function(e){for(var t=this._private.cy.collection(),n=0;n<e.length;n++){for(var r=e[n],i=r._private.style,a=!1,o=0;o<this.properties.length;o++){var s=i[this.properties[o].name];if(s&&s.mapping){var l=s.mapping;this.applyParsedProperty(r,l),a=!0}}a&&(this.updateStyleHints(r),t.merge(r))}return t},updateTransitions:function(t,e,n){var r=this,i=t._private,a=t.pstyle("transition-property").value,o=t.pstyle("transition-duration").pfValue,s=t.pstyle("transition-delay").pfValue;if(0<a.length&&0<o){for(var l={},u=!1,c=0;c<a.length;c++){var d=a[c],h=t.pstyle(d),f=e[d];if(f){var p=f.prev,v=null!=f.next?f.next:h,g=!1,m=void 0;p&&(L.number(p.pfValue)&&L.number(v.pfValue)?(g=v.pfValue-p.pfValue,m=p.pfValue+1e-6*g):L.number(p.value)&&L.number(v.value)?(g=v.value-p.value,m=p.value+1e-6*g):L.array(p.value)&&L.array(v.value)&&(g=p.value[0]!==v.value[0]||p.value[1]!==v.value[1]||p.value[2]!==v.value[2],m=p.strValue),g&&(l[d]=v.strValue,this.applyBypass(t,d,m),u=!0))}}if(!u)return;i.transitioning=!0,new y(function(e){0<s?t.delayAnimation(s).play().promise().then(e):e()}).then(function(){return t.animation({style:l,duration:o,easing:t.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(t,a),t.emitAndNotify("style"),i.transitioning=!1})}else i.transitioning&&(this.removeBypasses(t,a),t.emitAndNotify("style"),i.transitioning=!1)},checkZOrderTrigger:function(e,t,n,r){var i=this.properties[t];null==i.triggersZOrder||null!=n&&!i.triggersZOrder(n,r)||this._private.cy.notify({type:"zorder",eles:e})}};e.exports=r},function(e,t,n){"use strict";var _=n(0),k=n(1),r={applyBypass:function(e,t,n,r){var i=[];if("*"===t||"**"===t){if(void 0!==n)for(var a=0;a<this.properties.length;a++){var o=this.properties[a].name,s=this.parse(o,n,!0);s&&i.push(s)}}else if(_.string(t)){var l=this.parse(t,n,!0);l&&i.push(l)}else{if(!_.plainObject(t))return!1;var u=t;r=n;for(var c=Object.keys(u),d=0;d<c.length;d++){var h=c[d],f=(this.properties[h],u[h]);if(void 0===f&&(f=u[k.dash2camel(h)]),void 0!==f){var p=this.parse(h,f,!0);p&&i.push(p)}}}if(0===i.length)return!1;for(var v=!1,g=0;g<e.length;g++){for(var m=e[g],y={},b=void 0,w=0;w<i.length;w++){var x=i[w];if(r){var E=m.pstyle(x.name);b=y[x.name]={prev:E}}v=this.applyParsedProperty(m,x)||v,r&&(b.next=m.pstyle(x.name))}v&&this.updateStyleHints(m),r&&this.updateTransitions(m,y,!0)}return v},overrideBypass:function(e,t,n){t=k.camel2dash(t);for(var r=0;r<e.length;r++){var i=e[r],a=i._private.style[t],o=this.properties[t].type,s=o.color,l=o.mutiple;if(a&&a.bypass){var u=null!=a.pfValue?a.pfValue:a.value;a.value=n,null!=a.pfValue&&(a.pfValue=n),a.strValue=s?"rgb("+n.join(",")+")":l?n.join(" "):""+n,this.checkZOrderTrigger(i,t,u,n)}else this.applyBypass(i,t,n)}},removeAllBypasses:function(e,t){return this.removeBypasses(e,this.propertyNames,t)},removeBypasses:function(e,t,n){for(var r=0;r<e.length;r++){for(var i=e[r],a={},o=0;o<t.length;o++){var s=t[o],l=this.properties[s],u=i.pstyle(l.name);if(u&&u.bypass){var c=this.parse(s,"",!0),d=a[l.name]={prev:u};this.applyParsedProperty(i,c),d.next=i.pstyle(l.name)}}this.updateStyleHints(i),n&&this.updateTransitions(i,a,!0)}}};e.exports=r},function(e,t,n){"use strict";var r=n(4),i={getEmSizeInPixels:function(){var e=this.containerCss("font-size");return null!=e?parseFloat(e):1},containerCss:function(e){var t=this._private.cy.container();if(r&&t&&r.getComputedStyle)return r.getComputedStyle(t).getPropertyValue(e)}};e.exports=i},function(e,t,n){"use strict";var c=n(1),o=n(0),r={getRenderedStyle:function(e,t){return t?this.getStylePropertyValue(e,t,!0):this.getRawStyle(e,!0)},getRawStyle:function(e,t){if(e=e[0]){for(var n={},r=0;r<this.properties.length;r++){var i=this.properties[r],a=this.getStylePropertyValue(e,i.name,t);null!=a&&(n[i.name]=a,n[c.dash2camel(i.name)]=a)}return n}},getIndexedStyle:function(e,t,n,r){var i=e.pstyle(t)[n][r];return null!=i?i:e.cy().style().getDefaultProperty(t)[n][0]},getStylePropertyValue:function(e,t,n){if(e=e[0]){var r=this.properties[t];r.alias&&(r=r.pointsTo);var i=r.type,a=e.pstyle(r.name),o=e.cy().zoom();if(a){var s=a.units?i.implicitUnits||"px":null;return s?[].concat(a.pfValue).map(function(e){return e*(n?o:1)+s}).join(" "):a.strValue}}},getAnimationStartStyle:function(e,t){for(var n={},r=0;r<t.length;r++){var i=t[r].name,a=e.pstyle(i);void 0!==a&&(a=o.plainObject(a)?this.parse(i,a.strValue):this.parse(i,a)),a&&(n[i]=a)}return n},getPropsList:function(e){var t=[],n=e,r=this.properties;if(n)for(var i=Object.keys(n),a=0;a<i.length;a++){var o=i[a],s=n[o],l=r[o]||r[c.camel2dash(o)],u=this.parse(l.name,s);u&&t.push(u)}return t}};e.exports=r},function(e,t,n){"use strict";var r={appendFromJson:function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n.selector,i=n.style||n.css,a=Object.keys(i);this.selector(r);for(var o=0;o<a.length;o++){var s=a[o],l=i[s];this.css(s,l)}}return this},fromJson:function(e){return this.resetToDefault(),this.appendFromJson(e),this},json:function(){for(var e=[],t=this.defaultLength;t<this.length;t++){for(var n=this[t],r=n.selector,i=n.properties,a={},o=0;o<i.length;o++){var s=i[o];a[s.name]=s.strValue}e.push({selector:r?r.toString():"core",style:a})}return e}};e.exports=r},function(e,t,n){"use strict";var V=n(1),F=n(0),q=n(2),r={parse:function(e,t,n,r){if(F.fn(t))return this.parseImplWarn(e,t,n,r);var i=[e,t,n,"mapping"===r||!0===r||!1===r||null==r?"dontcare":r].join("$"),a=this.propCache=this.propCache||{},o=void 0;return(o=a[i])||(o=a[i]=this.parseImplWarn(e,t,n,r)),(n||"mapping"===r)&&(o=V.copy(o))&&(o.value=V.copy(o.value)),o},parseImplWarn:function(e,t,n,r){var i=this.parseImpl(e,t,n,r);return i||null==t||V.error("The style property `%s: %s` is invalid",e,t),i},parseImpl:function(t,n,r,e){t=V.camel2dash(t);var i=this.properties[t],a=n,o=this.types;if(!i)return null;if(null==n)return null;i.alias&&(i=i.pointsTo,t=i.name);var s=F.string(n);s&&(n=n.trim());var l=i.type;if(!l)return null;if(r&&(""===n||null===n))return{name:t,value:n,bypass:!0,deleteBypass:!0};if(F.fn(n))return{name:t,value:n,strValue:"fn",mapped:o.fn,bypass:r};var u=void 0,c=void 0;if(!s||e);else{if(u=new RegExp(o.data.regex).exec(n)){if(r)return!1;var d=o.data;return{name:t,value:u,strValue:""+n,mapped:d,field:u[1],bypass:r}}if(c=new RegExp(o.mapData.regex).exec(n)){if(r)return!1;if(l.multiple)return!1;var h=o.mapData;if(!l.color&&!l.number)return!1;var f=this.parse(t,c[4]);if(!f||f.mapped)return!1;var p=this.parse(t,c[5]);if(!p||p.mapped)return!1;if(f.value===p.value)return!1;if(l.color){var v=f.value,g=p.value;if(!(v[0]!==g[0]||v[1]!==g[1]||v[2]!==g[2]||v[3]!==g[3]&&(null!=v[3]&&1!==v[3]||null!=g[3]&&1!==g[3])))return!1}return{name:t,value:c,strValue:""+n,mapped:h,field:c[1],fieldMin:parseFloat(c[2]),fieldMax:parseFloat(c[3]),valueMin:f.value,valueMax:p.value,bypass:r}}}if(l.multiple&&"multiple"!==e){var m;if(m=s?n.split(/\s+/):F.array(n)?n:[n],l.evenMultiple&&m.length%2!=0)return null;for(var y=[],b=[],w=[],x=!1,E=0;E<m.length;E++){var _=this.parse(t,m[E],r,"multiple");x=x||F.string(_.value),y.push(_.value),w.push(null!=_.pfValue?_.pfValue:_.value),b.push(_.units)}return l.validate&&!l.validate(y,b)?null:l.singleEnum&&x?1===y.length&&F.string(y[0])?{name:t,value:y[0],strValue:y[0],bypass:r}:null:{name:t,value:y,pfValue:w,strValue:y.join(" "),bypass:r,units:b}}var k=function(){for(var e=0;e<l.enums.length;e++)if(l.enums[e]===n)return{name:t,value:n,strValue:""+n,bypass:r};return null};if(l.number){var C=void 0,T="px";if(l.units&&(C=l.units),l.implicitUnits&&(T=l.implicitUnits),!l.unitless)if(s){var I="px|em"+(l.allowPercent?"|\\%":"");C&&(I=C);var P=n.match("^("+V.regex.number+")("+I+")?$");P&&(n=P[1],C=P[2]||T)}else C&&!l.implicitUnits||(C=T);if(n=parseFloat(n),isNaN(n)&&void 0===l.enums)return null;if(isNaN(n)&&void 0!==l.enums)return n=a,k();if(l.integer&&!F.integer(n))return null;if(void 0!==l.min&&(n<l.min||l.strictMin&&n===l.min)||void 0!==l.max&&(n>l.max||l.strictMax&&n===l.max))return null;var N={name:t,value:n,strValue:""+n+(C||""),units:C,bypass:r};return l.unitless||"px"!==C&&"em"!==C?N.pfValue=n:N.pfValue="px"!==C&&C?this.getEmSizeInPixels()*n:n,"ms"!==C&&"s"!==C||(N.pfValue="ms"===C?n:1e3*n),"deg"!==C&&"rad"!==C||(N.pfValue="rad"===C?n:q.deg2rad(n)),"%"===C&&(N.pfValue=n/100),N}if(l.propList){var S=[],B=""+n;if("none"===B);else{for(var D=B.split(","),M=0;M<D.length;M++){var L=D[M].trim();this.properties[L]&&S.push(L)}if(0===S.length)return null}return{name:t,value:S,strValue:0===S.length?"none":S.join(", "),bypass:r}}if(l.color){var A=V.color2tuple(n);return A?{name:t,value:A,pfValue:A,strValue:""+n,bypass:r}:null}if(l.regex||l.regexes){if(l.enums){var O=k();if(O)return O}for(var R=l.regexes?l.regexes:[l.regex],z=0;z<R.length;z++){var j=new RegExp(R[z]).exec(n);if(j)return{name:t,value:l.singleRegexMatchValue?j[1]:j,strValue:""+n,bypass:r}}return null}return l.string?{name:t,value:""+n,strValue:""+n,bypass:r}:l.enums?k():null}};e.exports=r},function(e,t,n){"use strict";var w=n(1),x=n(0),E={};!function(){var n=w.regex.number,r=w.regex.rgbaNoBackRefs,i=w.regex.hslaNoBackRefs,a=w.regex.hex3,o=w.regex.hex6,e=function(e){return"^"+e+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},t=function(e){var t=n+"|\\w+|"+r+"|"+i+"|"+a+"|"+o;return"^"+e+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+n+")\\s*\\,\\s*("+n+")\\s*,\\s*("+t+")\\s*\\,\\s*("+t+")\\)$"},s=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];E.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials"],multiple:!0},bgClip:{enums:["none","node"]},color:{color:!0},bool:{enums:["yes","no"]},lineStyle:{enums:["solid","dotted","dashed"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontletiant:{enums:["small-caps","normal"]},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textBackgroundShape:{enums:["rectangle","roundrectangle"]},nodeShape:{enums:["rectangle","roundrectangle","cutrectangle","bottomroundrectangle","barrel","ellipse","triangle","square","pentagon","hexagon","concavehexagon","heptagon","octagon","tag","star","diamond","vee","rhomboid","polygon"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","triangle-cross","triangle-backcurve","half-triangle-overshot","vee","square","circle","diamond","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},text:{string:!0},data:{mapping:!0,regex:e("data")},layoutData:{mapping:!0,regex:e("layoutData")},scratch:{mapping:!0,regex:e("scratch")},mapData:{mapping:!0,regex:t("mapData")},mapLayoutData:{mapping:!0,regex:t("mapLayoutData")},mapScratch:{mapping:!0,regex:t("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:s,singleRegexMatchValue:!0},urls:{regexes:s,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-line"],singleEnum:!0,validate:function(e,t){switch(e.length){case 2:return"deg"!==t[0]&&"rad"!==t[0]&&"deg"!==t[1]&&"rad"!==t[1];case 1:return x.string(e[0])||"deg"===t[0]||"rad"===t[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+n+")\\s*,\\s*("+n+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+n+")\\s*,\\s*("+n+")\\s*,\\s*("+n+")\\s*,\\s*("+n+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]}};var l={zeroNonZero:function(e,t){return 0===e&&0!==t||0!==e&&0===t},anyDiff:function(e,t){return e!==t}},u=E.types,c=E.properties=[{name:"label",type:u.text},{name:"text-rotation",type:u.textRotation},{name:"text-margin-x",type:u.bidirectionalSize},{name:"text-margin-y",type:u.bidirectionalSize},{name:"source-label",type:u.text},{name:"source-text-rotation",type:u.textRotation},{name:"source-text-margin-x",type:u.bidirectionalSize},{name:"source-text-margin-y",type:u.bidirectionalSize},{name:"source-text-offset",type:u.size},{name:"target-label",type:u.text},{name:"target-text-rotation",type:u.textRotation},{name:"target-text-margin-x",type:u.bidirectionalSize},{name:"target-text-margin-y",type:u.bidirectionalSize},{name:"target-text-offset",type:u.size},{name:"text-valign",type:u.valign},{name:"text-halign",type:u.halign},{name:"color",type:u.color},{name:"text-outline-color",type:u.color},{name:"text-outline-width",type:u.size},{name:"text-outline-opacity",type:u.zeroOneNumber},{name:"text-opacity",type:u.zeroOneNumber},{name:"text-background-color",type:u.color},{name:"text-background-opacity",type:u.zeroOneNumber},{name:"text-background-padding",type:u.size},{name:"text-border-opacity",type:u.zeroOneNumber},{name:"text-border-color",type:u.color},{name:"text-border-width",type:u.size},{name:"text-border-style",type:u.borderStyle},{name:"text-background-shape",type:u.textBackgroundShape},{name:"text-transform",type:u.textTransform},{name:"text-wrap",type:u.textWrap},{name:"text-max-width",type:u.size},{name:"text-events",type:u.bool},{name:"font-family",type:u.fontFamily},{name:"font-style",type:u.fontStyle},{name:"font-weight",type:u.fontWeight},{name:"font-size",type:u.size},{name:"min-zoomed-font-size",type:u.size},{name:"events",type:u.bool},{name:"display",type:u.display,triggersZOrder:l.anyDiff},{name:"visibility",type:u.visibility,triggersZOrder:l.anyDiff},{name:"opacity",type:u.zeroOneNumber,triggersZOrder:l.zeroNonZero},{name:"z-compound-depth",type:u.zCompoundDepth,triggersZOrder:l.anyDiff},{name:"z-index-compare",type:u.zIndexCompare,triggersZOrder:l.anyDiff},{name:"z-index",type:u.nonNegativeInt,triggersZOrder:l.anyDiff},{name:"overlay-padding",type:u.size},{name:"overlay-color",type:u.color},{name:"overlay-opacity",type:u.zeroOneNumber},{name:"transition-property",type:u.propList},{name:"transition-duration",type:u.time},{name:"transition-delay",type:u.time},{name:"transition-timing-function",type:u.easing},{name:"height",type:u.nodeSize},{name:"width",type:u.nodeSize},{name:"shape",type:u.nodeShape},{name:"shape-polygon-points",type:u.polygonPointList},{name:"background-color",type:u.color},{name:"background-opacity",type:u.zeroOneNumber},{name:"background-blacken",type:u.nOneOneNumber},{name:"padding",type:u.sizeMaybePercent},{name:"padding-relative-to",type:u.paddingRelativeTo},{name:"border-color",type:u.color},{name:"border-opacity",type:u.zeroOneNumber},{name:"border-width",type:u.size},{name:"border-style",type:u.borderStyle},{name:"background-image",type:u.urls},{name:"background-image-crossorigin",type:u.bgCrossOrigin},{name:"background-image-opacity",type:u.zeroOneNumbers},{name:"background-position-x",type:u.bgPos},{name:"background-position-y",type:u.bgPos},{name:"background-width-relative-to",type:u.bgRelativeTo},{name:"background-height-relative-to",type:u.bgRelativeTo},{name:"background-repeat",type:u.bgRepeat},{name:"background-fit",type:u.bgFit},{name:"background-clip",type:u.bgClip},{name:"background-width",type:u.bgWH},{name:"background-height",type:u.bgWH},{name:"position",type:u.position},{name:"compound-sizing-wrt-labels",type:u.compoundIncludeLabels},{name:"min-width",type:u.size},{name:"min-width-bias-left",type:u.sizeMaybePercent},{name:"min-width-bias-right",type:u.sizeMaybePercent},{name:"min-height",type:u.size},{name:"min-height-bias-top",type:u.sizeMaybePercent},{name:"min-height-bias-bottom",type:u.sizeMaybePercent},{name:"line-style",type:u.lineStyle},{name:"line-color",type:u.color},{name:"curve-style",type:u.curveStyle},{name:"haystack-radius",type:u.zeroOneNumber},{name:"source-endpoint",type:u.edgeEndpoint},{name:"target-endpoint",type:u.edgeEndpoint},{name:"control-point-step-size",type:u.size},{name:"control-point-distances",type:u.bidirectionalSizes},{name:"control-point-weights",type:u.numbers},{name:"segment-distances",type:u.bidirectionalSizes},{name:"segment-weights",type:u.numbers},{name:"edge-distances",type:u.edgeDistances},{name:"arrow-scale",type:u.positiveNumber},{name:"loop-direction",type:u.angle},{name:"loop-sweep",type:u.angle},{name:"source-distance-from-node",type:u.size},{name:"target-distance-from-node",type:u.size},{name:"ghost",type:u.bool},{name:"ghost-offset-x",type:u.bidirectionalSize},{name:"ghost-offset-y",type:u.bidirectionalSize},{name:"ghost-opacity",type:u.zeroOneNumber},{name:"selection-box-color",type:u.color},{name:"selection-box-opacity",type:u.zeroOneNumber},{name:"selection-box-border-color",type:u.color},{name:"selection-box-border-width",type:u.size},{name:"active-bg-color",type:u.color},{name:"active-bg-opacity",type:u.zeroOneNumber},{name:"active-bg-size",type:u.size},{name:"outside-texture-bg-color",type:u.color},{name:"outside-texture-bg-opacity",type:u.zeroOneNumber}],d=E.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];E.pieBackgroundN=16,c.push({name:"pie-size",type:u.sizeMaybePercent});for(var h=1;h<=E.pieBackgroundN;h++)c.push({name:"pie-"+h+"-background-color",type:u.color}),c.push({name:"pie-"+h+"-background-size",type:u.percent}),c.push({name:"pie-"+h+"-background-opacity",type:u.zeroOneNumber});var f=E.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:u.arrowShape},{name:"arrow-color",type:u.color},{name:"arrow-fill",type:u.arrowFill}].forEach(function(r){f.forEach(function(e){var t=e+"-"+r.name,n=r.type;c.push({name:t,type:n})})},{}),E.propertyNames=c.map(function(e){return e.name});for(var p=0;p<c.length;p++){var v=c[p];c[v.name]=v}for(var g=0;g<d.length;g++){var m=d[g],y=c[m.pointsTo],b={name:m.name,alias:!0,pointsTo:y};c.push(b),c[m.name]=b}}(),E.getDefaultProperty=function(e){return this.getDefaultProperties()[e]},E.getDefaultProperties=w.memoize(function(){for(var e=w.extend({events:"yes","text-events":"no","text-valign":"top","text-halign":"center",color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-position-x":"50%","background-position-y":"50%","background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(e,t){for(var n=1;n<=E.pieBackgroundN;n++){var r=t.name.replace("{{i}}",n),i=t.value;e[r]=i}return e},{}),{"line-style":"solid","line-color":"#999","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"edge-distances":"intersection","curve-style":"bezier","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node"},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce(function(r,i){return E.arrowPrefixes.forEach(function(e){var t=e+"-"+i.name,n=i.value;r[t]=n}),r},{})),t={},n=0;n<this.properties.length;n++){var r=this.properties[n];if(!r.pointsTo){var i=r.name,a=e[i],o=this.parse(i,a);t[i]=o}}return t}),E.addDefaultStylesheet=function(){this.selector("$node > node").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3,"curve-style":"haystack"}).selector(":parent <-> node").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector("node:parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}).selector("core").css({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125}),this.defaultLength=this.length},e.exports=E},function(e,t,n){"use strict";var m=n(1),y=n(6),r={appendFromString:function(e){function t(){r=r.length>i.length?r.substr(i.length):""}function n(){a=a.length>o.length?a.substr(o.length):""}var r=""+e,i=void 0,a=void 0,o=void 0;for(r=r.replace(/[\/][*](\s|.)+?[*][\/]/g,"");!r.match(/^\s*$/);){var s=r.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!s){m.error("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+r);break}i=s[0];var l=s[1];if("core"!==l&&new y(l)._private.invalid)m.error("Skipping parsing of block: Invalid selector found in string stylesheet: "+l),t();else{var u=s[2],c=!1;a=u;for(var d=[];!a.match(/^\s*$/);){var h=a.match(/^\s*(.+?)\s*:\s*(.+?)\s*;/);if(!h){m.error("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+u),c=!0;break}o=h[0];var f=h[1],p=h[2];this.properties[f]?this.parse(f,p)?d.push({name:f,val:p}):m.error("Skipping property: Invalid property definition in: "+o):m.error("Skipping property: Invalid property name in: "+o),n()}if(c){t();break}this.selector(l);for(var v=0;v<d.length;v++){var g=d[v];this.css(g.name,g.val)}t()}}return this},fromString:function(e){return this.resetToDefault(),this.appendFromString(e),this}};e.exports=r},function(e,t,n){"use strict";var r=n(0);e.exports={hex2tuple:function(e){if((4===e.length||7===e.length)&&"#"===e[0]){var t=void 0,n=void 0,r=void 0;return r=4===e.length?(t=parseInt(e[1]+e[1],16),n=parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)):(t=parseInt(e[1]+e[2],16),n=parseInt(e[3]+e[4],16),parseInt(e[5]+e[6],16)),[t,n,r]}},hsl2tuple:function(e){function t(e,t,n){return n<0&&(n+=1),1<n&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var n=void 0,r=void 0,i=void 0,a=void 0,o=void 0,s=void 0,l=void 0,u=void 0,c=new RegExp("^"+this.regex.hsla+"$").exec(e);if(c){if((r=parseInt(c[1]))<0?r=(360- -1*r%360)%360:360<r&&(r%=360),r/=360,(i=parseFloat(c[2]))<0||100<i)return;if(i/=100,(a=parseFloat(c[3]))<0||100<a)return;if(a/=100,void 0!==(o=c[4])&&((o=parseFloat(o))<0||1<o))return;if(0===i)s=l=u=Math.round(255*a);else{var d=a<.5?a*(1+i):a+i-a*i,h=2*a-d;s=Math.round(255*t(h,d,r+1/3)),l=Math.round(255*t(h,d,r)),u=Math.round(255*t(h,d,r-1/3))}n=[s,l,u,o]}return n},rgb2tuple:function(e){var t=void 0,n=new RegExp("^"+this.regex.rgba+"$").exec(e);if(n){t=[];for(var r=[],i=1;i<=3;i++){var a=n[i];if("%"===a[a.length-1]&&(r[i]=!0),a=parseFloat(a),r[i]&&(a=a/100*255),a<0||255<a)return;t.push(Math.floor(a))}var o=r[1]||r[2]||r[3],s=r[1]&&r[2]&&r[3];if(o&&!s)return;var l=n[4];if(void 0!==l){if((l=parseFloat(l))<0||1<l)return;t.push(l)}}return t},colorname2tuple:function(e){return this.colors[e.toLowerCase()]},color2tuple:function(e){return(r.array(e)?e:null)||this.colorname2tuple(e)||this.hex2tuple(e)||this.rgb2tuple(e)||this.hsl2tuple(e)},colors:{transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}}},function(e,t,n){"use strict";var c=n(0);e.exports={mapEmpty:function(e){return null==e||0===Object.keys(e).length},pushMap:function(e){var t=this.getMap(e);null==t?this.setMap(this.extend({},e,{value:[e.value]})):t.push(e.value)},setMap:function(e){for(var t=e.map,n=e.keys,r=n.length,i=0;i<r;i++){var a=n[i];c.plainObject(a)&&this.error("Tried to set map with object key"),i<n.length-1?(null==t[a]&&(t[a]={}),t=t[a]):t[a]=e.value}},getMap:function(e){for(var t=e.map,n=e.keys,r=n.length,i=0;i<r;i++){var a=n[i];if(c.plainObject(a)&&this.error("Tried to get map with object key"),null==(t=t[a]))return t}return t},deleteMap:function(e){for(var t=e.map,n=e.keys,r=n.length,i=e.keepChildren,a=0;a<r;a++){var o=n[a];if(c.plainObject(o)&&this.error("Tried to delete map with object key"),a===e.keys.length-1)if(i)for(var s=Object.keys(t),l=0;l<s.length;l++){var u=s[l];i[u]||(t[u]=void 0)}else t[o]=void 0;else t=t[o]}}}},function(e,t,n){"use strict";e.exports={regex:{number:"(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",rgba:"rgb[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)",rgbaNoBackRefs:"rgb[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)",hsla:"hsl[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)",hslaNoBackRefs:"hsl[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)",hex3:"\\#[0-9a-fA-F]{3}",hex6:"\\#[0-9a-fA-F]{6}"}}},function(e,t,n){"use strict";function r(e,t){return e<t?-1:t<e?1:0}e.exports={sort:{ascending:r,descending:function(e,t){return-1*r(e,t)}}}},function(e,t,n){"use strict";var r=n(19),i=n(0);e.exports={camel2dash:r(function(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),dash2camel:r(function(e){return e.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),prependCamel:r(function(e,t){return e+t[0].toUpperCase()+t.substring(1)},function(e,t){return e+"$"+t}),capitalize:function(e){return i.emptyString(e)?e:e.charAt(0).toUpperCase()+e.substring(1)}}},function(e,t,n){"use strict";var r=n(4),i=r?r.performance:null,a={},o=i&&i.now?function(){return i.now()}:function(){return Date.now()},s=function(){if(r){if(r.requestAnimationFrame)return function(e){r.requestAnimationFrame(e)};if(r.mozRequestAnimationFrame)return function(e){r.mozRequestAnimationFrame(e)};if(r.webkitRequestAnimationFrame)return function(e){r.webkitRequestAnimationFrame(e)};if(r.msRequestAnimationFrame)return function(e){r.msRequestAnimationFrame(e)}}return function(e){e&&setTimeout(function(){e(o())},1e3/60)}}();a.requestAnimationFrame=function(e){s(e)},a.performanceNow=o,a.debounce=n(139),a.now=function(){return Date.now()},e.exports=a},function(e,t,n){e.exports=n(138)},function(t,s,e){var m,y,b;(function(){var e,h,l,f,p,n,u,r,v,g,i,a,o,c,d;l=Math.floor,g=Math.min,h=function(e,t){return e<t?-1:t<e?1:0},v=function(e,t,n,r,i){var a;if(null==n&&(n=0),null==i&&(i=h),n<0)throw new Error("lo must be non-negative");for(null==r&&(r=e.length);n<r;)i(t,e[a=l((n+r)/2)])<0?r=a:n=a+1;return[].splice.apply(e,[n,n-n].concat(t)),t},n=function(e,t,n){return null==n&&(n=h),e.push(t),c(e,0,e.length-1,n)},p=function(e,t){var n,r;return null==t&&(t=h),n=e.pop(),e.length?(r=e[0],e[0]=n,d(e,0,t)):r=n,r},r=function(e,t,n){var r;return null==n&&(n=h),r=e[0],e[0]=t,d(e,0,n),r},u=function(e,t,n){var r;return null==n&&(n=h),e.length&&n(e[0],t)<0&&(t=(r=[e[0],t])[0],e[0]=r[1],d(e,0,n)),t},f=function(n,e){var t,r,i,a,o,s;for(null==e&&(e=h),o=[],r=0,i=(a=function(){s=[];for(var e=0,t=l(n.length/2);0<=t?e<t:t<e;0<=t?e++:e--)s.push(e);return s}.apply(this).reverse()).length;r<i;r++)t=a[r],o.push(d(n,t,e));return o},o=function(e,t,n){var r;if(null==n&&(n=h),-1!==(r=e.indexOf(t)))return c(e,0,r,n),d(e,r,n)},i=function(e,t,n){var r,i,a,o,s;if(null==n&&(n=h),!(i=e.slice(0,t)).length)return i;for(f(i,n),a=0,o=(s=e.slice(t)).length;a<o;a++)r=s[a],u(i,r,n);return i.sort(n).reverse()},a=function(e,t,n){var r,i,a,o,s,l,u,c,d;if(null==n&&(n=h),10*t<=e.length){if(!(a=e.slice(0,t).sort(n)).length)return a;for(i=a[a.length-1],o=0,l=(u=e.slice(t)).length;o<l;o++)n(r=u[o],i)<0&&(v(a,r,0,null,n),a.pop(),i=a[a.length-1]);return a}for(f(e,n),d=[],s=0,c=g(t,e.length);0<=c?s<c:c<s;0<=c?++s:--s)d.push(p(e,n));return d},c=function(e,t,n,r){var i,a,o;for(null==r&&(r=h),i=e[n];t<n&&r(i,a=e[o=n-1>>1])<0;)e[n]=a,n=o;return e[n]=i},d=function(e,t,n){var r,i,a,o,s;for(null==n&&(n=h),i=e.length,a=e[s=t],r=2*t+1;r<i;)(o=r+1)<i&&!(n(e[r],e[o])<0)&&(r=o),e[t]=e[r],r=2*(t=r)+1;return e[t]=a,c(e,s,t,n)},e=function(){function t(e){this.cmp=null!=e?e:h,this.nodes=[]}return t.push=n,t.pop=p,t.replace=r,t.pushpop=u,t.heapify=f,t.updateItem=o,t.nlargest=i,t.nsmallest=a,t.prototype.push=function(e){return n(this.nodes,e,this.cmp)},t.prototype.pop=function(){return p(this.nodes,this.cmp)},t.prototype.peek=function(){return this.nodes[0]},t.prototype.contains=function(e){return-1!==this.nodes.indexOf(e)},t.prototype.replace=function(e){return r(this.nodes,e,this.cmp)},t.prototype.pushpop=function(e){return u(this.nodes,e,this.cmp)},t.prototype.heapify=function(){return f(this.nodes,this.cmp)},t.prototype.updateItem=function(e){return o(this.nodes,e,this.cmp)},t.prototype.clear=function(){return this.nodes=[]},t.prototype.empty=function(){return 0===this.nodes.length},t.prototype.size=function(){return this.nodes.length},t.prototype.clone=function(){var e;return(e=new t).nodes=this.nodes.slice(0),e},t.prototype.toArray=function(){return this.nodes.slice(0)},t.prototype.insert=t.prototype.push,t.prototype.top=t.prototype.peek,t.prototype.front=t.prototype.peek,t.prototype.has=t.prototype.contains,t.prototype.copy=t.prototype.clone,t}(),y=[],void 0!==(b="function"==typeof(m=function(){return e})?m.apply(s,y):m)&&(t.exports=b)}).call(this)},function(i,e,t){(function(e){function y(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||(n=t)&&"object"==typeof n&&h.call(t)==o)return a;var t,n;if(y(e)){var r="function"==typeof e.valueOf?e.valueOf():e;e=y(r)?r+"":r}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var i=u.test(e);return i||c.test(e)?d(e.slice(2),i?2:8):l.test(e)?a:+e}var a=NaN,o="[object Symbol]",s=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,d=parseInt,t="object"==typeof e&&e&&e.Object===Object&&e,n="object"==typeof self&&self&&self.Object===Object&&self,r=t||n||Function("return this")(),h=Object.prototype.toString,w=Math.max,x=Math.min,E=function(){return r.Date.now()};i.exports=function(r,i,e){function a(e){var t=u,n=c;return u=c=void 0,v=e,h=r.apply(n,t)}function o(e){var t=e-p;return void 0===p||i<=t||t<0||m&&d<=e-v}function s(){var e,t,n=E();return o(n)?l(n):void(f=setTimeout(s,(t=i-((e=n)-p),m?x(t,d-(e-v)):t)))}function l(e){return f=void 0,n&&u?a(e):(u=c=void 0,h)}function t(){var e,t=E(),n=o(t);if(u=arguments,c=this,p=t,n){if(void 0===f)return v=e=p,f=setTimeout(s,i),g?a(e):h;if(m)return f=setTimeout(s,i),a(p)}return void 0===f&&(f=setTimeout(s,i)),h}var u,c,d,h,f,p,v=0,g=!1,m=!1,n=!0;if("function"!=typeof r)throw new TypeError("Expected a function");return i=b(i)||0,y(e)&&(g=!!e.leading,d=(m="maxWait"in e)?w(b(e.maxWait)||0,i):d,n="trailing"in e?!!e.trailing:n),t.cancel=function(){void 0!==f&&clearTimeout(f),u=p=c=f=void(v=0)},t.flush=function(){return void 0===f?h:l(E())},t}}).call(e,t(20))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(u===setTimeout)return setTimeout(t,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(t,0);try{return u(t,0)}catch(e){try{return u.call(null,t,0)}catch(e){return u.call(this,t,0)}}}function a(){p&&h&&(p=!1,h.length?f=h.concat(f):v=-1,f.length&&o())}function o(){if(!p){var e=i(a);p=!0;for(var t=f.length;t;){for(h=f,f=[];++v<t;)h&&h[v].run();v=-1,t=f.length}h=null,p=!1,function(t){if(c===clearTimeout)return clearTimeout(t);if((c===r||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(t);try{c(t)}catch(e){try{return c.call(null,t)}catch(e){return c.call(this,t)}}}(e)}}function s(e,t){this.fun=e,this.array=t}function l(){}var u,c,d=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(e){u=n}try{c="function"==typeof clearTimeout?clearTimeout:r}catch(e){c=r}}();var h,f=[],p=!1,v=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new s(e,t)),1!==f.length||p||i(o)},s.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=l,d.addListener=l,d.once=l,d.off=l,d.removeListener=l,d.removeAllListeners=l,d.emit=l,d.prependListener=l,d.prependOnceListener=l,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,n){(function(e,p){!function(n,r){"use strict";function i(e){delete l[e]}function a(e){if(u)setTimeout(a,0,e);else{var t=l[e];if(t){u=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(r,n)}}(t)}finally{i(e),u=!1}}}}if(!n.setImmediate){var o,s=1,l={},u=!1,c=n.document,e=Object.getPrototypeOf&&Object.getPrototypeOf(n);e=e&&e.setTimeout?e:n,"[object process]"==={}.toString.call(n.process)?o=function(e){p.nextTick(function(){a(e)})}:function(){if(n.postMessage&&!n.importScripts){var e=!0,t=n.onmessage;return n.onmessage=function(){e=!1},n.postMessage("","*"),n.onmessage=t,e}}()?(h="setImmediate$"+Math.random()+"$",f=function(e){e.source===n&&"string"==typeof e.data&&0===e.data.indexOf(h)&&a(+e.data.slice(h.length))},n.addEventListener?n.addEventListener("message",f,!1):n.attachEvent("onmessage",f),o=function(e){n.postMessage(h+e,"*")}):n.MessageChannel?((t=new MessageChannel).port1.onmessage=function(e){a(e.data)},o=function(e){t.port2.postMessage(e)}):c&&"onreadystatechange"in c.createElement("script")?(d=c.documentElement,o=function(e){var t=c.createElement("script");t.onreadystatechange=function(){a(e),t.onreadystatechange=null,d.removeChild(t),t=null},d.appendChild(t)}):o=function(e){setTimeout(a,0,e)},e.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return l[s]=r,o(s),s++},e.clearImmediate=i}var d,t,h,f}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,n(20),n(140))},function(e,t,n){function r(e,t){this._id=e,this._clearFn=t}var i=Function.prototype.apply;t.setTimeout=function(){return new r(i.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new r(i.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(141),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate}])}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.dagre=e()}}(function(){return function a(o,s,l){function u(n,e){if(!s[n]){if(!o[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(c)return c(n,!0);var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}var i=s[n]={exports:{}};o[n][0].call(i.exports,function(e){var t=o[n][1][e];return u(t||e)},i,i.exports,a,o,s,l)}return s[n].exports}for(var c="function"==typeof require&&require,e=0;e<l.length;e++)u(l[e]);return u}({1:[function(e,t,n){t.exports={graphlib:e("./lib/graphlib"),layout:e("./lib/layout"),debug:e("./lib/debug"),util:{time:e("./lib/util").time,notime:e("./lib/util").notime},version:e("./lib/version")}},{"./lib/debug":6,"./lib/graphlib":7,"./lib/layout":9,"./lib/util":29,"./lib/version":30}],2:[function(e,t,n){"use strict";var s=e("./lodash"),l=e("./greedy-fas");t.exports={run:function(n){var r,i,a,o,t,e="greedy"===n.graph().acyclicer?l(n,(t=n,function(e){return t.edge(e).weight})):(r=n,i=[],a={},o={},s.each(r.nodes(),function t(e){s.has(o,e)||(o[e]=!0,a[e]=!0,s.each(r.outEdges(e),function(e){s.has(a,e.w)?i.push(e):t(e.w)}),delete a[e])}),i);s.each(e,function(e){var t=n.edge(e);n.removeEdge(e),t.forwardName=e.name,t.reversed=!0,n.setEdge(e.w,e.v,t,s.uniqueId("rev"))})},undo:function(r){s.each(r.edges(),function(e){var t=r.edge(e);if(t.reversed){r.removeEdge(e);var n=t.forwardName;delete t.reversed,delete t.forwardName,r.setEdge(e.w,e.v,t,n)}})}}},{"./greedy-fas":8,"./lodash":10}],3:[function(e,t,n){function s(e,t,n,r,i,a){var o={width:0,height:0,rank:a,borderType:t},s=i[t][a-1],l=u.addDummyNode(e,"border",o,n);i[t][a]=l,e.setParent(l,r),s&&e.setEdge(s,l,{weight:1})}var l=e("./lodash"),u=e("./util");t.exports=function(o){l.each(o.children(),function e(t){var n=o.children(t),r=o.node(t);if(n.length&&l.each(n,e),l.has(r,"minRank")){r.borderLeft=[],r.borderRight=[];for(var i=r.minRank,a=r.maxRank+1;i<a;++i)s(o,"borderLeft","_bl",t,r,i),s(o,"borderRight","_br",t,r,i)}})}},{"./lodash":10,"./util":29}],4:[function(e,t,n){"use strict";function i(t){s.each(t.nodes(),function(e){r(t.node(e))}),s.each(t.edges(),function(e){r(t.edge(e))})}function r(e){var t=e.width;e.width=e.height,e.height=t}function a(e){e.y=-e.y}function o(e){var t=e.x;e.x=e.y,e.y=t}var s=e("./lodash");t.exports={adjust:function(e){var t=e.graph().rankdir.toLowerCase();"lr"!==t&&"rl"!==t||i(e)},undo:function(e){var n,r,t=e.graph().rankdir.toLowerCase();"bt"!==t&&"rl"!==t||(r=e,s.each(r.nodes(),function(e){a(r.node(e))}),s.each(r.edges(),function(e){var t=r.edge(e);s.each(t.points,a),s.has(t,"y")&&a(t)})),"lr"!==t&&"rl"!==t||(n=e,s.each(n.nodes(),function(e){o(n.node(e))}),s.each(n.edges(),function(e){var t=n.edge(e);s.each(t.points,o),s.has(t,"x")&&o(t)}),i(e))}}},{"./lodash":10}],5:[function(e,t,n){function r(){var e={};e._next=e._prev=e,this._sentinel=e}function i(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function a(e,t){if("_next"!==e&&"_prev"!==e)return t}(t.exports=r).prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return i(t),t},r.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&i(e),e._next=t._next,t._next._prev=e,(t._next=e)._prev=t},r.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,a)),n=n._prev;return"["+e.join(", ")+"]"}},{}],6:[function(e,t,n){var i=e("./lodash"),a=e("./util"),o=e("./graphlib").Graph;t.exports={debugOrdering:function(t){var e=a.buildLayerMatrix(t),r=new o({compound:!0,multigraph:!0}).setGraph({});return i.each(t.nodes(),function(e){r.setNode(e,{label:e}),r.setParent(e,"layer"+t.node(e).rank)}),i.each(t.edges(),function(e){r.setEdge(e.v,e.w,{},e.name)}),i.each(e,function(e,t){var n="layer"+t;r.setNode(n,{rank:"same"}),i.reduce(e,function(e,t){return r.setEdge(e,t,{style:"invis"}),t})}),r}}},{"./graphlib":7,"./lodash":10,"./util":29}],7:[function(e,t,n){var r;if("function"==typeof e)try{r=e("graphlib")}catch(e){}r||(r=window.graphlib),t.exports=r},{graphlib:31}],8:[function(e,t,n){function l(i,a,o,e,r){var s=r?[]:void 0;return c.each(i.inEdges(e.v),function(e){var t=i.edge(e),n=i.node(e.v);r&&s.push({v:e.v,w:e.w}),n.out-=t,u(a,o,n)}),c.each(i.outEdges(e.v),function(e){var t=i.edge(e),n=e.w,r=i.node(n);r.in-=t,u(a,o,r)}),i.removeNode(e.v),s}function u(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}var c=e("./lodash"),d=e("./graphlib").Graph,h=e("./data/list");t.exports=function(t,e){if(t.nodeCount()<=1)return[];var n=function(e,i){var a=new d,o=0,s=0;c.each(e.nodes(),function(e){a.setNode(e,{v:e,in:0,out:0})}),c.each(e.edges(),function(e){var t=a.edge(e.v,e.w)||0,n=i(e),r=t+n;a.setEdge(e.v,e.w,r),s=Math.max(s,a.node(e.v).out+=n),o=Math.max(o,a.node(e.w).in+=n)});var t=c.range(s+o+3).map(function(){return new h}),n=o+1;return c.each(a.nodes(),function(e){u(t,n,a.node(e))}),{graph:a,buckets:t,zeroIdx:n}}(t,e||i),r=function(e,t,n){for(var r,i=[],a=t[t.length-1],o=t[0];e.nodeCount();){for(;r=o.dequeue();)l(e,t,n,r);for(;r=a.dequeue();)l(e,t,n,r);if(e.nodeCount())for(var s=t.length-2;0<s;--s)if(r=t[s].dequeue()){i=i.concat(l(e,t,n,r,!0));break}}return i}(n.graph,n.buckets,n.zeroIdx);return c.flatten(c.map(r,function(e){return t.outEdges(e.v,e.w)}),!0)};var i=c.constant(1)},{"./data/list":5,"./graphlib":7,"./lodash":10}],9:[function(e,t,n){"use strict";function i(e,t){return u.mapValues(u.pick(e,t),Number)}function a(e){var n={};return u.each(e,function(e,t){n[t.toLowerCase()]=e}),n}var u=e("./lodash"),o=e("./acyclic"),s=e("./normalize"),l=e("./rank"),c=e("./util").normalizeRanks,d=e("./parent-dummy-chains"),h=e("./util").removeEmptyRanks,f=e("./nesting-graph"),p=e("./add-border-segments"),v=e("./coordinate-system"),g=e("./order"),m=e("./position"),y=e("./util"),b=e("./graphlib").Graph;t.exports=function(t,e){var r=e&&e.debugTiming?y.time:y.notime;r("layout",function(){var n=r("  buildLayoutGraph",function(){return n=t,r=new b({multigraph:!0,compound:!0}),e=a(n.graph()),r.setGraph(u.merge({},x,i(e,w),u.pick(e,E))),u.each(n.nodes(),function(e){var t=a(n.node(e));r.setNode(e,u.defaults(i(t,_),k)),r.setParent(e,n.parent(e))}),u.each(n.edges(),function(e){var t=a(n.edge(e));r.setEdge(e,u.merge({},T,i(t,C),u.pick(t,I)))}),r;var n,r,e});r("  runLayout",function(){var t,e;t=n,(e=r)("    makeSpaceForEdgeLabels",function(){var n,r;(r=(n=t).graph()).ranksep/=2,u.each(n.edges(),function(e){var t=n.edge(e);t.minlen*=2,"c"!==t.labelpos.toLowerCase()&&("TB"===r.rankdir||"BT"===r.rankdir?t.width+=t.labeloffset:t.height+=t.labeloffset)})}),e("    removeSelfEdges",function(){var n;n=t,u.each(n.edges(),function(e){if(e.v===e.w){var t=n.node(e.v);t.selfEdges||(t.selfEdges=[]),t.selfEdges.push({e:e,label:n.edge(e)}),n.removeEdge(e)}})}),e("    acyclic",function(){o.run(t)}),e("    nestingGraph.run",function(){f.run(t)}),e("    rank",function(){l(y.asNonCompoundGraph(t))}),e("    injectEdgeLabelProxies",function(){var a;a=t,u.each(a.edges(),function(e){var t=a.edge(e);if(t.width&&t.height){var n=a.node(e.v),r=a.node(e.w),i={rank:(r.rank-n.rank)/2+n.rank,e:e};y.addDummyNode(a,"edge-proxy",i,"_ep")}})}),e("    removeEmptyRanks",function(){h(t)}),e("    nestingGraph.cleanup",function(){f.cleanup(t)}),e("    normalizeRanks",function(){c(t)}),e("    assignRankMinMax",function(){var n,r;n=t,r=0,u.each(n.nodes(),function(e){var t=n.node(e);t.borderTop&&(t.minRank=n.node(t.borderTop).rank,t.maxRank=n.node(t.borderBottom).rank,r=u.max(r,t.maxRank))}),n.graph().maxRank=r}),e("    removeEdgeLabelProxies",function(){var n;n=t,u.each(n.nodes(),function(e){var t=n.node(e);"edge-proxy"===t.dummy&&(n.edge(t.e).labelRank=t.rank,n.removeNode(e))})}),e("    normalize.run",function(){s.run(t)}),e("    parentDummyChains",function(){d(t)}),e("    addBorderSegments",function(){p(t)}),e("    order",function(){g(t)}),e("    insertSelfEdges",function(){var i,e;i=t,e=y.buildLayerMatrix(i),u.each(e,function(e){var r=0;u.each(e,function(e,t){var n=i.node(e);n.order=t+r,u.each(n.selfEdges,function(e){y.addDummyNode(i,"selfedge",{width:e.label.width,height:e.label.height,rank:n.rank,order:t+ ++r,e:e.e,label:e.label},"_se")}),delete n.selfEdges})})}),e("    adjustCoordinateSystem",function(){v.adjust(t)}),e("    position",function(){m(t)}),e("    positionSelfEdges",function(){var s;s=t,u.each(s.nodes(),function(e){var t=s.node(e);if("selfedge"===t.dummy){var n=s.node(t.e.v),r=n.x+n.width/2,i=n.y,a=t.x-r,o=n.height/2;s.setEdge(t.e,t.label),s.removeNode(e),t.label.points=[{x:r+2*a/3,y:i-o},{x:r+5*a/6,y:i-o},{x:r+a,y:i},{x:r+5*a/6,y:i+o},{x:r+2*a/3,y:i+o}],t.label.x=t.x,t.label.y=t.y}})}),e("    removeBorderNodes",function(){var o;o=t,u.each(o.nodes(),function(e){if(o.children(e).length){var t=o.node(e),n=o.node(t.borderTop),r=o.node(t.borderBottom),i=o.node(u.last(t.borderLeft)),a=o.node(u.last(t.borderRight));t.width=Math.abs(a.x-i.x),t.height=Math.abs(r.y-n.y),t.x=i.x+t.width/2,t.y=n.y+t.height/2}}),u.each(o.nodes(),function(e){"border"===o.node(e).dummy&&o.removeNode(e)})}),e("    normalize.undo",function(){s.undo(t)}),e("    fixupEdgeLabelCoords",function(){var n;n=t,u.each(n.edges(),function(e){var t=n.edge(e);if(u.has(t,"x"))switch("l"!==t.labelpos&&"r"!==t.labelpos||(t.width-=t.labeloffset),t.labelpos){case"l":t.x-=t.width/2+t.labeloffset;break;case"r":t.x+=t.width/2+t.labeloffset}})}),e("    undoCoordinateSystem",function(){v.undo(t)}),e("    translateGraph",function(){!function(n){function r(e){var t=e.x,n=e.y,r=e.width,i=e.height;a=Math.min(a,t-r/2),o=Math.max(o,t+r/2),s=Math.min(s,n-i/2),l=Math.max(l,n+i/2)}var a=Number.POSITIVE_INFINITY,o=0,s=Number.POSITIVE_INFINITY,l=0,e=n.graph(),t=e.marginx||0,i=e.marginy||0;u.each(n.nodes(),function(e){r(n.node(e))}),u.each(n.edges(),function(e){var t=n.edge(e);u.has(t,"x")&&r(t)}),a-=t,s-=i,u.each(n.nodes(),function(e){var t=n.node(e);t.x-=a,t.y-=s}),u.each(n.edges(),function(e){var t=n.edge(e);u.each(t.points,function(e){e.x-=a,e.y-=s}),u.has(t,"x")&&(t.x-=a),u.has(t,"y")&&(t.y-=s)}),e.width=o-a+t,e.height=l-s+i}(t)}),e("    assignNodeIntersects",function(){var o;o=t,u.each(o.edges(),function(e){var t,n,r=o.edge(e),i=o.node(e.v),a=o.node(e.w);n=r.points?(t=r.points[0],r.points[r.points.length-1]):(r.points=[],t=a,i),r.points.unshift(y.intersectRect(i,t)),r.points.push(y.intersectRect(a,n))})}),e("    reversePoints",function(){var n;n=t,u.each(n.edges(),function(e){var t=n.edge(e);t.reversed&&t.points.reverse()})}),e("    acyclic.undo",function(){o.undo(t)})}),r("  updateInputGraph",function(){var r,i;r=t,i=n,u.each(r.nodes(),function(e){var t=r.node(e),n=i.node(e);t&&(t.x=n.x,t.y=n.y,i.children(e).length&&(t.width=n.width,t.height=n.height))}),u.each(r.edges(),function(e){var t=r.edge(e),n=i.edge(e);t.points=n.points,u.has(n,"x")&&(t.x=n.x,t.y=n.y)}),r.graph().width=i.graph().width,r.graph().height=i.graph().height})})};var w=["nodesep","edgesep","ranksep","marginx","marginy"],x={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},E=["acyclicer","ranker","rankdir","align"],_=["width","height"],k={width:0,height:0},C=["minlen","weight","width","height","labeloffset"],T={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},I=["labelpos"]},{"./acyclic":2,"./add-border-segments":3,"./coordinate-system":4,"./graphlib":7,"./lodash":10,"./nesting-graph":11,"./normalize":12,"./order":17,"./parent-dummy-chains":22,"./position":24,"./rank":26,"./util":29}],10:[function(e,t,n){var r;if("function"==typeof e)try{r=e("lodash")}catch(e){}r||(r=window._),t.exports=r},{lodash:51}],11:[function(e,t,n){var g=e("./lodash"),m=e("./util");t.exports={run:function(t){var i,a,n=m.addDummyNode(t,"root",{},"_root"),r=(i=t,a={},g.each(i.children(),function(e){!function t(e,n){var r=i.children(e);r&&r.length&&g.each(r,function(e){t(e,n+1)}),a[e]=n}(e,1)}),a),o=g.max(r)-1,s=2*o+1;t.graph().nestingRoot=n,g.each(t.edges(),function(e){t.edge(e).minlen*=s});var l,u=(l=t,g.reduce(l.edges(),function(e,t){return e+l.edge(t).weight},0)+1);g.each(t.children(),function(e){!function o(s,l,u,c,d,h,f){var e=s.children(f);if(e.length){var p=m.addBorderNode(s,"_bt"),v=m.addBorderNode(s,"_bb"),t=s.node(f);s.setParent(p,f),t.borderTop=p,s.setParent(v,f),t.borderBottom=v,g.each(e,function(e){o(s,l,u,c,d,h,e);var t=s.node(e),n=t.borderTop?t.borderTop:e,r=t.borderBottom?t.borderBottom:e,i=t.borderTop?c:2*c,a=n!==r?1:d-h[f]+1;s.setEdge(p,n,{weight:i,minlen:a,nestingEdge:!0}),s.setEdge(r,v,{weight:i,minlen:a,nestingEdge:!0})}),s.parent(f)||s.setEdge(l,p,{weight:0,minlen:d+h[f]})}else f!==l&&s.setEdge(l,f,{weight:0,minlen:u})}(t,n,s,u,o,r,e)}),t.graph().nodeRankFactor=s},cleanup:function(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,g.each(t.edges(),function(e){t.edge(e).nestingEdge&&t.removeEdge(e)})}}},{"./lodash":10,"./util":29}],12:[function(e,t,n){"use strict";var r=e("./lodash"),h=e("./util");t.exports={run:function(t){t.graph().dummyChains=[],r.each(t.edges(),function(e){!function(e,t){var n=t.v,r=e.node(n).rank,i=t.w,a=e.node(i).rank,o=t.name,s=e.edge(t),l=s.labelRank;if(a!==r+1){var u,c,d;for(e.removeEdge(t),d=0,++r;r<a;++d,++r)s.points=[],c={width:0,height:0,edgeLabel:s,edgeObj:t,rank:r},u=h.addDummyNode(e,"edge",c,"_d"),r===l&&(c.width=s.width,c.height=s.height,c.dummy="edge-label",c.labelpos=s.labelpos),e.setEdge(n,u,{weight:s.weight},o),0===d&&e.graph().dummyChains.push(u),n=u;e.setEdge(n,i,{weight:s.weight},o)}}(t,e)})},undo:function(i){r.each(i.graph().dummyChains,function(e){var t,n=i.node(e),r=n.edgeLabel;for(i.setEdge(n.edgeObj,r);n.dummy;)t=i.successors(e)[0],i.removeNode(e),r.points.push({x:n.x,y:n.y}),"edge-label"===n.dummy&&(r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height),e=t,n=i.node(e)})}}},{"./lodash":10,"./util":29}],13:[function(e,t,n){var r=e("../lodash");t.exports=function(i,a,e){var o,s={};r.each(e,function(e){for(var t,n,r=i.parent(e);r;){if((t=i.parent(r))?(n=s[t],s[t]=r):(n=o,o=r),n&&n!==r)return void a.setEdge(n,r);r=t}})}},{"../lodash":10}],14:[function(e,t,n){var r=e("../lodash");t.exports=function(i,e){return r.map(e,function(e){var t=i.inEdges(e);if(t.length){var n=r.reduce(t,function(e,t){var n=i.edge(t),r=i.node(t.v);return{sum:e.sum+n.weight*r.order,weight:e.weight+n.weight}},{sum:0,weight:0});return{v:e,barycenter:n.sum/n.weight,weight:n.weight}}return{v:e}})}},{"../lodash":10}],15:[function(e,t,n){var l=e("../lodash"),i=e("../graphlib").Graph;t.exports=function(a,n,r){var o=function(e){for(var t;e.hasNode(t=l.uniqueId("_root")););return t}(a),s=new i({compound:!0}).setGraph({root:o}).setDefaultNodeLabel(function(e){return a.node(e)});return l.each(a.nodes(),function(i){var e=a.node(i),t=a.parent(i);(e.rank===n||e.minRank<=n&&n<=e.maxRank)&&(s.setNode(i),s.setParent(i,t||o),l.each(a[r](i),function(e){var t=e.v===i?e.w:e.v,n=s.edge(t,i),r=l.isUndefined(n)?0:n.weight;s.setEdge(t,i,{weight:a.edge(e).weight+r})}),l.has(e,"minRank")&&s.setNode(i,{borderLeft:e.borderLeft[n],borderRight:e.borderRight[n]}))}),s}},{"../graphlib":7,"../lodash":10}],16:[function(e,t,n){"use strict";function i(t,e,n){for(var r=u.zipObject(n,u.map(n,function(e,t){return t})),i=u.flatten(u.map(e,function(e){return u.chain(t.outEdges(e)).map(function(e){return{pos:r[e.w],weight:t.edge(e).weight}}).sortBy("pos").value()}),!0),a=1;a<n.length;)a<<=1;var o=2*a-1;a-=1;var s=u.map(new Array(o),function(){return 0}),l=0;return u.each(i.forEach(function(e){var t=e.pos+a;s[t]+=e.weight;for(var n=0;0<t;)t%2&&(n+=s[t+1]),s[t=t-1>>1]+=e.weight;l+=e.weight*n})),l}var u=e("../lodash");t.exports=function(e,t){for(var n=0,r=1;r<t.length;++r)n+=i(e,t[r-1],t[r]);return n}},{"../lodash":10}],17:[function(e,t,n){"use strict";function c(t,e,n){return f.map(e,function(e){return r(t,e,n)})}function d(e,r){var i=new s;f.each(e,function(n){var e=n.graph().root,t=a(n,e,i,r);f.each(t.vs,function(e,t){n.node(e).order=t}),o(n,i,t.vs)})}function h(n,e){f.each(e,function(e){f.each(e,function(e,t){n.node(e).order=t})})}var f=e("../lodash"),p=e("./init-order"),v=e("./cross-count"),a=e("./sort-subgraph"),r=e("./build-layer-graph"),o=e("./add-subgraph-constraints"),s=e("../graphlib").Graph,g=e("../util");t.exports=function(e){var t=g.maxRank(e),n=c(e,f.range(1,t+1),"inEdges"),r=c(e,f.range(t-1,-1,-1),"outEdges"),i=p(e);h(e,i);for(var a,o=Number.POSITIVE_INFINITY,s=0,l=0;l<4;++s,++l){d(s%2?n:r,2<=s%4),i=g.buildLayerMatrix(e);var u=v(e,i);u<o&&(l=0,a=f.cloneDeep(i),o=u)}h(e,a)}},{"../graphlib":7,"../lodash":10,"../util":29,"./add-subgraph-constraints":13,"./build-layer-graph":15,"./cross-count":16,"./init-order":18,"./sort-subgraph":20}],18:[function(e,t,n){"use strict";var o=e("../lodash");t.exports=function(r){var i={},e=o.filter(r.nodes(),function(e){return!r.children(e).length}),t=o.max(o.map(e,function(e){return r.node(e).rank})),a=o.map(o.range(t+1),function(){return[]}),n=o.sortBy(e,function(e){return r.node(e).rank});return o.each(n,function e(t){if(!o.has(i,t)){i[t]=!0;var n=r.node(t);a[n.rank].push(t),o.each(r.successors(t),e)}}),a}},{"../lodash":10}],19:[function(e,t,n){"use strict";var o=e("../lodash");t.exports=function(e,t){var r={};return o.each(e,function(e,t){var n=r[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:t};o.isUndefined(e.barycenter)||(n.barycenter=e.barycenter,n.weight=e.weight)}),o.each(t.edges(),function(e){var t=r[e.v],n=r[e.w];o.isUndefined(t)||o.isUndefined(n)||(n.indegree++,t.out.push(r[e.w]))}),function(n){function e(a){return function(e){var t,n,r,i;e.merged||(o.isUndefined(e.barycenter)||o.isUndefined(a.barycenter)||e.barycenter>=a.barycenter)&&(n=e,i=r=0,(t=a).weight&&(r+=t.barycenter*t.weight,i+=t.weight),n.weight&&(r+=n.barycenter*n.weight,i+=n.weight),t.vs=n.vs.concat(t.vs),t.barycenter=r/i,t.weight=i,t.i=Math.min(n.i,t.i),n.merged=!0)}}function t(t){return function(e){e.in.push(t),0==--e.indegree&&n.push(e)}}for(var r=[];n.length;){var i=n.pop();r.push(i),o.each(i.in.reverse(),e(i)),o.each(i.out,t(i))}return o.chain(r).filter(function(e){return!e.merged}).map(function(e){return o.pick(e,["vs","i","barycenter","weight"])}).value()}(o.filter(r,function(e){return!e.indegree}))}},{"../lodash":10}],20:[function(e,t,n){var m=e("../lodash"),y=e("./barycenter"),b=e("./resolve-conflicts"),w=e("./sort");t.exports=function i(a,e,o,s){var t=a.children(e),n=a.node(e),r=n?n.borderLeft:void 0,l=n?n.borderRight:void 0,u={};r&&(t=m.filter(t,function(e){return e!==r&&e!==l}));var c=y(a,t);m.each(c,function(e){if(a.children(e.v).length){var t=i(a,e.v,o,s);u[e.v]=t,m.has(t,"barycenter")&&(n=e,r=t,m.isUndefined(n.barycenter)?(n.barycenter=r.barycenter,n.weight=r.weight):(n.barycenter=(n.barycenter*n.weight+r.barycenter*r.weight)/(n.weight+r.weight),n.weight+=r.weight))}var n,r});var d,h,f=b(c,o);d=f,h=u,m.each(d,function(e){e.vs=m.flatten(e.vs.map(function(e){return h[e]?h[e].vs:e}),!0)});var p=w(f,s);if(r&&(p.vs=m.flatten([r,p.vs,l],!0),a.predecessors(r).length)){var v=a.node(a.predecessors(r)[0]),g=a.node(a.predecessors(l)[0]);m.has(p,"barycenter")||(p.barycenter=0,p.weight=0),p.barycenter=(p.barycenter*p.weight+v.order+g.order)/(p.weight+2),p.weight+=2}return p}},{"../lodash":10,"./barycenter":14,"./resolve-conflicts":19,"./sort":21}],21:[function(e,t,n){function d(e,t,n){for(var r;t.length&&(r=h.last(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}var h=e("../lodash"),f=e("../util");t.exports=function(e,t){var n,r=f.partition(e,function(e){return h.has(e,"barycenter")}),i=r.lhs,a=h.sortBy(r.rhs,function(e){return-e.i}),o=[],s=0,l=0,u=0;i.sort((n=!!t,function(e,t){return e.barycenter<t.barycenter?-1:e.barycenter>t.barycenter?1:n?t.i-e.i:e.i-t.i})),u=d(o,a,u),h.each(i,function(e){u+=e.vs.length,o.push(e.vs),s+=e.barycenter*e.weight,l+=e.weight,u=d(o,a,u)});var c={vs:h.flatten(o,!0)};return l&&(c.barycenter=s/l,c.weight=l),c}},{"../lodash":10,"../util":29}],22:[function(e,t,n){var o=e("./lodash");t.exports=function(u){var r,i,a,c=(r=u,i={},a=0,o.each(r.children(),function e(t){var n=a;o.each(r.children(t),e),i[t]={low:n,lim:a++}}),i);o.each(u.graph().dummyChains,function(e){for(var t=u.node(e),n=t.edgeObj,r=function(e,t,n,r){var i,a,o=[],s=[],l=Math.min(t[n].low,t[r].low),u=Math.max(t[n].lim,t[r].lim);for(i=n;i=e.parent(i),o.push(i),i&&(t[i].low>l||u>t[i].lim););for(a=i,i=r;(i=e.parent(i))!==a;)s.push(i);return{path:o.concat(s.reverse()),lca:a}}(u,c,n.v,n.w),i=r.path,a=r.lca,o=0,s=i[o],l=!0;e!==n.w;){if(t=u.node(e),l){for(;(s=i[o])!==a&&u.node(s).maxRank<t.rank;)o++;s===a&&(l=!1)}if(!l){for(;o<i.length-1&&u.node(s=i[o+1]).minRank<=t.rank;)o++;s=i[o]}u.setParent(e,s),e=u.successors(e)[0]}})}},{"./lodash":10}],23:[function(e,t,n){"use strict";function r(u,e){var c={};return b.reduce(e,function(e,r){var a=0,o=0,s=e.length,l=b.last(r);return b.each(r,function(e,t){var n=function(t,e){if(t.node(e).dummy)return b.find(t.predecessors(e),function(e){return t.node(e).dummy})}(u,e),i=n?u.node(n).order:s;(n||e===l)&&(b.each(r.slice(o,t+1),function(r){b.each(u.predecessors(r),function(e){var t=u.node(e),n=t.order;!(n<a||i<n)||t.dummy&&u.node(r).dummy||d(c,e,r)})}),o=t+1,a=i)}),r}),c}function i(l,e){function u(t,e,n,r,i){var a;b.each(b.range(e,n),function(e){a=t[e],l.node(a).dummy&&b.each(l.predecessors(a),function(e){var t=l.node(e);t.dummy&&(t.order<r||t.order>i)&&d(o,e,a)})})}var o={};return b.reduce(e,function(r,i){var a,o=-1,s=0;return b.each(i,function(e,t){if("border"===l.node(e).dummy){var n=l.predecessors(e);n.length&&(a=l.node(n[0]).order,u(i,s,t,o,a),s=t,o=a)}u(i,s,i.length,a,r.length)}),i}),o}function d(e,t,n){if(n<t){var r=t;t=n,n=r}var i=e[t];i||(e[t]=i={}),i[n]=!0}function h(e,t,n){if(n<t){var r=t;t=n,n=r}return b.has(e[t],n)}function u(e,t,s,l){var u={},c={},d={};return b.each(t,function(e){b.each(e,function(e,t){u[e]=e,c[e]=e,d[e]=t})}),b.each(t,function(e){var o=-1;b.each(e,function(e){var t=l(e);if(t.length)for(var n=((t=b.sortBy(t,function(e){return d[e]})).length-1)/2,r=Math.floor(n),i=Math.ceil(n);r<=i;++r){var a=t[r];c[e]===e&&o<d[a]&&!h(s,e,a)&&(c[a]=e,c[e]=u[e]=u[a],o=d[a])}})}),{root:u,align:c}}function c(i,e,t,n,r){var a,o,s,l,u,c,d,h,f,p,v={},g=(a=i,o=e,s=t,l=r,u=new w,c=a.graph(),h=c.nodesep,f=c.edgesep,p=l,d=function(e,t,n){var r,i=e.node(t),a=e.node(n),o=0;if(o+=i.width/2,b.has(i,"labelpos"))switch(i.labelpos.toLowerCase()){case"l":r=-i.width/2;break;case"r":r=i.width/2}if(r&&(o+=p?r:-r),r=0,o+=(i.dummy?f:h)/2,o+=(a.dummy?f:h)/2,o+=a.width/2,b.has(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":r=a.width/2;break;case"r":r=-a.width/2}return r&&(o+=p?r:-r),r=0,o},b.each(o,function(e){var i;b.each(e,function(e){var t=s[e];if(u.setNode(t),i){var n=s[i],r=u.edge(n,t);u.setEdge(n,t,Math.max(d(a,e,i),r||0))}i=e})}),u),m={};b.each(g.nodes(),function n(e){b.has(m,e)||(m[e]=!0,v[e]=b.reduce(g.inEdges(e),function(e,t){return n(t.v),Math.max(e,v[t.v]+g.edge(t))},0))});var y=r?"borderLeft":"borderRight";return b.each(g.nodes(),function n(e){if(2!==m[e]){m[e]++;var t=i.node(e),r=b.reduce(g.outEdges(e),function(e,t){return n(t.w),Math.min(e,v[t.w]-g.edge(t))},Number.POSITIVE_INFINITY);r!==Number.POSITIVE_INFINITY&&t.borderType!==y&&(v[e]=Math.max(v[e],r))}}),b.each(n,function(e){v[e]=v[t[e]]}),v}function f(n,e){return b.min(e,function(e){var t=b.min(e,function(e,t){return e-a(n,t)/2});return b.max(e,function(e,t){return e+a(n,t)/2})-t})}function p(a,o){var s=b.min(o),l=b.max(o);b.each(["u","d"],function(i){b.each(["l","r"],function(e){var t,n=i+e,r=a[n];r!==o&&((t="l"===e?s-b.min(r):l-b.max(r))&&(a[n]=b.mapValues(r,function(e){return e+t})))})})}function v(r,i){return b.mapValues(r.ul,function(e,t){if(i)return r[i.toLowerCase()][t];var n=b.sortBy(b.pluck(r,t));return(n[1]+n[2])/2})}function a(e,t){return e.node(t).width}var b=e("../lodash"),w=e("../graphlib").Graph,g=e("../util");t.exports={positionX:function(a){var o,e=g.buildLayerMatrix(a),s=b.merge(r(a,e),i(a,e)),l={};b.each(["u","d"],function(i){o="u"===i?e:b.values(e).reverse(),b.each(["l","r"],function(e){"r"===e&&(o=b.map(o,function(e){return b.values(e).reverse()}));var t=b.bind("u"===i?a.predecessors:a.successors,a),n=u(0,o,s,t),r=c(a,o,n.root,n.align,"r"===e);"r"===e&&(r=b.mapValues(r,function(e){return-e})),l[i+e]=r})});var t=f(a,l);return p(l,t),v(l,a.graph().align)},findType1Conflicts:r,findType2Conflicts:i,addConflict:d,hasConflict:h,verticalAlignment:u,horizontalCompaction:c,alignCoordinates:p,findSmallestWidthAlignment:f,balance:v}},{"../graphlib":7,"../lodash":10,"../util":29}],24:[function(e,t,n){"use strict";var o=e("../lodash"),s=e("../util"),l=e("./bk").positionX;t.exports=function(n){var r,e,i,a;n=s.asNonCompoundGraph(n),r=n,e=s.buildLayerMatrix(r),i=r.graph().ranksep,a=0,o.each(e,function(e){var t=o.max(o.map(e,function(e){return r.node(e).height}));o.each(e,function(e){r.node(e).y=a+t/2}),a+=t+i}),o.each(l(n),function(e,t){n.node(t).x=e})}},{"../lodash":10,"../util":29,"./bk":23}],25:[function(e,t,n){"use strict";function a(a,o){return l.each(a.nodes(),function r(i){l.each(o.nodeEdges(i),function(e){var t=e.v,n=i===t?e.w:t;a.hasNode(n)||c(o,e)||(a.setNode(n,{}),a.setEdge(i,n,{}),r(n))})}),a.nodeCount()}function o(t,n){return l.min(n.edges(),function(e){if(t.hasNode(e.v)!==t.hasNode(e.w))return c(n,e)})}function s(e,t,n){l.each(e.nodes(),function(e){t.node(e).rank+=n})}var l=e("../lodash"),u=e("../graphlib").Graph,c=e("./util").slack;t.exports=function(e){var t,n=new u({directed:!1}),r=e.nodes()[0],i=e.nodeCount();for(n.setNode(r,{});a(n,e)<i;)t=o(n,e),s(n,e,n.hasNode(t.v)?c(e,t):-c(e,t));return n}},{"../graphlib":7,"../lodash":10,"./util":28}],26:[function(e,t,n){"use strict";function r(e){o(e)}var i=e("./util").longestPath,a=e("./feasible-tree"),o=e("./network-simplex");t.exports=function(e){switch(e.graph().ranker){case"network-simplex":r(e);break;case"tight-tree":i(t=e),a(t);break;case"longest-path":s(e);break;default:r(e)}var t};var s=i},{"./feasible-tree":25,"./network-simplex":27,"./util":28}],27:[function(e,t,n){"use strict";function r(e){e=m(e),u(e);var t,n=l(e);for(d(n),c(n,e);t=i(n);)o(n,e,t,a(n,e,t))}function c(a,o){var e=g(a,a.nodes());e=e.slice(0,e.length-1),p.each(e,function(e){var t,n,r,i;n=o,r=e,i=(t=a).node(r).parent,t.edge(r,i).cutvalue=s(t,n,r)})}function s(l,u,c){var d=l.node(c).parent,h=!0,e=u.edge(c,d),f=0;return e||(h=!1,e=u.edge(d,c)),f=e.weight,p.each(u.nodeEdges(c),function(e){var t,n,r=e.v===c,i=r?e.w:e.v;if(i!==d){var a=r===h,o=u.edge(e).weight;if(f+=a?o:-o,t=c,n=i,l.hasEdge(t,n)){var s=l.edge(c,i).cutvalue;f+=a?-s:s}}}),f}function d(e,t){arguments.length<2&&(t=e.nodes()[0]),function t(n,r,i,a,e){var o=i,s=n.node(a);return r[a]=!0,p.each(n.neighbors(a),function(e){p.has(r,e)||(i=t(n,r,i,e,a))}),s.low=o,s.lim=i++,e?s.parent=e:delete s.parent,i}(e,{},1,t)}function i(t){return p.find(t.edges(),function(e){return t.edge(e).cutvalue<0})}function a(t,n,e){var r=e.v,i=e.w;n.hasEdge(r,i)||(r=e.w,i=e.v);var a=t.node(r),o=t.node(i),s=a,l=!1;a.lim>o.lim&&(s=o,l=!0);var u=p.filter(n.edges(),function(e){return l===h(t,t.node(e.v),s)&&l!==h(t,t.node(e.w),s)});return p.min(u,function(e){return f(n,e)})}function o(e,t,n,r){var i,a,o,s,l=n.v,u=n.w;e.removeEdge(l,u),e.setEdge(r.v,r.w,{}),d(e),c(e,t),i=e,a=t,o=p.find(i.nodes(),function(e){return!a.node(e).parent}),s=(s=v(i,o)).slice(1),p.each(s,function(e){var t=i.node(e).parent,n=a.edge(e,t),r=!1;n||(n=a.edge(t,e),r=!0),a.node(e).rank=a.node(t).rank+(r?n.minlen:-n.minlen)})}function h(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}var p=e("../lodash"),l=e("./feasible-tree"),f=e("./util").slack,u=e("./util").longestPath,v=e("../graphlib").alg.preorder,g=e("../graphlib").alg.postorder,m=e("../util").simplify;(t.exports=r).initLowLimValues=d,r.initCutValues=c,r.calcCutValue=s,r.leaveEdge=i,r.enterEdge=a,r.exchangeEdges=o},{"../graphlib":7,"../lodash":10,"../util":29,"./feasible-tree":25,"./util":28}],28:[function(e,t,n){"use strict";var o=e("../lodash");t.exports={longestPath:function(i){var a={};o.each(i.sources(),function t(e){var n=i.node(e);if(o.has(a,e))return n.rank;a[e]=!0;var r=o.min(o.map(i.outEdges(e),function(e){return t(e.w)-i.edge(e).minlen}));return r===Number.POSITIVE_INFINITY&&(r=0),n.rank=r})},slack:function(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}}},{"../lodash":10}],29:[function(e,t,n){"use strict";function a(e,t,n,r){for(var i;i=s.uniqueId(r),e.hasNode(i););return n.dummy=t,e.setNode(i,n),i}function o(n){return s.max(s.map(n.nodes(),function(e){var t=n.node(e).rank;if(!s.isUndefined(t))return t}))}var s=e("./lodash"),l=e("./graphlib").Graph;t.exports={addDummyNode:a,simplify:function(r){var i=(new l).setGraph(r.graph());return s.each(r.nodes(),function(e){i.setNode(e,r.node(e))}),s.each(r.edges(),function(e){var t=i.edge(e.v,e.w)||{weight:0,minlen:1},n=r.edge(e);i.setEdge(e.v,e.w,{weight:t.weight+n.weight,minlen:Math.max(t.minlen,n.minlen)})}),i},asNonCompoundGraph:function(t){var n=new l({multigraph:t.isMultigraph()}).setGraph(t.graph());return s.each(t.nodes(),function(e){t.children(e).length||n.setNode(e,t.node(e))}),s.each(t.edges(),function(e){n.setEdge(e,t.edge(e))}),n},successorWeights:function(n){var e=s.map(n.nodes(),function(e){var t={};return s.each(n.outEdges(e),function(e){t[e.w]=(t[e.w]||0)+n.edge(e).weight}),t});return s.zipObject(n.nodes(),e)},predecessorWeights:function(n){var e=s.map(n.nodes(),function(e){var t={};return s.each(n.inEdges(e),function(e){t[e.v]=(t[e.v]||0)+n.edge(e).weight}),t});return s.zipObject(n.nodes(),e)},intersectRect:function(e,t){var n,r,i=e.x,a=e.y,o=t.x-i,s=t.y-a,l=e.width/2,u=e.height/2;if(!o&&!s)throw new Error("Not possible to find intersection inside of the rectangle");return r=Math.abs(s)*l>Math.abs(o)*u?(s<0&&(u=-u),n=u*o/s,u):(o<0&&(l=-l),(n=l)*s/o),{x:i+n,y:a+r}},buildLayerMatrix:function(r){var i=s.map(s.range(o(r)+1),function(){return[]});return s.each(r.nodes(),function(e){var t=r.node(e),n=t.rank;s.isUndefined(n)||(i[n][t.order]=e)}),i},normalizeRanks:function(n){var r=s.min(s.map(n.nodes(),function(e){return n.node(e).rank}));s.each(n.nodes(),function(e){var t=n.node(e);s.has(t,"rank")&&(t.rank-=r)})},removeEmptyRanks:function(n){var r=s.min(s.map(n.nodes(),function(e){return n.node(e).rank})),i=[];s.each(n.nodes(),function(e){var t=n.node(e).rank-r;i[t]||(i[t]=[]),i[t].push(e)});var a=0,o=n.graph().nodeRankFactor;s.each(i,function(e,t){s.isUndefined(e)&&t%o!=0?--a:a&&s.each(e,function(e){n.node(e).rank+=a})})},addBorderNode:function(e,t,n,r){var i={width:0,height:0};return 4<=arguments.length&&(i.rank=n,i.order=r),a(e,"border",i,t)},maxRank:o,partition:function(e,t){var n={lhs:[],rhs:[]};return s.each(e,function(e){t(e)?n.lhs.push(e):n.rhs.push(e)}),n},time:function(e,t){var n=s.now();try{return t()}finally{console.log(e+" time: "+(s.now()-n)+"ms")}},notime:function(e,t){return t()}}},{"./graphlib":7,"./lodash":10}],30:[function(e,t,n){t.exports="0.7.4"},{}],31:[function(e,t,n){var r=e("./lib");t.exports={Graph:r.Graph,json:e("./lib/json"),alg:e("./lib/alg"),version:r.version}},{"./lib":47,"./lib/alg":38,"./lib/json":48}],32:[function(e,t,n){var o=e("../lodash");t.exports=function(t){function n(e){o.has(i,e)||(i[e]=!0,r.push(e),o.each(t.successors(e),n),o.each(t.predecessors(e),n))}var r,i={},a=[];return o.each(t.nodes(),function(e){r=[],n(e),r.length&&a.push(r)}),a}},{"../lodash":49}],33:[function(e,t,n){var o=e("../lodash");t.exports=function(t,e,n){o.isArray(e)||(e=[e]);var r=[],i={};return o.each(e,function(e){if(!t.hasNode(e))throw new Error("Graph does not have node: "+e);!function t(n,e,r,i,a){o.has(i,e)||(i[e]=!0,r||a.push(e),o.each(n.neighbors(e),function(e){t(n,e,r,i,a)}),r&&a.push(e))}(t,e,"post"===n,i,r)}),r}},{"../lodash":49}],34:[function(e,t,n){var a=e("./dijkstra"),o=e("../lodash");t.exports=function(n,r,i){return o.transform(n.nodes(),function(e,t){e[t]=a(n,t,r,i)},{})}},{"../lodash":49,"./dijkstra":35}],35:[function(e,t,n){var r=e("../lodash"),i=e("../data/priority-queue");t.exports=function(t,e,n,r){return function(e,n,a,t){var o,s,l={},u=new i,r=function(e){var t=e.v!==o?e.v:e.w,n=l[t],r=a(e),i=s.distance+r;if(r<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+r);i<n.distance&&(n.distance=i,n.predecessor=o,u.decrease(t,i))};for(e.nodes().forEach(function(e){var t=e===n?0:Number.POSITIVE_INFINITY;l[e]={distance:t},u.add(e,t)});0<u.size()&&(o=u.removeMin(),(s=l[o]).distance!==Number.POSITIVE_INFINITY);)t(o).forEach(r);return l}(t,String(e),n||a,r||function(e){return t.outEdges(e)})};var a=r.constant(1)},{"../data/priority-queue":45,"../lodash":49}],36:[function(e,t,n){var r=e("../lodash"),i=e("./tarjan");t.exports=function(t){return r.filter(i(t),function(e){return 1<e.length||1===e.length&&t.hasEdge(e[0],e[0])})}},{"../lodash":49,"./tarjan":43}],37:[function(e,t,n){var r=e("../lodash");t.exports=function(t,e,n){return i=e||o,a=n||function(e){return t.outEdges(e)},l={},(u=t.nodes()).forEach(function(r){l[r]={},l[r][r]={distance:0},u.forEach(function(e){r!==e&&(l[r][e]={distance:Number.POSITIVE_INFINITY})}),a(r).forEach(function(e){var t=e.v===r?e.w:e.v,n=i(e);l[r][t]={distance:n,predecessor:r}})}),u.forEach(function(o){var s=l[o];u.forEach(function(e){var a=l[e];u.forEach(function(e){var t=a[o],n=s[e],r=a[e],i=t.distance+n.distance;i<r.distance&&(r.distance=i,r.predecessor=n.predecessor)})})}),l;var i,a,l,u};var o=r.constant(1)},{"../lodash":49}],38:[function(e,t,n){t.exports={components:e("./components"),dijkstra:e("./dijkstra"),dijkstraAll:e("./dijkstra-all"),findCycles:e("./find-cycles"),floydWarshall:e("./floyd-warshall"),isAcyclic:e("./is-acyclic"),postorder:e("./postorder"),preorder:e("./preorder"),prim:e("./prim"),tarjan:e("./tarjan"),topsort:e("./topsort")}},{"./components":32,"./dijkstra":35,"./dijkstra-all":34,"./find-cycles":36,"./floyd-warshall":37,"./is-acyclic":39,"./postorder":40,"./preorder":41,"./prim":42,"./tarjan":43,"./topsort":44}],39:[function(e,t,n){var r=e("./topsort");t.exports=function(e){try{r(e)}catch(e){if(e instanceof r.CycleException)return!1;throw e}return!0}},{"./topsort":44}],40:[function(e,t,n){var r=e("./dfs");t.exports=function(e,t){return r(e,t,"post")}},{"./dfs":33}],41:[function(e,t,n){var r=e("./dfs");t.exports=function(e,t){return r(e,t,"pre")}},{"./dfs":33}],42:[function(e,t,n){var l=e("../lodash"),u=e("../graph"),c=e("../data/priority-queue");t.exports=function(e,i){function t(e){var t=e.v===a?e.w:e.v,n=s.priority(t);if(void 0!==n){var r=i(e);r<n&&(o[t]=a,s.decrease(t,r))}}var a,n=new u,o={},s=new c;if(0===e.nodeCount())return n;l.each(e.nodes(),function(e){s.add(e,Number.POSITIVE_INFINITY),n.setNode(e)}),s.decrease(e.nodes()[0],0);for(var r=!1;0<s.size();){if(a=s.removeMin(),l.has(o,a))n.setEdge(a,o[a]);else{if(r)throw new Error("Input graph is not connected: "+e);r=!0}e.nodeEdges(a).forEach(t)}return n}},{"../data/priority-queue":45,"../graph":46,"../lodash":49}],43:[function(e,t,n){var c=e("../lodash");t.exports=function(a){var o=0,s=[],l={},u=[];return a.nodes().forEach(function(e){c.has(l,e)||function t(e){var n=l[e]={onStack:!0,lowlink:o,index:o++};if(s.push(e),a.successors(e).forEach(function(e){c.has(l,e)?l[e].onStack&&(n.lowlink=Math.min(n.lowlink,l[e].index)):(t(e),n.lowlink=Math.min(n.lowlink,l[e].lowlink))}),n.lowlink===n.index){for(var r,i=[];r=s.pop(),l[r].onStack=!1,i.push(r),e!==r;);u.push(i)}}(e)}),u}},{"../lodash":49}],44:[function(e,t,n){function r(n){var r={},i={},a=[];if(s.each(n.sinks(),function e(t){if(s.has(i,t))throw new o;s.has(r,t)||(i[t]=!0,r[t]=!0,s.each(n.predecessors(t),e),delete i[t],a.push(t))}),s.size(r)!==n.nodeCount())throw new o;return a}function o(){}var s=e("../lodash");(t.exports=r).CycleException=o},{"../lodash":49}],45:[function(e,t,n){function r(){this._arr=[],this._keyIndices={}}var a=e("../lodash");(t.exports=r).prototype.size=function(){return this._arr.length},r.prototype.keys=function(){return this._arr.map(function(e){return e.key})},r.prototype.has=function(e){return a.has(this._keyIndices,e)},r.prototype.priority=function(e){var t=this._keyIndices[e];if(void 0!==t)return this._arr[t].priority},r.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},r.prototype.add=function(e,t){var n=this._keyIndices;if(e=String(e),a.has(n,e))return!1;var r=this._arr,i=r.length;return n[e]=i,r.push({key:e,priority:t}),this._decrease(i),!0},r.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key},r.prototype.decrease=function(e,t){var n=this._keyIndices[e];if(t>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[n].priority+" New: "+t);this._arr[n].priority=t,this._decrease(n)},r.prototype._heapify=function(e){var t=this._arr,n=2*e,r=n+1,i=e;n<t.length&&(i=t[n].priority<t[i].priority?n:i,r<t.length&&(i=t[r].priority<t[i].priority?r:i),i!==e&&(this._swap(e,i),this._heapify(i)))},r.prototype._decrease=function(e){for(var t,n=this._arr,r=n[e].priority;0!==e&&!(n[t=e>>1].priority<r);)this._swap(e,t),e=t},r.prototype._swap=function(e,t){var n=this._arr,r=this._keyIndices,i=n[e],a=n[t];n[e]=a,n[t]=i,r[a.key]=e,r[i.key]=t}},{"../lodash":49}],46:[function(e,t,n){"use strict";function r(e){this._isDirected=!u.has(e,"directed")||e.directed,this._isMultigraph=!!u.has(e,"multigraph")&&e.multigraph,this._isCompound=!!u.has(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=u.constant(void 0),this._defaultEdgeLabelFn=u.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[i]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function s(e,t){u.has(e,t)?e[t]++:e[t]=1}function a(e,t){--e[t]||delete e[t]}function l(e,t,n,r){if(!e&&n<t){var i=t;t=n,n=i}return t+d+n+d+(u.isUndefined(r)?c:r)}function o(e,t){return l(e,t.v,t.w,t.name)}var u=e("./lodash");t.exports=r;var c="\0",i="\0",d="";r.prototype._nodeCount=0,r.prototype._edgeCount=0,r.prototype.isDirected=function(){return this._isDirected},r.prototype.isMultigraph=function(){return this._isMultigraph},r.prototype.isCompound=function(){return this._isCompound},r.prototype.setGraph=function(e){return this._label=e,this},r.prototype.graph=function(){return this._label},r.prototype.setDefaultNodeLabel=function(e){return u.isFunction(e)||(e=u.constant(e)),this._defaultNodeLabelFn=e,this},r.prototype.nodeCount=function(){return this._nodeCount},r.prototype.nodes=function(){return u.keys(this._nodes)},r.prototype.sources=function(){return u.filter(this.nodes(),function(e){return u.isEmpty(this._in[e])},this)},r.prototype.sinks=function(){return u.filter(this.nodes(),function(e){return u.isEmpty(this._out[e])},this)},r.prototype.setNodes=function(e,t){var n=arguments;return u.each(e,function(e){1<n.length?this.setNode(e,t):this.setNode(e)},this),this},r.prototype.setNode=function(e,t){return u.has(this._nodes,e)?1<arguments.length&&(this._nodes[e]=t):(this._nodes[e]=1<arguments.length?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=i,this._children[e]={},this._children[i][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount),this},r.prototype.node=function(e){return this._nodes[e]},r.prototype.hasNode=function(e){return u.has(this._nodes,e)},r.prototype.removeNode=function(e){var t=this;if(u.has(this._nodes,e)){var n=function(e){t.removeEdge(t._edgeObjs[e])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],u.each(this.children(e),function(e){this.setParent(e)},this),delete this._children[e]),u.each(u.keys(this._in[e]),n),delete this._in[e],delete this._preds[e],u.each(u.keys(this._out[e]),n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this},r.prototype.setParent=function(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(u.isUndefined(t))t=i;else{for(var n=t+="";!u.isUndefined(n);n=this.parent(n))if(n===e)throw new Error("Setting "+t+" as parent of "+e+" would create create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this},r.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]},r.prototype.parent=function(e){if(this._isCompound){var t=this._parent[e];if(t!==i)return t}},r.prototype.children=function(e){if(u.isUndefined(e)&&(e=i),this._isCompound){var t=this._children[e];if(t)return u.keys(t)}else{if(e===i)return this.nodes();if(this.hasNode(e))return[]}},r.prototype.predecessors=function(e){var t=this._preds[e];if(t)return u.keys(t)},r.prototype.successors=function(e){var t=this._sucs[e];if(t)return u.keys(t)},r.prototype.neighbors=function(e){var t=this.predecessors(e);if(t)return u.union(t,this.successors(e))},r.prototype.setDefaultEdgeLabel=function(e){return u.isFunction(e)||(e=u.constant(e)),this._defaultEdgeLabelFn=e,this},r.prototype.edgeCount=function(){return this._edgeCount},r.prototype.edges=function(){return u.values(this._edgeObjs)},r.prototype.setPath=function(e,n){var r=this,i=arguments;return u.reduce(e,function(e,t){return 1<i.length?r.setEdge(e,t,n):r.setEdge(e,t),t}),this},r.prototype.setEdge=function(){var e,t,n,r,i=!1;u.isPlainObject(arguments[0])?(e=arguments[0].v,t=arguments[0].w,n=arguments[0].name,2===arguments.length&&(r=arguments[1],i=!0)):(e=arguments[0],t=arguments[1],n=arguments[3],2<arguments.length&&(r=arguments[2],i=!0)),e=""+e,t=""+t,u.isUndefined(n)||(n=""+n);var a=l(this._isDirected,e,t,n);if(u.has(this._edgeLabels,a))return i&&(this._edgeLabels[a]=r),this;if(!u.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[a]=i?r:this._defaultEdgeLabelFn(e,t,n);var o=function(e,t,n,r){if(!e&&n<t){var i=t;t=n,n=i}var a={v:t,w:n};return r&&(a.name=r),a}(this._isDirected,e,t,n);return e=o.v,t=o.w,Object.freeze(o),this._edgeObjs[a]=o,s(this._preds[t],e),s(this._sucs[e],t),this._in[t][a]=o,this._out[e][a]=o,this._edgeCount++,this},r.prototype.edge=function(e,t,n){var r=1===arguments.length?o(this._isDirected,e):l(this._isDirected,e,t,n);return this._edgeLabels[r]},r.prototype.hasEdge=function(e,t,n){var r=1===arguments.length?o(this._isDirected,e):l(this._isDirected,e,t,n);return u.has(this._edgeLabels,r)},r.prototype.removeEdge=function(e,t,n){var r=1===arguments.length?o(this._isDirected,arguments[0]):l(this._isDirected,e,t,n),i=this._edgeObjs[r];return i&&(e=i.v,t=i.w,delete this._edgeLabels[r],delete this._edgeObjs[r],a(this._preds[t],e),a(this._sucs[e],t),delete this._in[t][r],delete this._out[e][r],this._edgeCount--),this},r.prototype.inEdges=function(e,t){var n=this._in[e];if(n){var r=u.values(n);return t?u.filter(r,function(e){return e.v===t}):r}},r.prototype.outEdges=function(e,t){var n=this._out[e];if(n){var r=u.values(n);return t?u.filter(r,function(e){return e.w===t}):r}},r.prototype.nodeEdges=function(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))}},{"./lodash":49}],47:[function(e,t,n){t.exports={Graph:e("./graph"),version:e("./version")}},{"./graph":46,"./version":50}],48:[function(e,t,n){var a=e("./lodash"),r=e("./graph");t.exports={write:function(e){var r,i,t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:(i=e,a.map(i.nodes(),function(e){var t=i.node(e),n=i.parent(e),r={v:e};return a.isUndefined(t)||(r.value=t),a.isUndefined(n)||(r.parent=n),r})),edges:(r=e,a.map(r.edges(),function(e){var t=r.edge(e),n={v:e.v,w:e.w};return a.isUndefined(e.name)||(n.name=e.name),a.isUndefined(t)||(n.value=t),n}))};return a.isUndefined(e.graph())||(t.value=a.clone(e.graph())),t},read:function(e){var t=new r(e.options).setGraph(e.value);return a.each(e.nodes,function(e){t.setNode(e.v,e.value),e.parent&&t.setParent(e.v,e.parent)}),a.each(e.edges,function(e){t.setEdge({v:e.v,w:e.w,name:e.name},e.value)}),t}}},{"./graph":46,"./lodash":49}],49:[function(e,t,n){t.exports=e(10)},{"/Users/cpettitt/projects/dagre/lib/lodash.js":10,lodash:51}],50:[function(e,t,n){t.exports="1.0.5"},{}],51:[function(e,b,w){(function(y){(function(){function pi(e,t){if(e!==t){var n=null===e,r=e===Di,i=e==e,a=null===t,o=t===Di,s=t==t;if(t<e&&!a||!i||n&&!o&&s||r&&s)return 1;if(e<t&&!n||!s||a&&!r&&i||o&&i)return-1}return 0}function vi(e,t,n){for(var r=e.length,i=n?r:-1;n?i--:++i<r;)if(t(e[i],i,e))return i;return-1}function gi(e,t,n){if(t!=t)return Ti(e,n);for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function mi(e){return"function"==typeof e||!1}function yi(e){return null==e?"":e+""}function bi(e,t){for(var n=-1,r=e.length;++n<r&&-1<t.indexOf(e.charAt(n)););return n}function wi(e,t){for(var n=e.length;n--&&-1<t.indexOf(e.charAt(n)););return n}function xi(e,t){return pi(e.criteria,t.criteria)||e.index-t.index}function Ei(e){return o[e]}function _i(e){return s[e]}function ki(e,t,n){return t?e=c[e]:n&&(e=d[e]),"\\"+e}function Ci(e){return"\\"+d[e]}function Ti(e,t,n){for(var r=e.length,i=t+(n?0:-1);n?i--:++i<r;){var a=e[i];if(a!=a)return i}return-1}function Ii(e){return!!e&&"object"==typeof e}function r(e){return e<=160&&9<=e&&e<=13||32==e||160==e||5760==e||6158==e||8192<=e&&(e<=8202||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function Pi(e,t){for(var n=-1,r=e.length,i=-1,a=[];++n<r;)e[n]===t&&(e[n]=Ki,a[++i]=n);return a}function Ni(e){for(var t=-1,n=e.length;++t<n&&r(e.charCodeAt(t)););return t}function Si(e){for(var t=e.length;t--&&r(e.charCodeAt(t)););return t}function Bi(e){return l[e]}var Di,e,t,Mi="3.10.0",Li=1,Ai=2,Oi=4,Ri=8,zi=16,ji=32,Vi=64,Fi=128,qi=256,Xi=30,Yi="...",Wi=150,Hi=16,Ui=200,$i=1,Gi=2,Zi="Expected a function",Ki="__lodash_placeholder__",Qi="[object Arguments]",Ji="[object Array]",ea="[object Boolean]",ta="[object Date]",na="[object Error]",ra="[object Function]",n="[object Map]",ia="[object Number]",aa="[object Object]",oa="[object RegExp]",i="[object Set]",sa="[object String]",a="[object WeakMap]",la="[object ArrayBuffer]",ua="[object Float32Array]",ca="[object Float64Array]",da="[object Int8Array]",ha="[object Int16Array]",fa="[object Int32Array]",pa="[object Uint8Array]",va="[object Uint8ClampedArray]",ga="[object Uint16Array]",ma="[object Uint32Array]",ya=/\b__p \+= '';/g,ba=/\b(__p \+=) '' \+/g,wa=/(__e\(.*?\)|\b__t\)) \+\n'';/g,xa=/&(?:amp|lt|gt|quot|#39|#96);/g,Ea=/[&<>"'`]/g,_a=RegExp(xa.source),ka=RegExp(Ea.source),Ca=/<%-([\s\S]+?)%>/g,Ta=/<%([\s\S]+?)%>/g,Ia=/<%=([\s\S]+?)%>/g,Pa=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,Na=/^\w*$/,Sa=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Ba=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,Da=RegExp(Ba.source),Ma=/[\u0300-\u036f\ufe20-\ufe23]/g,La=/\\(\\)?/g,Aa=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Oa=/\w*$/,Ra=/^0[xX]/,za=/^\[object .+?Constructor\]$/,ja=/^\d+$/,Va=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Fa=/($^)/,qa=/['\n\r\u2028\u2029\\]/g,Xa=(e="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+",RegExp(e+"+(?="+e+t+")|"+e+"?"+t+"|"+e+"+|[0-9]+","g")),Ya=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Wa=-1,Ha={};Ha[ua]=Ha[ca]=Ha[da]=Ha[ha]=Ha[fa]=Ha[pa]=Ha[va]=Ha[ga]=Ha[ma]=!0,Ha[Qi]=Ha[Ji]=Ha[la]=Ha[ea]=Ha[ta]=Ha[na]=Ha[ra]=Ha[n]=Ha[ia]=Ha[aa]=Ha[oa]=Ha[i]=Ha[sa]=Ha[a]=!1;var Ua={};Ua[Qi]=Ua[Ji]=Ua[la]=Ua[ea]=Ua[ta]=Ua[ua]=Ua[ca]=Ua[da]=Ua[ha]=Ua[fa]=Ua[ia]=Ua[aa]=Ua[oa]=Ua[sa]=Ua[pa]=Ua[va]=Ua[ga]=Ua[ma]=!0,Ua[na]=Ua[ra]=Ua[n]=Ua[i]=Ua[a]=!1;var o={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss"},s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},l={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},u={function:!0,object:!0},c={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},d={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},h=u[typeof w]&&w&&!w.nodeType&&w,f=u[typeof b]&&b&&!b.nodeType&&b,p=h&&f&&"object"==typeof y&&y&&y.Object&&y,v=u[typeof self]&&self&&self.Object&&self,g=u[typeof window]&&window&&window.Object&&window,m=f&&f.exports===h&&h,$a=p||g!==(this&&this.window)&&g||v||this,Ga=function e(t){function g(e){if(Ii(e)&&!zr(e)&&!(e instanceof m)){if(e instanceof v)return e;if(sn.call(e,"__chain__")&&sn.call(e,"__wrapped__"))return $e(e)}return new v(e)}function a(){}function v(e,t,n){this.__wrapped__=e,this.__actions__=n||[],this.__chain__=!!t}function m(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ln,this.__views__=[]}function n(){this.__data__={}}function r(e){var t=e?e.length:0;for(this.data={hash:_n(null),set:new mn};t--;)this.push(e[t])}function f(e,t){var n=e.data;return("string"==typeof t||Et(t)?n.set.has(t):n.hash[t])?0:-1}function N(e,t){var n=-1,r=e.length;for(t||(t=Ht(r));++n<r;)t[n]=e[n];return t}function y(e,t){for(var n=-1,r=e.length;++n<r&&!1!==t(e[n],n,e););return e}function o(e,t){for(var n=-1,r=e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function i(e,t){for(var n=-1,r=e.length,i=-1,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[++i]=o)}return a}function s(e,t){for(var n=-1,r=e.length,i=Ht(r);++n<r;)i[n]=t(e[n],n,e);return i}function b(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function l(e,t,n,r){var i=-1,a=e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function w(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function x(e,t,n,r){return e!==Di&&sn.call(r,n)?e:t}function E(e,t,n){for(var r=-1,i=Gr(t),a=i.length;++r<a;){var o=i[r],s=e[o],l=n(s,t[o],o,e,t);(l==l?l===s:s!=s)&&(s!==Di||o in e)||(e[o]=l)}return e}function _(e,t){return null==t?e:c(t,Gr(t),e)}function u(e,t){for(var n=-1,r=null==e,i=!r&&Ae(e),a=i?e.length:0,o=t.length,s=Ht(o);++n<o;){var l=t[n];s[n]=i?Oe(l,a)?e[l]:Di:r?Di:e[l]}return s}function c(e,t,n){n||(n={});for(var r=-1,i=t.length;++r<i;){var a=t[r];n[a]=e[a]}return n}function d(e,t,n){var r=typeof e;return"function"==r?t===Di?e:J(e,t,n):null==e?Ft:"object"==r?z(e):t===Di?Wt(e):j(e,t)}function k(n,r,i,e,t,a,o){var s;if(i&&(s=t?i(n,e,t):i(n)),s!==Di)return s;if(!Et(n))return n;var l,u,c,d,h=zr(n);if(h){if(c=(u=n).length,d=new u.constructor(c),c&&"string"==typeof u[0]&&sn.call(u,"index")&&(d.index=u.index,d.input=u.input),s=d,!r)return N(n,s)}else{var f=un.call(n),p=f==ra;if(f!=aa&&f!=Qi&&(!p||t))return Ua[f]?function(e,t,n){var r=e.constructor;switch(t){case la:return ee(e);case ea:case ta:return new r(+e);case ua:case ca:case da:case ha:case fa:case pa:case va:case ga:case ma:var i=e.buffer;return new r(n?ee(i):i,e.byteOffset,e.length);case ia:case sa:return new r(e);case oa:var a=new r(e.source,Oa.exec(e));a.lastIndex=e.lastIndex}return a}(n,f,r):t?n:{};if("function"==typeof(l=(p?{}:n).constructor)&&l instanceof l||(l=Qt),s=new l,!r)return _(s,n)}a||(a=[]),o||(o=[]);for(var v=a.length;v--;)if(a[v]==n)return o[v];return a.push(n),o.push(s),(h?y:B)(n,function(e,t){s[t]=k(e,r,i,t,n,a,o)}),s}function h(e,t,n){if("function"!=typeof e)throw new tn(Zi);return yn(function(){e.apply(Di,n)},t)}function p(e,t){var n=e?e.length:0,r=[];if(!n)return r;var i=-1,a=Be(),o=a==gi,s=o&&t.length>=Ui?se(t):null,l=t.length;s&&(a=f,o=!1,t=s);e:for(;++i<n;){var u=e[i];if(o&&u==u){for(var c=l;c--;)if(t[c]===u)continue e;r.push(u)}else a(t,u,0)<0&&r.push(u)}return r}function C(e,r){var i=!0;return Wn(e,function(e,t,n){return i=!!r(e,t,n)}),i}function T(e,r){var i=[];return Wn(e,function(e,t,n){r(e,t,n)&&i.push(e)}),i}function I(e,r,t,i){var a;return t(e,function(e,t,n){if(r(e,t,n))return a=i?t:e,!1}),a}function P(e,t,n,r){r||(r=[]);for(var i=-1,a=e.length;++i<a;){var o=e[i];Ii(o)&&Ae(o)&&(n||zr(o)||yt(o))?t?P(o,t,n,r):b(r,o):n||(r[r.length]=o)}return r}function S(e,t){return Un(e,t,Mt)}function B(e,t){return Un(e,t,Gr)}function D(e,t){return $n(e,t,Gr)}function M(e,t){for(var n=-1,r=t.length,i=-1,a=[];++n<r;){var o=t[n];xt(e[o])&&(a[++i]=o)}return a}function L(e,t,n){if(null!=e){n!==Di&&n in He(e)&&(t=[n]);for(var r=0,i=t.length;null!=e&&r<i;)e=e[t[r++]];return r&&r==i?e:Di}}function A(e,t,n,r,i,a){return e===t||(null==e||null==t||!Et(e)&&!Ii(t)?e!=e&&t!=t:function(e,t,n,r,i,a,o){var s=zr(e),l=zr(t),u=Ji,c=Ji;s||((u=un.call(e))==Qi?u=aa:u!=aa&&(s=Pt(e))),l||((c=un.call(t))==Qi?c=aa:c!=aa&&(l=Pt(t)));var d=u==aa,h=c==aa,f=u==c;if(f&&!s&&!d)return function(e,t,n){switch(n){case ea:case ta:return+e==+t;case na:return e.name==t.name&&e.message==t.message;case ia:return e!=+e?t!=+t:e==+t;case oa:case sa:return e==t+""}return!1}(e,t,u);if(!i){var p=d&&sn.call(e,"__wrapped__"),v=h&&sn.call(t,"__wrapped__");if(p||v)return n(p?e.value():e,v?t.value():t,r,i,a,o)}if(!f)return!1;a||(a=[]),o||(o=[]);for(var g=a.length;g--;)if(a[g]==e)return o[g]==t;a.push(e),o.push(t);var m=(s?function(e,t,n,r,i,a,o){var s=-1,l=e.length,u=t.length;if(l!=u&&!(i&&l<u))return!1;for(;++s<l;){var c=e[s],d=t[s],h=r?r(i?d:c,i?c:d,s):Di;if(h!==Di){if(h)continue;return!1}if(i){if(!w(t,function(e){return c===e||n(c,e,r,i,a,o)}))return!1}else if(c!==d&&!n(c,d,r,i,a,o))return!1}return!0}:function(e,t,n,r,i,a,o){var s=Gr(e),l=s.length,u=Gr(t).length;if(l!=u&&!i)return!1;for(var c=l;c--;){var d=s[c];if(!(i?d in t:sn.call(t,d)))return!1}for(var h=i;++c<l;){d=s[c];var f=e[d],p=t[d],v=r?r(i?p:f,i?f:p,d):Di;if(!(v===Di?n(f,p,r,i,a,o):v))return!1;h||(h="constructor"==d)}if(!h){var g=e.constructor,m=t.constructor;if(g!=m&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof m&&m instanceof m))return!1}return!0})(e,t,n,r,i,a,o);return a.pop(),o.pop(),m}(e,t,A,n,r,i,a))}function O(e,t,n){var r=t.length,i=r,a=!n;if(null==e)return!i;for(e=He(e);r--;){var o=t[r];if(a&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++r<i;){var s=(o=t[r])[0],l=e[s],u=o[1];if(a&&o[2]){if(l===Di&&!(s in e))return!1}else{var c=n?n(l,u,s):Di;if(!(c===Di?A(u,l,n,!0):c))return!1}}return!0}function R(e,r){var i=-1,a=Ae(e)?Ht(e.length):[];return Wn(e,function(e,t,n){a[++i]=r(e,t,n)}),a}function z(e){var t=De(e);if(1==t.length&&t[0][2]){var n=t[0][0],r=t[0][1];return function(e){return null!=e&&e[n]===r&&(r!==Di||n in He(e))}}return function(e){return O(e,t)}}function j(n,r){var i=zr(n),a=ze(n)&&Fe(r),o=n+"";return n=Ue(n),function(e){if(null==e)return!1;var t=o;if(e=He(e),(i||!a)&&!(t in e)){if(null==(e=1==n.length?e:L(e,X(n,0,-1))))return!1;t=Je(n),e=He(e)}return e[t]===r?r!==Di||t in e:A(r,e[t],Di,!0)}}function V(t){return function(e){return null==e?Di:e[t]}}function F(e,t){for(var n=e?t.length:0;n--;){var r=t[n];if(r!=i&&Oe(r)){var i=r;bn.call(e,r,1)}}return e}function q(e,t){return e+kn(Dn()*(t-e+1))}function X(e,t,n){var r=-1,i=e.length;(t=null==t?0:+t||0)<0&&(t=i<-t?0:i+t),(n=n===Di||i<n?i:+n||0)<0&&(n+=i),i=n<t?0:n-t>>>0,t>>>=0;for(var a=Ht(i);++r<i;)a[r]=e[r+t];return a}function Y(e,r){var i;return Wn(e,function(e,t,n){return!(i=r(e,t,n))}),!!i}function W(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function H(e,n,r){var t=Ne(),i=-1;return n=s(n,function(e){return t(e)}),W(R(e,function(t){return{criteria:s(n,function(e){return e(t)}),index:++i,value:t}}),function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,o=i.length,s=n.length;++r<o;){var l=pi(i[r],a[r]);if(l){if(s<=r)return l;var u=n[r];return l*("asc"===u||!0===u?1:-1)}}return e.index-t.index}(e,t,r)})}function U(e,t){var n=-1,r=Be(),i=e.length,a=r==gi,o=a&&Ui<=i,s=o?se():null,l=[];s?(r=f,a=!1):(o=!1,s=t?[]:l);e:for(;++n<i;){var u=e[n],c=t?t(u,n,e):u;if(a&&u==u){for(var d=s.length;d--;)if(s[d]===c)continue e;t&&s.push(c),l.push(u)}else r(s,c,0)<0&&((t||o)&&s.push(c),l.push(u))}return l}function $(e,t){for(var n=-1,r=t.length,i=Ht(r);++n<r;)i[n]=e[t[n]];return i}function G(e,t,n,r){for(var i=e.length,a=r?i:-1;(r?a--:++a<i)&&t(e[a],a,e););return n?X(e,r?0:a,r?a+1:i):X(e,r?a+1:0,r?i:a)}function Z(e,t){var n=e;n instanceof m&&(n=n.value());for(var r=-1,i=t.length;++r<i;){var a=t[r];n=a.func.apply(a.thisArg,b([n],a.args))}return n}function K(e,t,n){var r=0,i=e?e.length:r;if("number"==typeof t&&t==t&&i<=Rn){for(;r<i;){var a=r+i>>>1,o=e[a];(n?o<=t:o<t)&&null!==o?r=a+1:i=a}return i}return Q(e,t,Ft,n)}function Q(e,t,n,r){t=n(t);for(var i=0,a=e?e.length:0,o=t!=t,s=null===t,l=t===Di;i<a;){var u=kn((i+a)/2),c=n(e[u]),d=c!==Di,h=c==c;if(o)var f=h||r;else f=s?h&&d&&(r||null!=c):l?h&&(r||d):null!=c&&(r?c<=t:c<t);f?i=u+1:a=u}return Nn(a,On)}function J(a,o,e){if("function"!=typeof a)return Ft;if(o===Di)return a;switch(e){case 1:return function(e){return a.call(o,e)};case 3:return function(e,t,n){return a.call(o,e,t,n)};case 4:return function(e,t,n,r){return a.call(o,e,t,n,r)};case 5:return function(e,t,n,r,i){return a.call(o,e,t,n,r,i)}}return function(){return a.apply(o,arguments)}}function ee(e){var t=new hn(e.byteLength);return new wn(t).set(new wn(e)),t}function te(e,t,n){for(var r=n.length,i=-1,a=Pn(e.length-r,0),o=-1,s=t.length,l=Ht(s+a);++o<s;)l[o]=t[o];for(;++i<r;)l[n[i]]=e[i];for(;a--;)l[o++]=e[i++];return l}function ne(e,t,n){for(var r=-1,i=n.length,a=-1,o=Pn(e.length-i,0),s=-1,l=t.length,u=Ht(o+l);++a<o;)u[a]=e[a];for(var c=a;++s<l;)u[c+s]=t[s];for(;++r<i;)u[c+n[r]]=e[a++];return u}function re(s,l){return function(e,r,t){var i=l?l():{};if(r=Ne(r,t,3),zr(e))for(var n=-1,a=e.length;++n<a;){var o=e[n];s(i,o,r(o,n,e),e)}else Wn(e,function(e,t,n){s(i,e,r(e,t,n),n)});return i}}function ie(l){return gt(function(e,t){var n=-1,r=null==e?0:t.length,i=2<r?t[r-2]:Di,a=2<r?t[2]:Di,o=1<r?t[r-1]:Di;for("function"==typeof i?(i=J(i,o,5),r-=2):r-=(i="function"==typeof o?o:Di)?1:0,a&&Re(t[0],t[1],a)&&(i=r<3?Di:i,r=1);++n<r;){var s=t[n];s&&l(e,s,i)}return e})}function ae(a,o){return function(e,t){var n=e?Kn(e):0;if(!Ve(n))return a(e,t);for(var r=o?n:-1,i=He(e);(o?r--:++r<n)&&!1!==t(i[r],r,i););return e}}function oe(l){return function(e,t,n){for(var r=He(e),i=n(e),a=i.length,o=l?a:-1;l?o--:++o<a;){var s=i[o];if(!1===t(r[s],s,r))break}return e}}function se(e){return _n&&mn?new r(e):null}function le(a){return function(e){for(var t=-1,n=jt(Ot(e)),r=n.length,i="";++t<r;)i=a(i,n[t],t);return i}}function ue(r){return function(){var e=arguments;switch(e.length){case 0:return new r;case 1:return new r(e[0]);case 2:return new r(e[0],e[1]);case 3:return new r(e[0],e[1],e[2]);case 4:return new r(e[0],e[1],e[2],e[3]);case 5:return new r(e[0],e[1],e[2],e[3],e[4]);case 6:return new r(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new r(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var t=Yn(r.prototype),n=r.apply(t,e);return Et(n)?n:t}}function ce(a){return function e(t,n,r){r&&Re(t,n,r)&&(n=Di);var i=Pe(t,a,Di,Di,Di,Di,Di,n);return i.placeholder=e.placeholder,i}}function de(n,r){return gt(function(e){var t=e[0];return null==t?t:(e.push(r),n.apply(Di,e))})}function he(u,c){return function(e,t,n){if(n&&Re(e,t,n)&&(t=Di),1==(t=Ne(t,n,3)).length){var r=function(e,t,n,r){for(var i=-1,a=e.length,o=r,s=o;++i<a;){var l=e[i],u=+t(l);n(u,o)&&(o=u,s=l)}return s}(e=zr(e)?e:We(e),t,u,c);if(!e.length||r!==c)return r}return i=t,a=u,l=s=o=c,Wn(e,function(e,t,n){var r=+i(e,t,n);(a(r,s)||r===o&&r===l)&&(s=r,l=e)}),l;var i,a,o,s,l}}function fe(i,a){return function(e,t,n){if(t=Ne(t,n,3),zr(e)){var r=vi(e,t,a);return-1<r?e[r]:Di}return I(e,t,i)}}function pe(r){return function(e,t,n){return e&&e.length?vi(e,t=Ne(t,n,3),r):-1}}function ve(r){return function(e,t,n){return I(e,t=Ne(t,n,3),r,!0)}}function ge(l){return function(){for(var i,a=arguments.length,e=l?a:-1,t=0,o=Ht(a);l?e--:++e<a;){var n=o[t++]=arguments[e];if("function"!=typeof n)throw new tn(Zi);!i&&v.prototype.thru&&"wrapper"==Se(n)&&(i=new v([],!0))}for(e=i?-1:a;++e<a;){var r=Se(n=o[e]),s="wrapper"==r?Zn(n):Di;i=s&&je(s[0])&&s[1]==(Fi|Ri|ji|qi)&&!s[4].length&&1==s[9]?i[Se(s[0])].apply(i,s[3]):1==n.length&&je(n)?i[r]():i.thru(n)}return function(){var e=arguments,t=e[0];if(i&&1==e.length&&zr(t)&&t.length>=Ui)return i.plant(t).value();for(var n=0,r=a?o[n].apply(this,e):t;++n<a;)r=o[n].call(this,r);return r}}}function me(r,i){return function(e,t,n){return"function"==typeof t&&n===Di&&zr(e)?r(e,t):i(e,J(t,n,3))}}function ye(r){return function(e,t,n){return"function"==typeof t&&n===Di||(t=J(t,n,3)),r(e,t,Mt)}}function be(r){return function(e,t,n){return"function"==typeof t&&n===Di||(t=J(t,n,3)),r(e,t)}}function we(o){return function(e,i,t){var a={};return i=Ne(i,t,3),B(e,function(e,t,n){var r=i(e,t,n);e=o?e:r,a[t=o?r:t]=e}),a}}function xe(r){return function(e,t,n){return e=yi(e),(r?e:"")+Ce(e,t,n)+(r?"":e)}}function Ee(r){var i=gt(function(e,t){var n=Pi(t,i.placeholder);return Pe(e,r,Di,t,n)});return i}function _e(u,c){return function(e,t,n,r){var i,a,o,s,l=arguments.length<3;return"function"==typeof t&&r===Di&&zr(e)?u(e,t,n,l):(i=e,a=Ne(t,r,4),o=n,s=l,c(i,function(e,t,n){o=s?(s=!1,e):a(o,e,t,n)}),o)}}function ke(h,f,p,v,g,m,y,b,w,x){var E=f&Fi,_=f&Li,k=f&Ai,C=f&Ri,T=f&Oi,I=f&zi,P=k?Di:ue(h);return function e(){for(var t=arguments.length,n=t,r=Ht(t);n--;)r[n]=arguments[n];if(v&&(r=te(r,v,g)),m&&(r=ne(r,m,y)),C||I){var i=e.placeholder,a=Pi(r,i);if((t-=a.length)<x){var o=b?N(b):Di,s=Pn(x-t,0);f|=C?ji:Vi,f&=~(C?Vi:ji),T||(f&=~(Li|Ai));var l=[h,f,p,C?r:Di,C?a:Di,C?Di:r,C?Di:a,o,w,s],u=ke.apply(Di,l);return je(h)&&Qn(u,l),u.placeholder=i,u}}var c=_?p:this,d=k?c[h]:h;return b&&(r=function(e,t){for(var n=e.length,r=Nn(t.length,n),i=N(e);r--;){var a=t[r];e[r]=Oe(a,n)?i[a]:Di}return e}(r,b)),E&&w<r.length&&(r.length=w),this&&this!==$a&&this instanceof e&&(d=P||ue(h)),d.apply(c,r)}}function Ce(e,t,n){var r=e.length;if((t=+t)<=r||!Tn(t))return"";var i=t-r;return Rt(n=null==n?" ":n+"",En(i/n.length)).slice(0,i)}function Te(e){var n=Zt[e];return function(e,t){return(t=t===Di?0:+t||0)?(t=vn(10,t),n(e*t)/t):n(e)}}function Ie(a){return function(e,t,n,r){var i=Ne(n);return null==n&&i===d?K(e,t,a):Q(e,t,i(n,r,1),a)}}function Pe(e,t,n,r,i,a,o,s){var l=t&Ai;if(!l&&"function"!=typeof e)throw new tn(Zi);var u=r?r.length:0;if(u||(t&=~(ji|Vi),r=i=Di),u-=i?i.length:0,t&Vi){var c=r,d=i;r=i=Di}var h,f,p,v=l?Di:Zn(e),g=[e,t,n,r,i,c,d,a,o,s];if(v&&(function(e,t){var n=e[1],r=t[1],i=n|r,a=i<Fi,o=r==Fi&&n==Ri||r==Fi&&n==qi&&e[7].length<=t[8]||r==(Fi|qi)&&n==Ri;if(a||o){r&Li&&(e[2]=t[2],i|=n&Li?0:Oi);var s=t[3];if(s){var l=e[3];e[3]=l?te(l,s,t[4]):N(s),e[4]=l?Pi(e[3],Ki):N(t[4])}(s=t[5])&&(l=e[5],e[5]=l?ne(l,s,t[6]):N(s),e[6]=l?Pi(e[5],Ki):N(t[6])),(s=t[7])&&(e[7]=N(s)),r&Fi&&(e[8]=null==e[8]?t[8]:Nn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}}(g,v),t=g[1],s=g[9]),g[9]=null==s?l?0:e.length:Pn(s-u,0)||0,t==Li)var m=(h=g[0],f=g[2],p=ue(h),function e(){return(this&&this!==$a&&this instanceof e?p:h).apply(f,arguments)});else m=t!=ji&&t!=(Li|ji)||g[4].length?ke.apply(Di,g):function(o,e,s,l){var u=e&Li,c=ue(o);return function e(){for(var t=-1,n=arguments.length,r=-1,i=l.length,a=Ht(i+n);++r<i;)a[r]=l[r];for(;n--;)a[r++]=arguments[++t];return(this&&this!==$a&&this instanceof e?c:o).apply(u?s:this,a)}}.apply(Di,g);return(v?Gn:Qn)(m,g)}function Ne(e,t,n){var r=g.callback||Vt;return r=r===Vt?d:r,n?r(e,t,n):r}function Se(e){for(var t=e.name,n=Vn[t],r=n?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==e)return i.name}return t}function Be(e,t,n){var r=g.indexOf||Qe;return r=r===Qe?gi:r,e?r(e,t,n):r}function De(e){for(var t=Lt(e),n=t.length;n--;)t[n][2]=Fe(t[n][1]);return t}function Me(e,t){var n=null==e?Di:e[t];return _t(n)?n:Di}function Le(e,t,n){null==e||ze(t,e)||(e=1==(t=Ue(t)).length?e:L(e,X(t,0,-1)),t=Je(t));var r=null==e?e:e[t];return null==r?Di:r.apply(e,n)}function Ae(e){return null!=e&&Ve(Kn(e))}function Oe(e,t){return e="number"==typeof e||ja.test(e)?+e:-1,t=null==t?zn:t,-1<e&&e%1==0&&e<t}function Re(e,t,n){if(!Et(n))return!1;var r=typeof t;if("number"==r?Ae(n)&&Oe(t,n.length):"string"==r&&t in n){var i=n[t];return e==e?e===i:i!=i}return!1}function ze(e,t){var n=typeof e;return!!("string"==n&&Na.test(e)||"number"==n)||!zr(e)&&(!Pa.test(e)||null!=t&&e in He(t))}function je(e){var t=Se(e);if(!(t in m.prototype))return!1;var n=g[t];if(e===n)return!0;var r=Zn(n);return!!r&&e===r[0]}function Ve(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=zn}function Fe(e){return e==e&&!Et(e)}function qe(e,t){e=He(e);for(var n=-1,r=t.length,i={};++n<r;){var a=t[n];a in e&&(i[a]=e[a])}return i}function Xe(e,r){var i={};return S(e,function(e,t,n){r(e,t,n)&&(i[t]=e)}),i}function Ye(e){for(var t=Mt(e),n=t.length,r=n&&e.length,i=!!r&&Ve(r)&&(zr(e)||yt(e)),a=-1,o=[];++a<n;){var s=t[a];(i&&Oe(s,r)||sn.call(e,s))&&o.push(s)}return o}function We(e){return null==e?[]:Ae(e)?Et(e)?e:Qt(e):At(e)}function He(e){return Et(e)?e:Qt(e)}function Ue(e){if(zr(e))return e;var i=[];return yi(e).replace(Sa,function(e,t,n,r){i.push(n?r.replace(La,"$1"):t||e)}),i}function $e(e){return e instanceof m?e.clone():new v(e.__wrapped__,e.__chain__,N(e.__actions__))}function Ge(e,t,n){return e&&e.length?((n?Re(e,t,n):null==t)&&(t=1),X(e,t<0?0:t)):[]}function Ze(e,t,n){var r=e?e.length:0;return r?((n?Re(e,t,n):null==t)&&(t=1),X(e,0,(t=r-(+t||0))<0?0:t)):[]}function Ke(e){return e?e[0]:Di}function Qe(e,t,n){var r=e?e.length:0;if(!r)return-1;if("number"==typeof n)n=n<0?Pn(r+n,0):n;else if(n){var i=K(e,t);return i<r&&(t==t?t===e[i]:e[i]!=e[i])?i:-1}return gi(e,t,n||0)}function Je(e){var t=e?e.length:0;return t?e[t-1]:Di}function et(e){return Ge(e,1)}function tt(e,t,n,r){if(!e||!e.length)return[];null!=t&&"boolean"!=typeof t&&(n=Re(e,t,r=n)?Di:t,t=!1);var i=Ne();return null==n&&i===d||(n=i(n,r,3)),t&&Be()==gi?function(e,t){for(var n,r=-1,i=e.length,a=-1,o=[];++r<i;){var s=e[r],l=t?t(s,r,e):s;r&&n===l||(n=l,o[++a]=s)}return o}(e,n):U(e,n)}function nt(e){if(!e||!e.length)return[];var t=-1,n=0;e=i(e,function(e){if(Ae(e))return n=Pn(e.length,n),!0});for(var r=Ht(n);++t<n;)r[t]=s(e,V(t));return r}function rt(e,t,n){if(!e||!e.length)return[];var r=nt(e);return null==t?r:(t=J(t,n,4),s(r,function(e){return l(e,t,Di,!0)}))}function it(e,t){var n=-1,r=e?e.length:0,i={};for(!r||t||zr(e[0])||(t=[]);++n<r;){var a=e[n];t?i[a]=t[n]:a&&(i[a[0]]=a[1])}return i}function at(e){var t=g(e);return t.__chain__=!0,t}function ot(e,t,n){return t.call(n,e)}function st(e,t,n){var r=zr(e)?o:C;return n&&Re(e,t,n)&&(t=Di),"function"==typeof t&&n===Di||(t=Ne(t,n,3)),r(e,t)}function lt(e,t,n){return(zr(e)?i:T)(e,t=Ne(t,n,3))}function ut(e,t,n,r){var i=e?Kn(e):0;return Ve(i)||(i=(e=At(e)).length),n="number"!=typeof n||r&&Re(t,n,r)?0:n<0?Pn(i+n,0):n||0,"string"==typeof e||!zr(e)&&It(e)?n<=i&&-1<e.indexOf(t,n):!!i&&-1<Be(e,t,n)}function ct(e,t,n){return(zr(e)?s:R)(e,t=Ne(t,n,3))}function dt(e,t,n){if(n?Re(e,t,n):null==t)return 0<(r=(e=We(e)).length)?e[q(0,r-1)]:Di;var r,i=-1,a=St(e),o=(r=a.length)-1;for(t=Nn(t<0?0:+t||0,r);++i<t;){var s=q(i,o),l=a[s];a[s]=a[i],a[i]=l}return a.length=t,a}function ht(e,t,n){var r=zr(e)?w:Y;return n&&Re(e,t,n)&&(t=Di),"function"==typeof t&&n===Di||(t=Ne(t,n,3)),r(e,t)}function ft(e,t){var n;if("function"!=typeof t){if("function"!=typeof e)throw new tn(Zi);var r=e;e=t,t=r}return function(){return 0<--e&&(n=t.apply(this,arguments)),e<=1&&(t=Di),n}}function pt(r,i,e){function t(e,t){t&&fn(t),l=h=f=Di,e&&(p=kr(),u=r.apply(d,s),h||l||(s=d=Di))}function a(){var e=i-(kr()-c);e<=0||i<e?t(f,l):h=yn(a,e)}function o(){t(g,h)}function n(){if(s=arguments,c=kr(),d=this,f=g&&(h||!m),!1===v)var e=m&&!h;else{l||m||(p=c);var t=v-(c-p),n=t<=0||v<t;n?(l&&(l=fn(l)),p=c,u=r.apply(d,s)):l||(l=yn(o,t))}return n&&h?h=fn(h):h||i===v||(h=yn(a,i)),e&&(n=!0,u=r.apply(d,s)),!n||h||l||(s=d=Di),u}var s,l,u,c,d,h,f,p=0,v=!1,g=!0;if("function"!=typeof r)throw new tn(Zi);if(i=i<0?0:+i||0,!0===e){var m=!0;g=!1}else Et(e)&&(m=!!e.leading,v="maxWait"in e&&Pn(+e.maxWait||0,i),g="trailing"in e?!!e.trailing:g);return n.cancel=function(){h&&fn(h),l&&fn(l),p=0,l=h=f=Di},n}function vt(i,a){if("function"!=typeof i||a&&"function"!=typeof a)throw new tn(Zi);var o=function(){var e=arguments,t=a?a.apply(this,e):e[0],n=o.cache;if(n.has(t))return n.get(t);var r=i.apply(this,e);return o.cache=n.set(t,r),r};return o.cache=new vt.Cache,o}function gt(a,o){if("function"!=typeof a)throw new tn(Zi);return o=Pn(o===Di?a.length-1:+o||0,0),function(){for(var e=arguments,t=-1,n=Pn(e.length-o,0),r=Ht(n);++t<n;)r[t]=e[o+t];switch(o){case 0:return a.call(this,r);case 1:return a.call(this,e[0],r);case 2:return a.call(this,e[0],e[1],r)}var i=Ht(o+1);for(t=-1;++t<o;)i[t]=e[t];return i[o]=r,a.apply(this,i)}}function mt(e,t){return t<e}function yt(e){return Ii(e)&&Ae(e)&&sn.call(e,"callee")&&!gn.call(e,"callee")}function bt(e,t,n,r){var i=(n="function"==typeof n?J(n,r,3):Di)?n(e,t):Di;return i===Di?A(e,t,n):!!i}function wt(e){return Ii(e)&&"string"==typeof e.message&&un.call(e)==na}function xt(e){return Et(e)&&un.call(e)==ra}function Et(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function _t(e){return null!=e&&(xt(e)?dn.test(on.call(e)):Ii(e)&&za.test(e))}function kt(e){return"number"==typeof e||Ii(e)&&un.call(e)==ia}function Ct(e){var t,n;return!(!Ii(e)||un.call(e)!=aa||yt(e)||!sn.call(e,"constructor")&&!("function"!=typeof(t=e.constructor)||t instanceof t))&&(S(e,function(e,t){n=t}),n===Di||sn.call(e,n))}function Tt(e){return Et(e)&&un.call(e)==oa}function It(e){return"string"==typeof e||Ii(e)&&un.call(e)==sa}function Pt(e){return Ii(e)&&Ve(e.length)&&!!Ha[un.call(e)]}function Nt(e,t){return e<t}function St(e){var t=e?Kn(e):0;return Ve(t)?t?N(e):[]:At(e)}function Bt(e){return c(e,Mt(e))}function Dt(e){return M(e,Mt(e))}function Mt(e){if(null==e)return[];Et(e)||(e=Qt(e));var t=e.length;t=t&&Ve(t)&&(zr(e)||yt(e))&&t||0;for(var n=e.constructor,r=-1,i="function"==typeof n&&n.prototype===e,a=Ht(t),o=0<t;++r<t;)a[r]=r+"";for(var s in e)o&&Oe(s,t)||"constructor"==s&&(i||!sn.call(e,s))||a.push(s);return a}function Lt(e){e=He(e);for(var t=-1,n=Gr(e),r=n.length,i=Ht(r);++t<r;){var a=n[t];i[t]=[a,e[a]]}return i}function At(e){return $(e,Gr(e))}function Ot(e){return(e=yi(e))&&e.replace(Va,Ei).replace(Ma,"")}function Rt(e,t){var n="";if(e=yi(e),(t=+t)<1||!e||!Tn(t))return n;for(;t%2&&(n+=e),e+=e,t=kn(t/2););return n}function zt(e,t,n){var r=e;return(e=yi(e))?(n?Re(r,t,n):null==t)?e.slice(Ni(e),Si(e)+1):(t+="",e.slice(bi(e,t),wi(e,t)+1)):e}function jt(e,t,n){return n&&Re(e,t,n)&&(t=Di),(e=yi(e)).match(t||Xa)||[]}function Vt(e,t,n){return n&&Re(e,t,n)&&(t=Di),Ii(e)?qt(e):d(e,t)}function Ft(e){return e}function qt(e){return z(k(e,!0))}function Xt(r,e,t){if(null==t){var n=Et(e),i=n?Gr(e):Di,a=i&&i.length?M(e,i):Di;(a?a.length:n)||(a=!1,t=e,e=r,r=this)}a||(a=M(e,Gr(e)));var o=!0,s=-1,l=xt(r),u=a.length;!1===t?o=!1:Et(t)&&"chain"in t&&(o=t.chain);for(;++s<u;){var c=a[s],d=e[c];r[c]=d,l&&(r.prototype[c]=function(n){return function(){var e=this.__chain__;if(o||e){var t=r(this.__wrapped__);return(t.__actions__=N(this.__actions__)).push({func:n,args:arguments,thisArg:r}),t.__chain__=e,t}return n.apply(r,b([this.value()],arguments))}}(d))}return r}function Yt(){}function Wt(e){return ze(e)?V(e):(n=(t=e)+"",t=Ue(t),function(e){return L(e,t,n)});var t,n}var Ht=(t=t?Ga.defaults($a.Object(),t,Ga.pick($a,Ya)):$a).Array,Ut=t.Date,$t=t.Error,Gt=t.Function,Zt=t.Math,Kt=t.Number,Qt=t.Object,Jt=t.RegExp,en=t.String,tn=t.TypeError,nn=Ht.prototype,rn=Qt.prototype,an=en.prototype,on=Gt.prototype.toString,sn=rn.hasOwnProperty,ln=0,un=rn.toString,cn=$a._,dn=Jt("^"+on.call(sn).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),hn=t.ArrayBuffer,fn=t.clearTimeout,pn=t.parseFloat,vn=Zt.pow,gn=rn.propertyIsEnumerable,mn=Me(t,"Set"),yn=t.setTimeout,bn=nn.splice,wn=t.Uint8Array,xn=Me(t,"WeakMap"),En=Zt.ceil,_n=Me(Qt,"create"),kn=Zt.floor,Cn=Me(Ht,"isArray"),Tn=t.isFinite,In=Me(Qt,"keys"),Pn=Zt.max,Nn=Zt.min,Sn=Me(Ut,"now"),Bn=t.parseInt,Dn=Zt.random,Mn=Kt.NEGATIVE_INFINITY,Ln=Kt.POSITIVE_INFINITY,An=4294967295,On=An-1,Rn=An>>>1,zn=9007199254740991,jn=xn&&new xn,Vn={};g.support={},g.templateSettings={escape:Ca,evaluate:Ta,interpolate:Ia,variable:"",imports:{_:g}};var Fn,qn,Xn,Yn=function(){function n(){}return function(e){if(Et(e)){n.prototype=e;var t=new n;n.prototype=Di}return t||{}}}(),Wn=ae(B),Hn=ae(D,!0),Un=oe(),$n=oe(!0),Gn=jn?function(e,t){return jn.set(e,t),e}:Ft,Zn=jn?function(e){return jn.get(e)}:Yt,Kn=V("length"),Qn=(qn=Fn=0,function(e,t){var n=kr(),r=Hi-(n-qn);if(qn=n,0<r){if(++Fn>=Wi)return e}else Fn=0;return Gn(e,t)}),Jn=gt(function(e,t){return Ii(e)&&Ae(e)?p(e,P(t,!1,!0)):[]}),er=pe(),tr=pe(!0),nr=gt(function(e){for(var t=e.length,n=t,r=Ht(c),i=Be(),a=i==gi,o=[];n--;){var s=e[n]=Ae(s=e[n])?s:[];r[n]=a&&120<=s.length?se(n&&s):null}var l=e[0],u=-1,c=l?l.length:0,d=r[0];e:for(;++u<c;)if(s=l[u],(d?f(d,s):i(o,s,0))<0){for(n=t;--n;){var h=r[n];if((h?f(h,s):i(e[n],s,0))<0)continue e}d&&d.push(s),o.push(s)}return o}),rr=gt(function(e,t){var n=u(e,t=P(t));return F(e,t.sort(pi)),n}),ir=Ie(),ar=Ie(!0),or=gt(function(e){return U(P(e,!1,!0))}),sr=gt(function(e,t){return Ae(e)?p(e,t):[]}),lr=gt(nt),ur=gt(function(e){var t=e.length,n=2<t?e[t-2]:Di,r=1<t?e[t-1]:Di;return 2<t&&"function"==typeof n?t-=2:(n=1<t&&"function"==typeof r?(--t,r):Di,r=Di),e.length=t,rt(e,n,r)}),cr=gt(function(t){return t=P(t),this.thru(function(e){return function(e,t){for(var n=-1,r=e.length,i=-1,a=t.length,o=Ht(r+a);++n<r;)o[n]=e[n];for(;++i<a;)o[n++]=t[i];return o}(zr(e)?e:[He(e)],t)})}),dr=gt(function(e,t){return u(e,P(t))}),hr=re(function(e,t,n){sn.call(e,n)?++e[n]:e[n]=1}),fr=fe(Wn),pr=fe(Hn,!0),vr=me(y,Wn),gr=me(function(e,t){for(var n=e.length;n--&&!1!==t(e[n],n,e););return e},Hn),mr=re(function(e,t,n){sn.call(e,n)?e[n].push(t):e[n]=[t]}),yr=re(function(e,t,n){e[n]=t}),br=gt(function(e,n,r){var i=-1,a="function"==typeof n,o=ze(n),s=Ae(e)?Ht(e.length):[];return Wn(e,function(e){var t=a?n:o&&null!=e?e[n]:Di;s[++i]=t?t.apply(e,r):Le(e,n,r)}),s}),wr=re(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),xr=_e(l,Wn),Er=_e(function(e,t,n,r){var i=e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n},Hn),_r=gt(function(e,t){if(null==e)return[];var n=t[2];return n&&Re(t[0],t[1],n)&&(t.length=1),H(e,P(t),[])}),kr=Sn||function(){return(new Ut).getTime()},Cr=gt(function(e,t,n){var r=Li;if(n.length){var i=Pi(n,Cr.placeholder);r|=ji}return Pe(e,r,t,n,i)}),Tr=gt(function(e,t){for(var n=-1,r=(t=t.length?P(t):Dt(e)).length;++n<r;){var i=t[n];e[i]=Pe(e[i],Li,e)}return e}),Ir=gt(function(e,t,n){var r=Li|Ai;if(n.length){var i=Pi(n,Ir.placeholder);r|=ji}return Pe(t,r,e,n,i)}),Pr=ce(Ri),Nr=ce(zi),Sr=gt(function(e,t){return h(e,1,t)}),Br=gt(function(e,t,n){return h(e,t,n)}),Dr=ge(),Mr=ge(!0),Lr=gt(function(n,r){if(r=P(r),"function"!=typeof n||!o(r,mi))throw new tn(Zi);var i=r.length;return gt(function(e){for(var t=Nn(e.length,i);t--;)e[t]=r[t](e[t]);return n.apply(this,e)})}),Ar=Ee(ji),Or=Ee(Vi),Rr=gt(function(e,t){return Pe(e,qi,Di,Di,Di,P(t))}),zr=Cn||function(e){return Ii(e)&&Ve(e.length)&&un.call(e)==Ji},jr=ie(function a(o,s,l,u,c){if(!Et(o))return o;var d=Ae(s)&&(zr(s)||Pt(s)),h=d?Di:Gr(s);return y(h||s,function(e,t){if(h&&(e=s[t=e]),Ii(e))u||(u=[]),c||(c=[]),function(e,t,n,r,i,a,o){for(var s=a.length,l=t[n];s--;)if(a[s]==l)return e[n]=o[s];var u=e[n],c=i?i(u,l,n,e,t):Di,d=c===Di;d&&(Ae(c=l)&&(zr(l)||Pt(l))?c=zr(u)?u:Ae(u)?N(u):[]:Ct(l)||yt(l)?c=yt(u)?Bt(u):Ct(u)?u:{}:d=!1),a.push(l),o.push(c),d?e[n]=r(c,l,i,a,o):(c==c?c!==u:u==u)&&(e[n]=c)}(o,s,t,a,l,u,c);else{var n=o[t],r=l?l(n,e,t,o,s):Di,i=r===Di;i&&(r=e),r===Di&&(!d||t in o)||!i&&(r==r?r===n:n!=n)||(o[t]=r)}}),o}),Vr=ie(function(e,t,n){return n?E(e,t,n):_(e,t)}),Fr=de(Vr,function(e,t){return e===Di?t:e}),qr=de(jr,function e(t,n){return t===Di?n:jr(t,n,e)}),Xr=ve(B),Yr=ve(D),Wr=ye(Un),Hr=ye($n),Ur=be(B),$r=be(D),Gr=In?function(e){var t=null==e?Di:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&Ae(e)?Ye(e):Et(e)?In(e):[]}:Ye,Zr=we(!0),Kr=we(),Qr=gt(function(e,t){if(null==e)return{};if("function"!=typeof t[0])return t=s(P(t),en),qe(e,p(Mt(e),t));var r=J(t[0],t[1],3);return Xe(e,function(e,t,n){return!r(e,t,n)})}),Jr=gt(function(e,t){return null==e?{}:"function"==typeof t[0]?Xe(e,J(t[0],t[1],3)):qe(e,P(t))}),ei=le(function(e,t,n){return t=t.toLowerCase(),e+(n?t.charAt(0).toUpperCase()+t.slice(1):t)}),ti=le(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),ni=xe(),ri=xe(!0),ii=le(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),ai=le(function(e,t,n){return e+(n?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),oi=gt(function(e,t){try{return e.apply(Di,t)}catch(e){return wt(e)?e:new $t(e)}}),si=gt(function(t,n){return function(e){return Le(e,t,n)}}),li=gt(function(t,n){return function(e){return Le(t,e,n)}}),ui=Te("ceil"),ci=Te("floor"),di=he(mt,Mn),hi=he(Nt,Ln),fi=Te("round");return g.prototype=a.prototype,(v.prototype=Yn(a.prototype)).constructor=v,(m.prototype=Yn(a.prototype)).constructor=m,n.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},n.prototype.get=function(e){return"__proto__"==e?Di:this.__data__[e]},n.prototype.has=function(e){return"__proto__"!=e&&sn.call(this.__data__,e)},n.prototype.set=function(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this},r.prototype.push=function(e){var t=this.data;"string"==typeof e||Et(e)?t.set.add(e):t.hash[e]=!0},vt.Cache=n,g.after=function(e,t){if("function"!=typeof t){if("function"!=typeof e)throw new tn(Zi);var n=e;e=t,t=n}return e=Tn(e=+e)?e:0,function(){if(--e<1)return t.apply(this,arguments)}},g.ary=function(e,t,n){return n&&Re(e,t,n)&&(t=Di),t=e&&null==t?e.length:Pn(+t||0,0),Pe(e,Fi,Di,Di,Di,Di,t)},g.assign=Vr,g.at=dr,g.before=ft,g.bind=Cr,g.bindAll=Tr,g.bindKey=Ir,g.callback=Vt,g.chain=at,g.chunk=function(e,t,n){t=(n?Re(e,t,n):null==t)?1:Pn(kn(t)||1,1);for(var r=0,i=e?e.length:0,a=-1,o=Ht(En(i/t));r<i;)o[++a]=X(e,r,r+=t);return o},g.compact=function(e){for(var t=-1,n=e?e.length:0,r=-1,i=[];++t<n;){var a=e[t];a&&(i[++r]=a)}return i},g.constant=function(e){return function(){return e}},g.countBy=hr,g.create=function(e,t,n){var r=Yn(e);return n&&Re(e,t,n)&&(t=Di),t?_(r,t):r},g.curry=Pr,g.curryRight=Nr,g.debounce=pt,g.defaults=Fr,g.defaultsDeep=qr,g.defer=Sr,g.delay=Br,g.difference=Jn,g.drop=Ge,g.dropRight=Ze,g.dropRightWhile=function(e,t,n){return e&&e.length?G(e,Ne(t,n,3),!0,!0):[]},g.dropWhile=function(e,t,n){return e&&e.length?G(e,Ne(t,n,3),!0):[]},g.fill=function(e,t,n,r){var i=e?e.length:0;return i?(n&&"number"!=typeof n&&Re(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=null==n?0:+n||0)<0&&(n=i<-n?0:i+n),(r=r===Di||i<r?i:+r||0)<0&&(r+=i),i=r<n?0:r>>>0,n>>>=0;n<i;)e[n++]=t;return e}(e,t,n,r)):[]},g.filter=lt,g.flatten=function(e,t,n){var r=e?e.length:0;return n&&Re(e,t,n)&&(t=!1),r?P(e,t):[]},g.flattenDeep=function(e){return e&&e.length?P(e,!0):[]},g.flow=Dr,g.flowRight=Mr,g.forEach=vr,g.forEachRight=gr,g.forIn=Wr,g.forInRight=Hr,g.forOwn=Ur,g.forOwnRight=$r,g.functions=Dt,g.groupBy=mr,g.indexBy=yr,g.initial=function(e){return Ze(e,1)},g.intersection=nr,g.invert=function(e,t,n){n&&Re(e,t,n)&&(t=Di);for(var r=-1,i=Gr(e),a=i.length,o={};++r<a;){var s=i[r],l=e[s];t?sn.call(o,l)?o[l].push(s):o[l]=[s]:o[l]=s}return o},g.invoke=br,g.keys=Gr,g.keysIn=Mt,g.map=ct,g.mapKeys=Zr,g.mapValues=Kr,g.matches=qt,g.matchesProperty=function(e,t){return j(e,k(t,!0))},g.memoize=vt,g.merge=jr,g.method=si,g.methodOf=li,g.mixin=Xt,g.modArgs=Lr,g.negate=function(e){if("function"!=typeof e)throw new tn(Zi);return function(){return!e.apply(this,arguments)}},g.omit=Qr,g.once=function(e){return ft(2,e)},g.pairs=Lt,g.partial=Ar,g.partialRight=Or,g.partition=wr,g.pick=Jr,g.pluck=function(e,t){return ct(e,Wt(t))},g.property=Wt,g.propertyOf=function(t){return function(e){return L(t,Ue(e),e+"")}},g.pull=function(){var e=arguments,t=e[0];if(!t||!t.length)return t;for(var n=0,r=Be(),i=e.length;++n<i;)for(var a=0,o=e[n];-1<(a=r(t,o,a));)bn.call(t,a,1);return t},g.pullAt=rr,g.range=function(e,t,n){n&&Re(e,t,n)&&(t=n=Di),e=+e||0,null==t?(t=e,e=0):t=+t||0;for(var r=-1,i=Pn(En((t-e)/((n=null==n?1:+n||0)||1)),0),a=Ht(i);++r<i;)a[r]=e,e+=n;return a},g.rearg=Rr,g.reject=function(e,r,t){var n=zr(e)?i:T;return r=Ne(r,t,3),n(e,function(e,t,n){return!r(e,t,n)})},g.remove=function(e,t,n){var r=[];if(!e||!e.length)return r;var i=-1,a=[],o=e.length;for(t=Ne(t,n,3);++i<o;){var s=e[i];t(s,i,e)&&(r.push(s),a.push(i))}return F(e,a),r},g.rest=et,g.restParam=gt,g.set=function(e,t,n){if(null==e)return e;for(var r=t+"",i=-1,a=(t=null!=e[r]||ze(t,e)?[r]:Ue(t)).length,o=a-1,s=e;null!=s&&++i<a;){var l=t[i];Et(s)&&(i==o?s[l]=n:null==s[l]&&(s[l]=Oe(t[i+1])?[]:{})),s=s[l]}return e},g.shuffle=function(e){return dt(e,Ln)},g.slice=function(e,t,n){var r=e?e.length:0;return r?(n&&"number"!=typeof n&&Re(e,t,n)&&(t=0,n=r),X(e,t,n)):[]},g.sortBy=function(e,r,t){if(null==e)return[];t&&Re(e,r,t)&&(r=Di);var i=-1;return r=Ne(r,t,3),W(R(e,function(e,t,n){return{criteria:r(e,t,n),index:++i,value:e}}),xi)},g.sortByAll=_r,g.sortByOrder=function(e,t,n,r){return null==e?[]:(r&&Re(t,n,r)&&(n=Di),zr(t)||(t=null==t?[]:[t]),zr(n)||(n=null==n?[]:[n]),H(e,t,n))},g.spread=function(t){if("function"!=typeof t)throw new tn(Zi);return function(e){return t.apply(this,e)}},g.take=function(e,t,n){return e&&e.length?((n?Re(e,t,n):null==t)&&(t=1),X(e,0,t<0?0:t)):[]},g.takeRight=function(e,t,n){var r=e?e.length:0;return r?((n?Re(e,t,n):null==t)&&(t=1),X(e,(t=r-(+t||0))<0?0:t)):[]},g.takeRightWhile=function(e,t,n){return e&&e.length?G(e,Ne(t,n,3),!1,!0):[]},g.takeWhile=function(e,t,n){return e&&e.length?G(e,Ne(t,n,3)):[]},g.tap=function(e,t,n){return t.call(n,e),e},g.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new tn(Zi);return!1===n?r=!1:Et(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),pt(e,t,{leading:r,maxWait:+t,trailing:i})},g.thru=ot,g.times=function(e,t,n){if((e=kn(e))<1||!Tn(e))return[];var r=-1,i=Ht(Nn(e,An));for(t=J(t,n,1);++r<e;)r<An?i[r]=t(r):t(r);return i},g.toArray=St,g.toPlainObject=Bt,g.transform=function(e,r,i,t){var n=zr(e)||Pt(e);if(r=Ne(r,t,4),null==i)if(n||Et(e)){var a=e.constructor;i=n?zr(e)?new a:[]:Yn(xt(a)?a.prototype:Di)}else i={};return(n?y:B)(e,function(e,t,n){return r(i,e,t,n)}),i},g.union=or,g.uniq=tt,g.unzip=nt,g.unzipWith=rt,g.values=At,g.valuesIn=function(e){return $(e,Mt(e))},g.where=function(e,t){return lt(e,z(t))},g.without=sr,g.wrap=function(e,t){return Pe(t=null==t?Ft:t,ji,Di,[e],[])},g.xor=function(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(Ae(n))var r=r?b(p(r,n),p(n,r)):n}return r?U(r):[]},g.zip=lr,g.zipObject=it,g.zipWith=ur,g.backflow=Mr,g.collect=ct,g.compose=Mr,g.each=vr,g.eachRight=gr,g.extend=Vr,g.iteratee=Vt,g.methods=Dt,g.object=it,g.select=lt,g.tail=et,g.unique=tt,Xt(g,g),g.add=function(e,t){return(+e||0)+(+t||0)},g.attempt=oi,g.camelCase=ei,g.capitalize=function(e){return(e=yi(e))&&e.charAt(0).toUpperCase()+e.slice(1)},g.ceil=ui,g.clone=function(e,t,n,r){return t&&"boolean"!=typeof t&&Re(e,t,n)?t=!1:"function"==typeof t&&(r=n,n=t,t=!1),"function"==typeof n?k(e,t,J(n,r,1)):k(e,t)},g.cloneDeep=function(e,t,n){return"function"==typeof t?k(e,!0,J(t,n,1)):k(e,!0)},g.deburr=Ot,g.endsWith=function(e,t,n){t+="";var r=(e=yi(e)).length;return n=n===Di?r:Nn(n<0?0:+n||0,r),0<=(n-=t.length)&&e.indexOf(t,n)==n},g.escape=function(e){return(e=yi(e))&&ka.test(e)?e.replace(Ea,_i):e},g.escapeRegExp=function(e){return(e=yi(e))&&Da.test(e)?e.replace(Ba,ki):e||"(?:)"},g.every=st,g.find=fr,g.findIndex=er,g.findKey=Xr,g.findLast=pr,g.findLastIndex=tr,g.findLastKey=Yr,g.findWhere=function(e,t){return fr(e,z(t))},g.first=Ke,g.floor=ci,g.get=function(e,t,n){var r=null==e?Di:L(e,Ue(t),t+"");return r===Di?n:r},g.gt=mt,g.gte=function(e,t){return t<=e},g.has=function(e,t){if(null==e)return!1;var n=sn.call(e,t);if(!n&&!ze(t)){if(null==(e=1==(t=Ue(t)).length?e:L(e,X(t,0,-1))))return!1;t=Je(t),n=sn.call(e,t)}return n||Ve(e.length)&&Oe(t,e.length)&&(zr(e)||yt(e))},g.identity=Ft,g.includes=ut,g.indexOf=Qe,g.inRange=function(e,t,n){return t=+t||0,n===Di?(n=t,t=0):n=+n||0,e>=Nn(t,n)&&e<Pn(t,n)},g.isArguments=yt,g.isArray=zr,g.isBoolean=function(e){return!0===e||!1===e||Ii(e)&&un.call(e)==ea},g.isDate=function(e){return Ii(e)&&un.call(e)==ta},g.isElement=function(e){return!!e&&1===e.nodeType&&Ii(e)&&!Ct(e)},g.isEmpty=function(e){return null==e||(Ae(e)&&(zr(e)||It(e)||yt(e)||Ii(e)&&xt(e.splice))?!e.length:!Gr(e).length)},g.isEqual=bt,g.isError=wt,g.isFinite=function(e){return"number"==typeof e&&Tn(e)},g.isFunction=xt,g.isMatch=function(e,t,n,r){return n="function"==typeof n?J(n,r,3):Di,O(e,De(t),n)},g.isNaN=function(e){return kt(e)&&e!=+e},g.isNative=_t,g.isNull=function(e){return null===e},g.isNumber=kt,g.isObject=Et,g.isPlainObject=Ct,g.isRegExp=Tt,g.isString=It,g.isTypedArray=Pt,g.isUndefined=function(e){return e===Di},g.kebabCase=ti,g.last=Je,g.lastIndexOf=function(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=r;if("number"==typeof n)i=(n<0?Pn(r+n,0):Nn(n||0,r-1))+1;else if(n){var a=e[i=K(e,t,!0)-1];return(t==t?t===a:a!=a)?i:-1}if(t!=t)return Ti(e,i,!0);for(;i--;)if(e[i]===t)return i;return-1},g.lt=Nt,g.lte=function(e,t){return e<=t},g.max=di,g.min=hi,g.noConflict=function(){return $a._=cn,this},g.noop=Yt,g.now=kr,g.pad=function(e,t,n){t=+t;var r=(e=yi(e)).length;if(t<=r||!Tn(t))return e;var i=(t-r)/2,a=kn(i);return(n=Ce("",En(i),n)).slice(0,a)+e+n},g.padLeft=ni,g.padRight=ri,g.parseInt=function(e,t,n){return(n?Re(e,t,n):null==t)?t=0:t&&(t=+t),e=zt(e),Bn(e,t||(Ra.test(e)?16:10))},g.random=function(e,t,n){n&&Re(e,t,n)&&(t=n=Di);var r=null==e,i=null==t;if(null==n&&(i&&"boolean"==typeof e?(n=e,e=1):"boolean"==typeof t&&(n=t,i=!0)),r&&i&&(i=!(t=1)),e=+e||0,i?(t=e,e=0):t=+t||0,n||e%1||t%1){var a=Dn();return Nn(e+a*(t-e+pn("1e-"+((a+"").length-1))),t)}return q(e,t)},g.reduce=xr,g.reduceRight=Er,g.repeat=Rt,g.result=function(e,t,n){var r=null==e?Di:e[t];return r===Di&&(null==e||ze(t,e)||(r=null==(e=1==(t=Ue(t)).length?e:L(e,X(t,0,-1)))?Di:e[Je(t)]),r=r===Di?n:r),xt(r)?r.call(e):r},g.round=fi,g.runInContext=e,g.size=function(e){var t=e?Kn(e):0;return Ve(t)?t:Gr(e).length},g.snakeCase=ii,g.some=ht,g.sortedIndex=ir,g.sortedLastIndex=ar,g.startCase=ai,g.startsWith=function(e,t,n){return e=yi(e),n=null==n?0:Nn(n<0?0:+n||0,e.length),e.lastIndexOf(t,n)==n},g.sum=function(e,t,n){return n&&Re(e,t,n)&&(t=Di),1==(t=Ne(t,n,3)).length?function(e,t){for(var n=e.length,r=0;n--;)r+=+t(e[n])||0;return r}(zr(e)?e:We(e),t):(r=t,i=0,Wn(e,function(e,t,n){i+=+r(e,t,n)||0}),i);var r,i},g.template=function(o,e,t){var n=g.templateSettings;t&&Re(o,e,t)&&(e=t=Di),o=yi(o);var s,l,r=E(_({},(e=E(_({},t||e),n,x)).imports),n.imports,x),i=Gr(r),a=$(r,i),u=0,c=e.interpolate||Fa,d="__p += '",h=Jt((e.escape||Fa).source+"|"+c.source+"|"+(c===Ia?Aa:Fa).source+"|"+(e.evaluate||Fa).source+"|$","g"),f="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++Wa+"]")+"\n";o.replace(h,function(e,t,n,r,i,a){return n||(n=r),d+=o.slice(u,a).replace(qa,Ci),t&&(s=!0,d+="' +\n__e("+t+") +\n'"),i&&(l=!0,d+="';\n"+i+";\n__p += '"),n&&(d+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),u=a+e.length,e}),d+="';\n";var p=e.variable;p||(d="with (obj) {\n"+d+"\n}\n"),d=(l?d.replace(ya,""):d).replace(ba,"$1").replace(wa,"$1;"),d="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(l?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var v=oi(function(){return Gt(i,f+"return "+d).apply(Di,a)});if(v.source=d,wt(v))throw v;return v},g.trim=zt,g.trimLeft=function(e,t,n){var r=e;return(e=yi(e))?(n?Re(r,t,n):null==t)?e.slice(Ni(e)):e.slice(bi(e,t+"")):e},g.trimRight=function(e,t,n){var r=e;return(e=yi(e))?(n?Re(r,t,n):null==t)?e.slice(0,Si(e)+1):e.slice(0,wi(e,t+"")+1):e},g.trunc=function(e,t,n){n&&Re(e,t,n)&&(t=Di);var r=Xi,i=Yi;if(null!=t)if(Et(t)){var a="separator"in t?t.separator:a;r="length"in t?+t.length||0:r,i="omission"in t?yi(t.omission):i}else r=+t||0;if(r>=(e=yi(e)).length)return e;var o=r-i.length;if(o<1)return i;var s=e.slice(0,o);if(null==a)return s+i;if(Tt(a)){if(e.slice(o).search(a)){var l,u,c=e.slice(0,o);for(a.global||(a=Jt(a.source,(Oa.exec(a)||"")+"g")),a.lastIndex=0;l=a.exec(c);)u=l.index;s=s.slice(0,null==u?o:u)}}else if(e.indexOf(a,o)!=o){var d=s.lastIndexOf(a);-1<d&&(s=s.slice(0,d))}return s+i},g.unescape=function(e){return(e=yi(e))&&_a.test(e)?e.replace(xa,Bi):e},g.uniqueId=function(e){var t=++ln;return yi(e)+t},g.words=jt,g.all=st,g.any=ht,g.contains=ut,g.eq=bt,g.detect=fr,g.foldl=xr,g.foldr=Er,g.head=Ke,g.include=ut,g.inject=xr,Xt(g,(Xn={},B(g,function(e,t){g.prototype[t]||(Xn[t]=e)}),Xn),!1),g.sample=dt,g.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(e){return dt(e,t)}):dt(this.value())},g.VERSION=Mi,y(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){g[e].placeholder=g}),y(["drop","take"],function(r,i){m.prototype[r]=function(e){var t=this.__filtered__;if(t&&!i)return new m(this);e=null==e?1:Pn(kn(e)||0,0);var n=this.clone();return t?n.__takeCount__=Nn(n.__takeCount__,e):n.__views__.push({size:e,type:r+(n.__dir__<0?"Right":"")}),n},m.prototype[r+"Right"]=function(e){return this.reverse()[r](e).reverse()}}),y(["filter","map","takeWhile"],function(e,t){var r=t+1,i=r!=Gi;m.prototype[e]=function(e,t){var n=this.clone();return n.__iteratees__.push({iteratee:Ne(e,t,1),type:r}),n.__filtered__=n.__filtered__||i,n}}),y(["first","last"],function(e,t){var n="take"+(t?"Right":"");m.prototype[e]=function(){return this[n](1).value()[0]}}),y(["initial","rest"],function(e,t){var n="drop"+(t?"":"Right");m.prototype[e]=function(){return this.__filtered__?new m(this):this[n](1)}}),y(["pluck","where"],function(e,t){var n=t?"filter":"map",r=t?z:Wt;m.prototype[e]=function(e){return this[n](r(e))}}),m.prototype.compact=function(){return this.filter(Ft)},m.prototype.reject=function(t,e){return t=Ne(t,e,1),this.filter(function(e){return!t(e)})},m.prototype.slice=function(e,t){e=null==e?0:+e||0;var n=this;return n.__filtered__&&(0<e||t<0)?new m(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==Di&&(n=(t=+t||0)<0?n.dropRight(-t):n.take(t-e)),n)},m.prototype.takeRightWhile=function(e,t){return this.reverse().takeWhile(e,t).reverse()},m.prototype.toArray=function(){return this.take(Ln)},B(m.prototype,function(d,e){var h=/^(?:filter|map|reject)|While$/.test(e),f=/^(?:first|last)$/.test(e),p=g[f?"take"+("last"==e?"Right":""):e];p&&(g.prototype[e]=function(){var t=f?[1]:arguments,n=this.__chain__,e=this.__wrapped__,r=!!this.__actions__.length,i=e instanceof m,a=t[0],o=i||zr(e);o&&h&&"function"==typeof a&&1!=a.length&&(i=o=!1);var s=function(e){return f&&n?p(e,1)[0]:p.apply(Di,b([e],t))},l={func:ot,args:[s],thisArg:Di},u=i&&!r;if(f&&!n)return u?((e=e.clone()).__actions__.push(l),d.call(e)):p.call(Di,this.value())[0];if(f||!o)return this.thru(s);e=u?e:new m(this);var c=d.apply(e,t);return c.__actions__.push(l),new v(c,n)})}),y(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(e){var n=(/^(?:replace|split)$/.test(e)?an:nn)[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:join|pop|replace|shift)$/.test(e);g.prototype[e]=function(){var t=arguments;return i&&!this.__chain__?n.apply(this.value(),t):this[r](function(e){return n.apply(e,t)})}}),B(m.prototype,function(e,t){var n=g[t];if(n){var r=n.name;(Vn[r]||(Vn[r]=[])).push({name:t,func:n})}}),Vn[ke(Di,Ai).name]=[{name:"wrapper",func:Di}],m.prototype.clone=function(){var e=new m(this.__wrapped__);return e.__actions__=N(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=N(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=N(this.__views__),e},m.prototype.reverse=function(){if(this.__filtered__){var e=new m(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},m.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=zr(e),r=t<0,i=n?e.length:0,a=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var a=n[r],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=Nn(t,e+o);break;case"takeRight":e=Pn(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=a.start,s=a.end,l=s-o,u=r?s:o-1,c=this.__iteratees__,d=c.length,h=0,f=Nn(l,this.__takeCount__);if(!n||i<Ui||i==l&&f==l)return Z(r&&n?e.reverse():e,this.__actions__);var p=[];e:for(;l--&&h<f;){for(var v=-1,g=e[u+=t];++v<d;){var m=c[v],y=m.iteratee,b=m.type,w=y(g);if(b==Gi)g=w;else if(!w){if(b==$i)continue e;break e}}p[h++]=g}return p},g.prototype.chain=function(){return at(this)},g.prototype.commit=function(){return new v(this.value(),this.__chain__)},g.prototype.concat=cr,g.prototype.plant=function(e){for(var t,n=this;n instanceof a;){var r=$e(n);t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},g.prototype.reverse=function(){var e=this.__wrapped__,t=function(e){return n&&n.__dir__<0?e:e.reverse()};if(e instanceof m){var n=e;return this.__actions__.length&&(n=new m(this)),(n=n.reverse()).__actions__.push({func:ot,args:[t],thisArg:Di}),new v(n,this.__chain__)}return this.thru(t)},g.prototype.toString=function(){return this.value()+""},g.prototype.run=g.prototype.toJSON=g.prototype.valueOf=g.prototype.value=function(){return Z(this.__wrapped__,this.__actions__)},g.prototype.collect=g.prototype.map,g.prototype.head=g.prototype.first,g.prototype.select=g.prototype.filter,g.prototype.tail=g.prototype.rest,g}();h&&f?m?(f.exports=Ga)._=Ga:h._=Ga:$a._=Ga}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)}),function(){"use strict";var n=function(e,y){function t(e){var t=this.options={};for(var n in r)t[n]=r[n];for(var n in e)t[n]=e[n]}if(e&&y){var r={nodeSep:void 0,edgeSep:void 0,rankSep:void 0,rankDir:void 0,minLen:function(e){return 1},edgeWeight:function(e){return 1},fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,boundingBox:void 0,ready:function(){},stop:function(){}};t.prototype.run=function(){var r=this.options,e=r.cy,t=r.eles,n=function(e,t){return"function"==typeof t?t.apply(e,[e]):t},i=r.boundingBox||{x1:0,y1:0,w:e.width(),h:e.height()};void 0===i.x2&&(i.x2=i.x1+i.w),void 0===i.w&&(i.w=i.x2-i.x1),void 0===i.y2&&(i.y2=i.y1+i.h),void 0===i.h&&(i.h=i.y2-i.y1);var a,o=new y.graphlib.Graph({multigraph:!0,compound:!0}),s={},l=function(e,t){null!=t&&(s[e]=t)};l("nodesep",r.nodeSep),l("edgesep",r.edgeSep),l("ranksep",r.rankSep),l("rankdir",r.rankDir),o.setGraph(s),o.setDefaultEdgeLabel(function(){return{}}),o.setDefaultNodeLabel(function(){return{}});for(var u=t.nodes(),c=0;c<u.length;c++){var d=(h=u[c]).boundingBox();o.setNode(h.id(),{width:d.w,height:d.h,name:h.id()})}for(c=0;c<u.length;c++){var h;(h=u[c]).isChild()&&o.setParent(h.id(),h.parent().id())}var f=t.edges().stdFilter(function(e){return!e.source().isParent()&&!e.target().isParent()});for(c=0;c<f.length;c++){var p=f[c];o.setEdge(p.source().id(),p.target().id(),{minlen:n(p,r.minLen),weight:n(p,r.edgeWeight),name:p.id()},p.id())}y.layout(o);var v=o.nodes();for(c=0;c<v.length;c++){var g=v[c],m=o.node(g);e.getElementById(g).scratch().dagre=m}r.boundingBox?(a={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0},u.forEach(function(e){var t=e.scratch().dagre;a.x1=Math.min(a.x1,t.x),a.x2=Math.max(a.x2,t.x),a.y1=Math.min(a.y1,t.y),a.y2=Math.max(a.y2,t.y)}),a.w=a.x2-a.x1,a.h=a.y2-a.y1):a=i;return u.layoutPositions(this,r,function(e){var t=(e="object"==typeof e?e:this).scratch().dagre;return function(e){if(r.boundingBox){var t=0===a.w?0:(e.x-a.x1)/a.w,n=0===a.h?0:(e.y-a.y1)/a.h;return{x:i.x1+t*i.w,y:i.y1+n*i.h}}return e}({x:t.x,y:t.y})}),this},e("layout","dagre",t)}};"undefined"!=typeof module&&module.exports?module.exports=function(e,t){n(e,t||require("dagre"))}:"undefined"!=typeof define&&define.amd&&define("cytoscape-dagre",function(){return n}),"undefined"!=typeof cytoscape&&"undefined"!=typeof dagre&&n(cytoscape,dagre)}(),function(e){var t="object"==typeof window&&window||"object"==typeof self&&self;"undefined"!=typeof exports?e(exports):t&&(t.hljs=e({}),"function"==typeof define&&define.amd&&define([],function(){return t.hljs}))}(function(i){function y(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function h(e){return e.nodeName.toLowerCase()}function b(e,t){var n=e&&e.exec(t);return n&&0===n.index}function f(e){return r.test(e)}function u(e){var t,n={},r=Array.prototype.slice.call(arguments,1);for(t in e)n[t]=e[t];return r.forEach(function(e){for(t in e)n[t]=e[t]}),n}function p(e){var i=[];return function e(t,n){for(var r=t.firstChild;r;r=r.nextSibling)3===r.nodeType?n+=r.nodeValue.length:1===r.nodeType&&(i.push({event:"start",offset:n,node:r}),n=e(r,n),h(r).match(/br|hr|img|input/)||i.push({event:"stop",offset:n,node:r}));return n}(e,0),i}function w(o){function s(e){return e&&e.source||e}function l(e,t){return new RegExp(s(e),"m"+(o.cI?"i":"")+(t?"g":""))}!function t(n,e){if(!n.compiled){if(n.compiled=!0,n.k=n.k||n.bK,n.k){var r={},i=function(n,e){o.cI&&(e=e.toLowerCase()),e.split(" ").forEach(function(e){var t=e.split("|");r[t[0]]=[n,t[1]?Number(t[1]):1]})};"string"==typeof n.k?i("keyword",n.k):c(n.k).forEach(function(e){i(e,n.k[e])}),n.k=r}n.lR=l(n.l||/\w+/,!0),e&&(n.bK&&(n.b="\\b("+n.bK.split(" ").join("|")+")\\b"),n.b||(n.b=/\B|\b/),n.bR=l(n.b),n.e||n.eW||(n.e=/\B|\b/),n.e&&(n.eR=l(n.e)),n.tE=s(n.e)||"",n.eW&&e.tE&&(n.tE+=(n.e?"|":"")+e.tE)),n.i&&(n.iR=l(n.i)),null==n.r&&(n.r=1),n.c||(n.c=[]),n.c=Array.prototype.concat.apply([],n.c.map(function(e){return(t="self"===e?n:e).v&&!t.cached_variants&&(t.cached_variants=t.v.map(function(e){return u(t,{v:null},e)})),t.cached_variants||t.eW&&[u(t)]||[t];var t})),n.c.forEach(function(e){t(e,n)}),n.starts&&t(n.starts,e);var a=n.c.map(function(e){return e.bK?"\\.?("+e.b+")\\.?":e.b}).concat([n.tE,n.i]).map(s).filter(Boolean);n.t=a.length?l(a.join("|"),!0):{exec:function(){return null}}}}(o)}function x(e,t,s,n){function l(e,t,n,r){var i='<span class="'+(r?"":I.classPrefix);return(i+=e+'">')+t+(n?"":T)}function u(){f+=null!=h.sL?function(){var e="string"==typeof h.sL;if(e&&!k[h.sL])return y(p);var t=e?x(h.sL,p,!0,a[h.sL]):E(p,h.sL.length?h.sL:void 0);return 0<h.r&&(v+=t.r),e&&(a[h.sL]=t.top),l(t.language,t.value,!1,!0)}():function(){var e,t,n,r,i,a,o;if(!h.k)return y(p);for(r="",t=0,h.lR.lastIndex=0,n=h.lR.exec(p);n;)r+=y(p.substring(t,n.index)),i=h,a=n,o=d.cI?a[0].toLowerCase():a[0],(e=i.k.hasOwnProperty(o)&&i.k[o])?(v+=e[1],r+=l(e[0],y(n[0]))):r+=y(n[0]),t=h.lR.lastIndex,n=h.lR.exec(p);return r+y(p.substr(t))}(),p=""}function c(e){f+=e.cN?l(e.cN,"",!0):"",h=Object.create(e,{parent:{value:h}})}function r(e,t){if(p+=e,null==t)return u(),0;var n=function(e,t){var n,r;for(n=0,r=t.c.length;n<r;n++)if(b(t.c[n].bR,e))return t.c[n]}(t,h);if(n)return n.skip?p+=t:(n.eB&&(p+=t),u(),n.rB||n.eB||(p=t)),c(n),n.rB?0:t.length;var r,i,a=function e(t,n){if(b(t.eR,n)){for(;t.endsParent&&t.parent;)t=t.parent;return t}return t.eW?e(t.parent,n):void 0}(h,t);if(a){var o=h;for(o.skip?p+=t:(o.rE||o.eE||(p+=t),u(),o.eE&&(p=t));h.cN&&(f+=T),h.skip||(v+=h.r),(h=h.parent)!==a.parent;);return a.starts&&c(a.starts),o.rE?0:t.length}if(r=t,i=h,!s&&b(i.iR,r))throw new Error('Illegal lexeme "'+t+'" for mode "'+(h.cN||"<unnamed>")+'"');return p+=t,t.length||1}var d=_(e);if(!d)throw new Error('Unknown language: "'+e+'"');w(d);var i,h=n||d,a={},f="";for(i=h;i!==d;i=i.parent)i.cN&&(f=l(i.cN,"",!0)+f);var p="",v=0;try{for(var o,g,m=0;h.t.lastIndex=m,o=h.t.exec(t);)g=r(t.substring(m,o.index),o[0]),m=o.index+g;for(r(t.substr(m)),i=h;i.parent;i=i.parent)i.cN&&(f+=T);return{r:v,value:f,language:e,top:h}}catch(e){if(e.message&&-1!==e.message.indexOf("Illegal"))return{r:0,value:y(t)};throw e}}function E(n,e){e=e||I.languages||c(k);var r={r:0,value:y(n)},i=r;return e.filter(_).forEach(function(e){var t=x(e,n,!1);t.language=e,t.r>i.r&&(i=t),t.r>r.r&&(i=r,r=t)}),i.language&&(r.second_best=i),r}function v(e){return I.tabReplace||I.useBR?e.replace(a,function(e,t){return I.useBR&&"\n"===e?"<br>":I.tabReplace?t.replace(/\t/g,I.tabReplace):""}):e}function t(e){var t,n,r,i,a,o,s,l,u,c,d=function(e){var t,n,r,i,a=e.className+" ";if(a+=e.parentNode?e.parentNode.className:"",n=C.exec(a))return _(n[1])?n[1]:"no-highlight";for(t=0,r=(a=a.split(/\s+/)).length;t<r;t++)if(f(i=a[t])||_(i))return i}(e);f(d)||(I.useBR?(t=document.createElementNS("http://www.w3.org/1999/xhtml","div")).innerHTML=e.innerHTML.replace(/\n/g,"").replace(/<br[ \/]*>/g,"\n"):t=e,a=t.textContent,r=d?x(d,a,!0):E(a),(n=p(t)).length&&((i=document.createElementNS("http://www.w3.org/1999/xhtml","div")).innerHTML=r.value,r.value=function(e,t,n){function r(){return e.length&&t.length?e[0].offset!==t[0].offset?e[0].offset<t[0].offset?e:t:"start"===t[0].event?e:t:e.length?e:t}function i(e){l+="<"+h(e)+g.map.call(e.attributes,function(e){return" "+e.nodeName+'="'+y(e.value).replace('"',"&quot;")+'"'}).join("")+">"}function a(e){l+="</"+h(e)+">"}function o(e){("start"===e.event?i:a)(e.node)}for(var s=0,l="",u=[];e.length||t.length;){var c=r();if(l+=y(n.substring(s,c[0].offset)),s=c[0].offset,c===e){for(u.reverse().forEach(a);o(c.splice(0,1)[0]),(c=r())===e&&c.length&&c[0].offset===s;);u.reverse().forEach(i)}else"start"===c[0].event?u.push(c[0].node):u.pop(),o(c.splice(0,1)[0])}return l+y(n.substr(s))}(n,p(i),a)),r.value=v(r.value),e.innerHTML=r.value,e.className=(o=e.className,s=d,l=r.language,u=s?m[s]:l,c=[o.trim()],o.match(/\bhljs\b/)||c.push("hljs"),-1===o.indexOf(u)&&c.push(u),c.join(" ").trim()),e.result={language:r.language,re:r.r},r.second_best&&(e.second_best={language:r.second_best.language,re:r.second_best.r}))}function n(){if(!n.called){n.called=!0;var e=document.querySelectorAll("pre code");g.forEach.call(e,t)}}function _(e){return e=(e||"").toLowerCase(),k[e]||k[m[e]]}var g=[],c=Object.keys,k={},m={},r=/^(no-?highlight|plain|text)$/i,C=/\blang(?:uage)?-([\w-]+)\b/i,a=/((^(<[^>]+>|\t|)+|(?:\n)))/gm,T="</span>",I={classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:void 0};return i.highlight=x,i.highlightAuto=E,i.fixMarkup=v,i.highlightBlock=t,i.configure=function(e){I=u(I,e)},i.initHighlighting=n,i.initHighlightingOnLoad=function(){addEventListener("DOMContentLoaded",n,!1),addEventListener("load",n,!1)},i.registerLanguage=function(t,e){var n=k[t]=e(i);n.aliases&&n.aliases.forEach(function(e){m[e]=t})},i.listLanguages=function(){return c(k)},i.getLanguage=_,i.inherit=u,i.IR="[a-zA-Z]\\w*",i.UIR="[a-zA-Z_]\\w*",i.NR="\\b\\d+(\\.\\d+)?",i.CNR="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",i.BNR="\\b(0b[01]+)",i.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",i.BE={b:"\\\\[\\s\\S]",r:0},i.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[i.BE]},i.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[i.BE]},i.PWM={b:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},i.C=function(e,t,n){var r=i.inherit({cN:"comment",b:e,e:t,c:[]},n||{});return r.c.push(i.PWM),r.c.push({cN:"doctag",b:"(?:TODO|FIXME|NOTE|BUG|XXX):",r:0}),r},i.CLCM=i.C("//","$"),i.CBCM=i.C("/\\*","\\*/"),i.HCM=i.C("#","$"),i.NM={cN:"number",b:i.NR,r:0},i.CNM={cN:"number",b:i.CNR,r:0},i.BNM={cN:"number",b:i.BNR,r:0},i.CSSNM={cN:"number",b:i.NR+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",r:0},i.RM={cN:"regexp",b:/\//,e:/\/[gimuy]*/,i:/\n/,c:[i.BE,{b:/\[/,e:/\]/,r:0,c:[i.BE]}]},i.TM={cN:"title",b:i.IR,r:0},i.UTM={cN:"title",b:i.UIR,r:0},i.METHOD_GUARD={b:"\\.\\s*"+i.UIR,r:0},i}),hljs.registerLanguage("xml",function(e){var t={eW:!0,i:/</,r:0,c:[{cN:"attr",b:"[A-Za-z0-9\\._:-]+",r:0},{b:/=\s*/,r:0,c:[{cN:"string",endsParent:!0,v:[{b:/"/,e:/"/},{b:/'/,e:/'/},{b:/[^\s"'=<>`]+/}]}]}]};return{aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist"],cI:!0,c:[{cN:"meta",b:"<!DOCTYPE",e:">",r:10,c:[{b:"\\[",e:"\\]"}]},e.C("\x3c!--","--\x3e",{r:10}),{b:"<\\!\\[CDATA\\[",e:"\\]\\]>",r:10},{b:/<\?(php)?/,e:/\?>/,sL:"php",c:[{b:"/\\*",e:"\\*/",skip:!0}]},{cN:"tag",b:"<style(?=\\s|>|$)",e:">",k:{name:"style"},c:[t],starts:{e:"</style>",rE:!0,sL:["css","xml"]}},{cN:"tag",b:"<script(?=\\s|>|$)",e:">",k:{name:"script"},c:[t],starts:{e:"<\/script>",rE:!0,sL:["actionscript","javascript","handlebars","xml"]}},{cN:"meta",v:[{b:/<\?xml/,e:/\?>/,r:10},{b:/<\?\w+/,e:/\?>/}]},{cN:"tag",b:"</?",e:"/?>",c:[{cN:"name",b:/[^\/><\s]+/,r:0},t]}]}});